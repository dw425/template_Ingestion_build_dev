<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<template encoding-version="1.3">
    <description></description>
    <groupId>09d6839e-018f-1000-2aec-5e959cc2b573</groupId>
    <name>ICN8 NiFi flows 2025-05-06</name>
    <snippet>
        <controllerServices>
            <id>95455bef-8076-3037-0000-000000000000</id>
            <parentGroupId>5e4b0144-00c8-3b03-0000-000000000000</parentGroupId>
            <versionedComponentId>95455bef-8076-3037-9549-b10a2c3bcde9</versionedComponentId>
            <bulletinLevel>WARN</bulletinLevel>
            <bundle>
                <artifact>nifi-distributed-cache-services-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.23.2</version>
            </bundle>
            <comments></comments>
            <descriptors>
                <entry>
                    <key>Server Hostname</key>
                    <value>
                        <name>Server Hostname</name>
                    </value>
                </entry>
                <entry>
                    <key>Server Port</key>
                    <value>
                        <name>Server Port</name>
                    </value>
                </entry>
                <entry>
                    <key>SSL Context Service</key>
                    <value>
                        <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                        <name>SSL Context Service</name>
                    </value>
                </entry>
                <entry>
                    <key>Communications Timeout</key>
                    <value>
                        <name>Communications Timeout</name>
                    </value>
                </entry>
            </descriptors>
            <name>DistributedMapCacheClientService</name>
            <persistsState>false</persistsState>
            <properties>
                <entry>
                    <key>Server Hostname</key>
                    <value>localhost</value>
                </entry>
                <entry>
                    <key>Server Port</key>
                    <value>4557</value>
                </entry>
                <entry>
                    <key>SSL Context Service</key>
                </entry>
                <entry>
                    <key>Communications Timeout</key>
                    <value>30 secs</value>
                </entry>
            </properties>
            <state>ENABLED</state>
            <type>org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService</type>
        </controllerServices>
        <processGroups>
            <id>1c102a05-5bbe-3bff-0000-000000000000</id>
            <parentGroupId>5e4b0144-00c8-3b03-0000-000000000000</parentGroupId>
            <position>
                <x>0.0</x>
                <y>0.0</y>
            </position>
            <versionedComponentId>1c102a05-5bbe-3bff-ae74-ade568122e70</versionedComponentId>
            <comments></comments>
            <contents>
                <connections>
                    <id>03aebe83-a8f0-3bca-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>03aebe83-a8f0-3bca-ac79-e3742446f4a4</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>2676f21a-d254-3b27-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>2676f21a-d254-3b27-83a0-1069e475d76e</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>output stream</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>3bffc47e-9b9f-3c3e-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3bffc47e-9b9f-3c3e-86cd-392afb465ef0</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>086db912-7232-3165-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>086db912-7232-3165-aeb6-7319d6efb91e</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>1203.54345703125</x>
                        <y>2413.45166015625</y>
                    </bends>
                    <destination>
                        <groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
                        <id>7c850c8f-4954-3908-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>7c850c8f-4954-3908-9e8c-232ec511d5e5</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>alternative_load_script</selectedRelationships>
                    <selectedRelationships>unmatched</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>feafb69b-806a-3187-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>feafb69b-806a-3187-a29e-4ef2402f1bbc</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>151b2414-49a8-3607-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>151b2414-49a8-3607-a198-0c277f431c0b</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
                        <id>d7fd7348-60bd-3927-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>d7fd7348-60bd-3927-96b3-0812da51f0c7</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>output stream</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>3b288ab0-7da2-3ad4-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3b288ab0-7da2-3ad4-ab93-383fb5ba816d</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>16190d64-b4e0-3cf2-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>16190d64-b4e0-3cf2-b04c-9c38514e29ef</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>1868.57373046875</x>
                        <y>1394.914306640625</y>
                    </bends>
                    <destination>
                        <groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
                        <id>06302b9b-33c1-3538-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>06302b9b-33c1-3538-a316-9a69488c7ea9</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>yes</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>a53d0c16-f9b9-3d46-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>a53d0c16-f9b9-3d46-86b8-9f6fa406a525</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>1f742827-3809-3638-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>1f742827-3809-3638-aef7-db54d5bf2d9d</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>131d227e-e3cb-32fa-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>131d227e-e3cb-32fa-9878-dbb7a61a4f0a</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>acc6fcc9-e238-3537-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>acc6fcc9-e238-3537-8ab3-497668f71838</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>1fb3a1e5-88e6-3538-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>1fb3a1e5-88e6-3538-aa13-352cb06dcdb0</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>4441.408203125</x>
                        <y>1520.3236083984375</y>
                    </bends>
                    <destination>
                        <groupId>a850519f-c032-3343-0000-000000000000</groupId>
                        <id>08fd4f3d-d49b-31de-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>08fd4f3d-d49b-31de-9e7e-79a7418b3a83</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
                        <id>0d255ab7-7b62-30fd-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>0d255ab7-7b62-30fd-adef-1c176e992ac5</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>1fbb4335-38d8-38ea-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>1fbb4335-38d8-38ea-9bf2-7dc5923ffc8c</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>acc6fcc9-e238-3537-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>acc6fcc9-e238-3537-8ab3-497668f71838</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
                        <id>2844d8d4-6248-33ae-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>2844d8d4-6248-33ae-96c7-81bf34bb9bc8</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>23dfd60a-d3fa-3d10-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>23dfd60a-d3fa-3d10-adf2-1e6ad73ed307</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>3cbe255d-d311-3cd6-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3cbe255d-d311-3cd6-8983-655692afdfb9</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
                        <id>49bf1a52-8ad8-32d1-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>49bf1a52-8ad8-32d1-8d55-e3de568c6677</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>240b59fb-302c-35e6-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>240b59fb-302c-35e6-8cf0-f42c66f99b83</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>3021.8369140625</x>
                        <y>2386.6181640625</y>
                    </bends>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>01822d1f-4c1d-3770-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>01822d1f-4c1d-3770-a993-d82bfa3a525b</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
                        <id>bf88f526-323d-3b04-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>bf88f526-323d-3b04-9499-2937d3550d64</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>3bd7e946-1f1a-3d51-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>3bd7e946-1f1a-3d51-9797-f960705fab1a</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>98707407-02c4-3ded-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>98707407-02c4-3ded-94c8-05b7355544f0</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>b7179d88-c85a-3083-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>b7179d88-c85a-3083-96a5-954323c0843f</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>454597d8-5649-38b2-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>454597d8-5649-38b2-ae25-dac0c00136ff</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>56a4ac68-40b9-31e2-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>56a4ac68-40b9-31e2-99db-d9875ec24ef3</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>3b288ab0-7da2-3ad4-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3b288ab0-7da2-3ad4-ab93-383fb5ba816d</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>4bc1b9e1-afd0-3d8e-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>4bc1b9e1-afd0-3d8e-b517-82a4aeb6f1ab</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>da357b13-b37f-304b-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>da357b13-b37f-304b-a8fc-f60dfb22b2ee</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>unmatched</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>e59ae295-95c0-356d-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>e59ae295-95c0-356d-a462-807e28b48e06</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>4e6ce4ee-e58c-33ba-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>4e6ce4ee-e58c-33ba-acfe-628d9cbab5a2</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>3cbe255d-d311-3cd6-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3cbe255d-d311-3cd6-8983-655692afdfb9</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>ebdacac6-3896-3922-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>ebdacac6-3896-3922-964d-6ec979629c62</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>54bd68bd-b1ed-3a9e-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>54bd68bd-b1ed-3a9e-95d1-b8e78a344877</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>fcc853df-8a72-3bf6-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>fcc853df-8a72-3bf6-b768-4a8dd1d31529</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>41b12378-a2d1-327f-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>41b12378-a2d1-327f-9746-ed2ecb19b0d7</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>54df2032-589b-31a1-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>54df2032-589b-31a1-b166-f270dbf65b11</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
                        <id>cae29d76-7e1e-3c3e-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>cae29d76-7e1e-3c3e-ac92-290106477dce</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>aggregator</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>01822d1f-4c1d-3770-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>01822d1f-4c1d-3770-a993-d82bfa3a525b</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>559c51ed-bb6c-3158-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>559c51ed-bb6c-3158-b665-815679a3079e</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>3bffc47e-9b9f-3c3e-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3bffc47e-9b9f-3c3e-86cd-392afb465ef0</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>433f6291-7eea-3900-0000-000000000000</groupId>
                        <id>05ca6456-8748-35b0-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>05ca6456-8748-35b0-9bcb-b34c7b2c21ea</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>5cd75d2a-ba12-3cb8-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>5cd75d2a-ba12-3cb8-874f-b6cb6ff6b2ff</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>1500.760986328125</x>
                        <y>1832.0013427734375</y>
                    </bends>
                    <destination>
                        <groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
                        <id>c8e16e3e-b41e-3782-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>c8e16e3e-b41e-3782-acd0-8f2ace8e3b88</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>unmatched</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>a53d0c16-f9b9-3d46-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>a53d0c16-f9b9-3d46-86b8-9f6fa406a525</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>5e63ecac-e72b-3cef-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>5e63ecac-e72b-3cef-ae29-6dcfe348f805</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
                        <id>d7fd7348-60bd-3927-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>d7fd7348-60bd-3927-96b3-0812da51f0c7</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <selectedRelationships>output stream</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>acc6fcc9-e238-3537-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>acc6fcc9-e238-3537-8ab3-497668f71838</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>615c1c7f-05b5-324e-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>615c1c7f-05b5-324e-a7dc-c5c3ce2d9317</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>98707407-02c4-3ded-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>98707407-02c4-3ded-94c8-05b7355544f0</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>f81dc0c6-31b9-3ac0-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>f81dc0c6-31b9-3ac0-86c6-e0358db1942d</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>61618c29-ec11-35f5-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>61618c29-ec11-35f5-b03a-67e7486741f9</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>e59ae295-95c0-356d-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>e59ae295-95c0-356d-a462-807e28b48e06</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>original</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>98707407-02c4-3ded-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>98707407-02c4-3ded-94c8-05b7355544f0</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>646e34f1-377e-30d8-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>646e34f1-377e-30d8-a6eb-a60374113837</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
                        <id>d7fd7348-60bd-3927-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>d7fd7348-60bd-3927-96b3-0812da51f0c7</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>01bd2e15-3da2-3d7b-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>01bd2e15-3da2-3d7b-adb0-33ea7ea1e9a8</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>67ae28be-d9de-36a5-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>67ae28be-d9de-36a5-a4a5-26f14a329b60</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>feafb69b-806a-3187-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>feafb69b-806a-3187-a29e-4ef2402f1bbc</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>20bd500e-6720-370f-0000-000000000000</groupId>
                        <id>f288aa30-6ba1-37a3-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>f288aa30-6ba1-37a3-82f3-a9ca9d0c43b5</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>67f59631-5458-3254-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>67f59631-5458-3254-bb2c-bfff3512b7b0</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>9bb84a50-55c7-364a-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>9bb84a50-55c7-364a-97a8-ca1d42f469ec</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>3bffc47e-9b9f-3c3e-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3bffc47e-9b9f-3c3e-86cd-392afb465ef0</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>70b1051e-30ed-3738-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>70b1051e-30ed-3738-8df8-0e358e1d727d</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>433f6291-7eea-3900-0000-000000000000</groupId>
                        <id>28650b8f-2835-3dc4-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>28650b8f-2835-3dc4-a597-15af7b335f01</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>loader</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>01822d1f-4c1d-3770-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>01822d1f-4c1d-3770-a993-d82bfa3a525b</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>71746615-a153-32e9-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>71746615-a153-32e9-ad09-9566c0eb085b</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>3cbe255d-d311-3cd6-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3cbe255d-d311-3cd6-8983-655692afdfb9</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
                        <id>e0ec3acd-1bd5-3a16-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>e0ec3acd-1bd5-3a16-bcf4-55324d653104</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>79cdafd7-0ea8-3093-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>79cdafd7-0ea8-3093-9a96-3977e485453d</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>51633787-371c-37be-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>51633787-371c-37be-99ce-c6bac1cc0e22</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>unmatched</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>01822d1f-4c1d-3770-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>01822d1f-4c1d-3770-a993-d82bfa3a525b</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>7e74ef47-760c-3db2-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>7e74ef47-760c-3db2-bebf-379ff87a35a0</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>3b288ab0-7da2-3ad4-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3b288ab0-7da2-3ad4-ab93-383fb5ba816d</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
                        <id>8fd7c800-f4d3-340a-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>8fd7c800-f4d3-340a-ba41-ad9c6ff6a295</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>84996076-d364-33d0-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>84996076-d364-33d0-86b5-696a604c2592</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>773f42a4-ab91-3680-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>773f42a4-ab91-3680-89fb-bc36eec3ca17</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>2bcbc21b-1899-395a-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>2bcbc21b-1899-395a-b14d-4c9a4440c596</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>86cb0b89-f590-3841-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>86cb0b89-f590-3841-aa99-739b56e1319c</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
                        <id>48577156-2d87-3161-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>48577156-2d87-3161-8e96-5f6e1a37d355</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>loader</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>feafb69b-806a-3187-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>feafb69b-806a-3187-a29e-4ef2402f1bbc</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>8aa0e7f9-afa1-3a4a-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>8aa0e7f9-afa1-3a4a-b8fc-a3526adfab3d</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>acc6fcc9-e238-3537-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>acc6fcc9-e238-3537-8ab3-497668f71838</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
                        <id>46f8aed9-6eda-3126-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>46f8aed9-6eda-3126-a9a3-4ba74bf2af88</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>949b412a-e466-3d25-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>949b412a-e466-3d25-94b9-d8e95e42d6c0</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>01822d1f-4c1d-3770-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>01822d1f-4c1d-3770-a993-d82bfa3a525b</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
                        <id>55bc8112-5b75-3e31-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>55bc8112-5b75-3e31-8877-ee996dafa5f4</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>99905ab9-ca14-3dca-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>99905ab9-ca14-3dca-8853-8b0c477027b1</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>1342.6903076171875</x>
                        <y>1262.76904296875</y>
                    </bends>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>a53d0c16-f9b9-3d46-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>a53d0c16-f9b9-3d46-86b8-9f6fa406a525</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>aggregator</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>feafb69b-806a-3187-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>feafb69b-806a-3187-a29e-4ef2402f1bbc</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>a0e81a7d-812b-353c-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>a0e81a7d-812b-353c-a800-f0d347be9205</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>acc6fcc9-e238-3537-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>acc6fcc9-e238-3537-8ab3-497668f71838</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
                        <id>2610848b-787d-3ce3-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>2610848b-787d-3ce3-9062-650a8e503027</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>a9366573-4855-34ef-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>a9366573-4855-34ef-9148-147150b3b302</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>acc6fcc9-e238-3537-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>acc6fcc9-e238-3537-8ab3-497668f71838</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
                        <id>b0581546-3a81-3218-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>b0581546-3a81-3218-be62-87432f25b880</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>aa9cf43c-536d-34eb-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>aa9cf43c-536d-34eb-a7dd-9cadd532766a</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>2742.631591796875</x>
                        <y>1825.843017578125</y>
                    </bends>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>acc6fcc9-e238-3537-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>acc6fcc9-e238-3537-8ab3-497668f71838</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
                        <id>16b4a48c-f6ca-38a1-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>16b4a48c-f6ca-38a1-9a89-70e442f6e857</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>b09c2cd1-aab8-34b1-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>b09c2cd1-aab8-34b1-b5ce-947aede27cbf</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>41b12378-a2d1-327f-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>41b12378-a2d1-327f-9746-ed2ecb19b0d7</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>aggregator</selectedRelationships>
                    <selectedRelationships>loader</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>e59ae295-95c0-356d-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>e59ae295-95c0-356d-a462-807e28b48e06</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>b8f29f84-93b0-3107-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>b8f29f84-93b0-3107-9ac2-8d4f5395eb31</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>a53d0c16-f9b9-3d46-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>a53d0c16-f9b9-3d46-86b8-9f6fa406a525</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
                        <id>dec147d2-bfb3-3a83-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>dec147d2-bfb3-3a83-bcd2-54592130fe82</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>c3dc8ed9-ba3c-3a11-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>c3dc8ed9-ba3c-3a11-a406-9a0419f16a72</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>433f6291-7eea-3900-0000-000000000000</groupId>
                        <id>28650b8f-2835-3dc4-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>28650b8f-2835-3dc4-a597-15af7b335f01</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
                        <id>19cf1641-033b-3d10-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>19cf1641-033b-3d10-8aa5-e093e5ebde3f</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>c6273ba6-fa81-3b18-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>c6273ba6-fa81-3b18-b601-4eb93c68f0de</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>20bd500e-6720-370f-0000-000000000000</groupId>
                        <id>d8d35950-a206-35f6-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>d8d35950-a206-35f6-ac8d-22423c466f7d</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>fcc853df-8a72-3bf6-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>fcc853df-8a72-3bf6-b768-4a8dd1d31529</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>d8bc1369-8096-3f0b-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>d8bc1369-8096-3f0b-97cc-dcbd539e1d1d</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>01bd2e15-3da2-3d7b-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>01bd2e15-3da2-3d7b-adb0-33ea7ea1e9a8</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>a850519f-c032-3343-0000-000000000000</groupId>
                        <id>837aa68f-a856-3f10-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>837aa68f-a856-3f10-8518-d44919adee99</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>d9374bbe-71e9-31ef-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>d9374bbe-71e9-31ef-b565-268d9db62165</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>ecb6ae79-a5a1-3a1f-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>ecb6ae79-a5a1-3a1f-94b2-9b8fa68123f3</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>98707407-02c4-3ded-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>98707407-02c4-3ded-94c8-05b7355544f0</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>dbf4fbd9-355e-39a5-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>dbf4fbd9-355e-39a5-b54b-c285396bf84f</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>acb1f3b0-a675-37b5-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>acb1f3b0-a675-37b5-adb9-d263f1f0fdf6</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>2676f21a-d254-3b27-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>2676f21a-d254-3b27-83a0-1069e475d76e</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>de600901-2801-3046-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>de600901-2801-3046-babc-a6d614d416eb</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>a850519f-c032-3343-0000-000000000000</groupId>
                        <id>08fd4f3d-d49b-31de-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>08fd4f3d-d49b-31de-9e7e-79a7418b3a83</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>output stream</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>2676f21a-d254-3b27-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>2676f21a-d254-3b27-83a0-1069e475d76e</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>e47a3add-9c9f-3fb7-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>e47a3add-9c9f-3fb7-88b9-98cd0b056a13</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>20bd500e-6720-370f-0000-000000000000</groupId>
                        <id>d8d35950-a206-35f6-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>d8d35950-a206-35f6-ac8d-22423c466f7d</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>da357b13-b37f-304b-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>da357b13-b37f-304b-a8fc-f60dfb22b2ee</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>e51c1857-4f04-34a3-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>e51c1857-4f04-34a3-abc2-dfa9a47979d3</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
                        <id>8c8d1fa5-4c02-30eb-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>8c8d1fa5-4c02-30eb-81b5-d7206139e2b0</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
                        <id>7c372220-628f-3297-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>7c372220-628f-3297-9b2c-4bf35ed8b2b3</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>f216be8c-9b51-3c11-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>f216be8c-9b51-3c11-a846-90537a2168ed</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>1c102a05-5bbe-3bff-0000-000000000000</groupId>
                        <id>447e16a0-e207-3e6f-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>447e16a0-e207-3e6f-8032-437a20e20139</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
                        <id>4e70c875-0998-39e4-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>4e70c875-0998-39e4-bc67-577eb2a26a27</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <controllerServices>
                    <id>a379d948-72ed-327a-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>a379d948-72ed-327a-9e91-9b05457f7283</versionedComponentId>
                    <bulletinLevel>WARN</bulletinLevel>
                    <bundle>
                        <artifact>nifi-distributed-cache-services-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <descriptors>
                        <entry>
                            <key>Port</key>
                            <value>
<name>Port</name>
                            </value>
                        </entry>
                        <entry>
                            <key>Maximum Cache Entries</key>
                            <value>
<name>Maximum Cache Entries</name>
                            </value>
                        </entry>
                        <entry>
                            <key>Eviction Strategy</key>
                            <value>
<name>Eviction Strategy</name>
                            </value>
                        </entry>
                        <entry>
                            <key>Persistence Directory</key>
                            <value>
<name>Persistence Directory</name>
                            </value>
                        </entry>
                        <entry>
                            <key>SSL Context Service</key>
                            <value>
<identifiesControllerService>org.apache.nifi.ssl.RestrictedSSLContextService</identifiesControllerService>
<name>SSL Context Service</name>
                            </value>
                        </entry>
                        <entry>
                            <key>maximum-read-size</key>
                            <value>
<name>maximum-read-size</name>
                            </value>
                        </entry>
                    </descriptors>
                    <name>DistributedMapCacheServer</name>
                    <persistsState>false</persistsState>
                    <properties>
                        <entry>
                            <key>Port</key>
                            <value>4557</value>
                        </entry>
                        <entry>
                            <key>Maximum Cache Entries</key>
                            <value>10000</value>
                        </entry>
                        <entry>
                            <key>Eviction Strategy</key>
                            <value>Least Frequently Used</value>
                        </entry>
                        <entry>
                            <key>Persistence Directory</key>
                        </entry>
                        <entry>
                            <key>SSL Context Service</key>
                        </entry>
                        <entry>
                            <key>maximum-read-size</key>
                            <value>1 MB</value>
                        </entry>
                    </properties>
                    <state>ENABLED</state>
                    <type>org.apache.nifi.distributed.cache.server.map.DistributedMapCacheServer</type>
                </controllerServices>
                <controllerServices>
                    <id>df80850f-4cfb-3fe0-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <versionedComponentId>df80850f-4cfb-3fe0-8f72-f6ae06b32c9f</versionedComponentId>
                    <bulletinLevel>WARN</bulletinLevel>
                    <bundle>
                        <artifact>nifi-distributed-cache-services-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <comments></comments>
                    <descriptors>
                        <entry>
                            <key>Server Hostname</key>
                            <value>
<name>Server Hostname</name>
                            </value>
                        </entry>
                        <entry>
                            <key>Server Port</key>
                            <value>
<name>Server Port</name>
                            </value>
                        </entry>
                        <entry>
                            <key>SSL Context Service</key>
                            <value>
<identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
<name>SSL Context Service</name>
                            </value>
                        </entry>
                        <entry>
                            <key>Communications Timeout</key>
                            <value>
<name>Communications Timeout</name>
                            </value>
                        </entry>
                    </descriptors>
                    <name>DistributedMapCacheClientService ICN8</name>
                    <persistsState>false</persistsState>
                    <properties>
                        <entry>
                            <key>Server Hostname</key>
                            <value>nardc02hdpnp011.na-rdc02.nxp.com</value>
                        </entry>
                        <entry>
                            <key>Server Port</key>
                            <value>4557</value>
                        </entry>
                        <entry>
                            <key>SSL Context Service</key>
                        </entry>
                        <entry>
                            <key>Communications Timeout</key>
                            <value>30 secs</value>
                        </entry>
                    </properties>
                    <state>ENABLED</state>
                    <type>org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService</type>
                </controllerServices>
                <labels>
                    <id>2126e444-8542-3f7b-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>783.9962066396652</x>
                        <y>-552.1677022333834</y>
                    </position>
                    <versionedComponentId>2126e444-8542-3f7b-9905-aea8e4f4447a</versionedComponentId>
                    <height>97.99137878417969</height>
                    <label>/users/hadoop_nifi_svc/dropzone-temp/icn8/incoming</label>
                    <style>
                        <entry>
                            <key>font-size</key>
                            <value>12px</value>
                        </entry>
                    </style>
                    <width>360.1148376464844</width>
                    <zIndex>0</zIndex>
                </labels>
                <labels>
                    <id>47c5f448-c26a-34f6-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>4059.2279098857243</x>
                        <y>722.0856626019054</y>
                    </position>
                    <versionedComponentId>47c5f448-c26a-34f6-adbb-ed084c06b4f9</versionedComponentId>
                    <height>238.41465759277344</height>
                    <label>Possibilities:
PRODUCTION_STEPS
METROLOGY_RAW
PCM_RAW
BASE_WAFER_PRODUCTION_STEPS
BASE_QUALIFICATIONS_EDC
BASE_QUALIFICATIONS_PCM
BASE_QUALIFICATIONS_TRACING_EQP</label>
                    <style>
                        <entry>
                            <key>font-size</key>
                            <value>12px</value>
                        </entry>
                    </style>
                    <width>360.1148376464844</width>
                    <zIndex>0</zIndex>
                </labels>
                <labels>
                    <id>5e341a10-171d-3a64-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>911.548159712012</x>
                        <y>627.2647283929534</y>
                    </position>
                    <versionedComponentId>5e341a10-171d-3a64-8e72-dd22bc7cb031</versionedComponentId>
                    <height>347.2589111328125</height>
                    <label>Query configuration</label>
                    <style>
                        <entry>
                            <key>font-size</key>
                            <value>20px</value>
                        </entry>
                    </style>
                    <width>658.3210296630859</width>
                    <zIndex>0</zIndex>
                </labels>
                <labels>
                    <id>bd172acf-8fed-3ab5-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1398.5756721290536</x>
                        <y>2063.350567621841</y>
                    </position>
                    <versionedComponentId>bd172acf-8fed-3ab5-9435-cf487078fdac</versionedComponentId>
                    <height>33.34981155395508</height>
                    <label>Here, the new method for replacing the partition contents of the production table should be added</label>
                    <style>
                        <entry>
                            <key>background-color</key>
                            <value>#d6d7ff</value>
                        </entry>
                        <entry>
                            <key>font-size</key>
                            <value>12px</value>
                        </entry>
                    </style>
                    <width>589.2995910644531</width>
                    <zIndex>0</zIndex>
                </labels>
                <labels>
                    <id>f498dab4-9dd3-324d-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>4448.633330741442</x>
                        <y>1104.8204890540974</y>
                    </position>
                    <versionedComponentId>f498dab4-9dd3-324d-b23b-afb74261e31c</versionedComponentId>
                    <height>85.14436340332031</height>
                    <label>This connection was removed to avoid the issue
of too many re-aggregations for the same datatype/period
being generated.
The triggering of the aggregation jobs is now (temporarily??)
done by job HDP_D_FIX in BRS.</label>
                    <style>
                        <entry>
                            <key>font-size</key>
                            <value>12px</value>
                        </entry>
                    </style>
                    <width>354.0004425048828</width>
                    <zIndex>0</zIndex>
                </labels>
                <processGroups>
                    <id>03be4d33-8e41-3d84-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1690.9987065793166</x>
                        <y>2328.20285528394</y>
                    </position>
                    <versionedComponentId>03be4d33-8e41-3d84-b867-bab1e8a3635d</versionedComponentId>
                    <comments>For loading files with a suffix other than csv or trg, the script specified in attribute alternative_loading_script is called.
The regular steps for preparing and validating the file/staging table and swapping partitions are skipped.</comments>
                    <contents>
                        <connections>
                            <id>0b23148a-cb58-38ed-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>0b23148a-cb58-38ed-8f8c-43448078590c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>19cf1641-033b-3d10-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>19cf1641-033b-3d10-8aa5-e093e5ebde3f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>0719eec5-3ada-39ba-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0719eec5-3ada-39ba-a9f5-a102533072be</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0ca9810f-f531-365a-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>0ca9810f-f531-365a-82cf-8fecdf7709f7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>74eb9b6e-6c39-3263-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>74eb9b6e-6c39-3263-9da8-16b12288a3a2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>5dd15532-9daf-315a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5dd15532-9daf-315a-bb37-fcc42e92a4cb</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1eeb4983-2a8b-3cbe-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>1eeb4983-2a8b-3cbe-81cf-f0612066bbbb</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>5d5314dc-63f1-3773-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5d5314dc-63f1-3773-90e8-d7dae4452aec</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>12819254-41f0-3f13-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>12819254-41f0-3f13-b33a-31ce1b0c1b78</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>23070255-94d3-315e-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>23070255-94d3-315e-ac4c-b6a459e2496d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-696.1877746582031</x>
<y>2489.982177734375</y>
                            </bends>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>16b4a48c-f6ca-38a1-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>16b4a48c-f6ca-38a1-9a89-70e442f6e857</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>ad52c39a-6e54-32a0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ad52c39a-6e54-32a0-b37b-4dee5d54bb1e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>24174f69-1c2f-38a8-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>24174f69-1c2f-38a8-a144-51da1315fb55</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1014.6854858398438</x>
<y>2813.19384765625</y>
                            </bends>
                            <bends>
<x>981.196044921875</x>
<y>2853.01953125</y>
                            </bends>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>b4cc2727-1079-3c14-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b4cc2727-1079-3c14-9eaf-a92e22d5c17b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>dabdb3f9-8f4a-318f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dabdb3f9-8f4a-318f-9f99-aec277e058e3</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>29b8bd80-7a9f-3925-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>29b8bd80-7a9f-3925-8954-431827e74937</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>19cf1641-033b-3d10-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>19cf1641-033b-3d10-8aa5-e093e5ebde3f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>ecdf5e59-a442-349a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ecdf5e59-a442-349a-9ba6-eaf429caba34</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>29bbd188-00cc-38c2-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>29bbd188-00cc-38c2-8d99-fe39b8fbab1d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>ecdf5e59-a442-349a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ecdf5e59-a442-349a-9ba6-eaf429caba34</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>aed1e492-fc99-361e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>aed1e492-fc99-361e-bd62-318dfa893dde</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2a73be29-ad28-32e7-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>2a73be29-ad28-32e7-afab-35f503824db4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>3635a291-636e-3335-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3635a291-636e-3335-b8c2-3db97320a30c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>f8a249af-137f-3ec9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f8a249af-137f-3ec9-8291-f1668664f48a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2dd5bc3c-9adc-3893-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>2dd5bc3c-9adc-3893-a6e6-d7676eb85bac</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>f8a249af-137f-3ec9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f8a249af-137f-3ec9-8291-f1668664f48a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>aed1e492-fc99-361e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>aed1e492-fc99-361e-bd62-318dfa893dde</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2fef951f-ea77-34bd-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>2fef951f-ea77-34bd-a297-d8f0b2cb654b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>0ed507dd-2b69-375b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0ed507dd-2b69-375b-a6de-6bf21557aed6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>d833c6dd-32f2-323f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d833c6dd-32f2-323f-8d17-4d92281a3a1e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>337a336f-651f-342a-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>337a336f-651f-342a-abc8-bd48ea80bf14</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>ad52c39a-6e54-32a0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ad52c39a-6e54-32a0-b37b-4dee5d54bb1e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>12819254-41f0-3f13-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>12819254-41f0-3f13-b33a-31ce1b0c1b78</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>552904cb-e9d7-3766-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>552904cb-e9d7-3766-ac38-e1f21cd5eedc</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>20000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>5d5314dc-63f1-3773-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5d5314dc-63f1-3773-90e8-d7dae4452aec</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>7c850c8f-4954-3908-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>7c850c8f-4954-3908-9e8c-232ec511d5e5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6914b16f-1928-3d19-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>6914b16f-1928-3d19-9567-cc6af0163c60</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1201.3389282226562</x>
<y>3217.01171875</y>
                            </bends>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>ecdf5e59-a442-349a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ecdf5e59-a442-349a-9ba6-eaf429caba34</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>d87955c6-cd5d-37c1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d87955c6-cd5d-37c1-8dc4-4d65df6b6ae2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>75eeb23d-b67e-3c0a-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>75eeb23d-b67e-3c0a-8dd3-776a95cd3ba8</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1185.3681640625</x>
<y>2531.152099609375</y>
                            </bends>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>dabdb3f9-8f4a-318f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dabdb3f9-8f4a-318f-9f99-aec277e058e3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>5d5314dc-63f1-3773-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5d5314dc-63f1-3773-90e8-d7dae4452aec</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7a15bfed-66fd-347c-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>7a15bfed-66fd-347c-be38-765be1572343</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>0719eec5-3ada-39ba-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0719eec5-3ada-39ba-a9f5-a102533072be</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>74eb9b6e-6c39-3263-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>74eb9b6e-6c39-3263-9da8-16b12288a3a2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8abcd143-e434-382b-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>8abcd143-e434-382b-87db-28611c63fd9c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>b4cc2727-1079-3c14-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b4cc2727-1079-3c14-9eaf-a92e22d5c17b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>ee1c70bc-fab0-3e61-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ee1c70bc-fab0-3e61-b265-16d8ef64a629</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a1849c27-f046-3432-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>a1849c27-f046-3432-aaaa-5ee858c8b6ef</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1235.955322265625</x>
<y>2845.84228515625</y>
                            </bends>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>d87955c6-cd5d-37c1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d87955c6-cd5d-37c1-8dc4-4d65df6b6ae2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>dabdb3f9-8f4a-318f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dabdb3f9-8f4a-318f-9f99-aec277e058e3</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b6fdf31e-f489-324d-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>b6fdf31e-f489-324d-a0be-807b184473c2</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>12819254-41f0-3f13-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>12819254-41f0-3f13-b33a-31ce1b0c1b78</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>0ed507dd-2b69-375b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0ed507dd-2b69-375b-a6de-6bf21557aed6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b89bf899-acc4-30af-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>b89bf899-acc4-30af-9c13-7b30f9e21f4f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>aed1e492-fc99-361e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>aed1e492-fc99-361e-bd62-318dfa893dde</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>74eb9b6e-6c39-3263-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>74eb9b6e-6c39-3263-9da8-16b12288a3a2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bcaf1d35-d643-338c-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>bcaf1d35-d643-338c-8023-0407cfdebd2b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>d87955c6-cd5d-37c1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d87955c6-cd5d-37c1-8dc4-4d65df6b6ae2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>ee1c70bc-fab0-3e61-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ee1c70bc-fab0-3e61-b265-16d8ef64a629</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c1b33b22-a634-313b-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>c1b33b22-a634-313b-9c32-391a28eecb23</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>ee1c70bc-fab0-3e61-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ee1c70bc-fab0-3e61-b265-16d8ef64a629</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>klarf</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>5d5314dc-63f1-3773-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5d5314dc-63f1-3773-90e8-d7dae4452aec</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e050183e-d68f-3229-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>e050183e-d68f-3229-86e0-76ff81e930d2</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>d833c6dd-32f2-323f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d833c6dd-32f2-323f-8d17-4d92281a3a1e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>b4cc2727-1079-3c14-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b4cc2727-1079-3c14-9eaf-a92e22d5c17b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e2896ba4-c165-34e3-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>e2896ba4-c165-34e3-b254-406513a3a372</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>5dd15532-9daf-315a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5dd15532-9daf-315a-bb37-fcc42e92a4cb</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>3635a291-636e-3335-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3635a291-636e-3335-b8c2-3db97320a30c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e6f56370-c30e-3836-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <versionedComponentId>e6f56370-c30e-3836-b6c6-f28e7e9e8223</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>aed1e492-fc99-361e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>aed1e492-fc99-361e-bd62-318dfa893dde</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>prod_table_specified</selectedRelationships>
                            <source>
<groupId>03be4d33-8e41-3d84-0000-000000000000</groupId>
<id>d87955c6-cd5d-37c1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d87955c6-cd5d-37c1-8dc4-4d65df6b6ae2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>7c850c8f-4954-3908-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>639.8381969402265</x>
<y>2083.506704268398</y>
                            </position>
                            <versionedComponentId>7c850c8f-4954-3908-9e8c-232ec511d5e5</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>in</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>16b4a48c-f6ca-38a1-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-821.5409048930304</x>
<y>3341.0647298928598</y>
                            </position>
                            <versionedComponentId>16b4a48c-f6ca-38a1-9a89-70e442f6e857</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>error</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <outputPorts>
                            <id>19cf1641-033b-3d10-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>637.2108722301118</x>
<y>3733.5889627705637</y>
                            </position>
                            <versionedComponentId>19cf1641-033b-3d10-8aa5-e093e5ebde3f</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>out</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>0719eec5-3ada-39ba-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-51.83925655861185</x>
<y>3609.411533397339</y>
                            </position>
                            <versionedComponentId>0719eec5-3ada-39ba-a9f5-a102533072be</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the logging that Impala permanently failed to succesfully refresh the table.
NOTE: The flow is not routed to ERROR, because the load script has already run succesfully, and we don't to repeat the loading step (this could lead to duplicate records if the table is not reloadable)</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to refresh table '${prod_table}' for file '${filename}'. Please investigate the cause.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on refresh</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>0ed507dd-2b69-375b-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-481.15748264699414</x>
<y>2644.627986758437</y>
                            </position>
                            <versionedComponentId>0ed507dd-2b69-375b-a6de-6bf21557aed6</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps track of the number of retries of calling the loading script.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounter_alt</key>
        <value>
            <name>retrycounter_alt</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounter_alt</key>
        <value>${retrycounter_alt:isNull():ifElse(1, ${retrycounter_alt:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>12819254-41f0-3f13-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-22.928871426775913</x>
<y>2644.627986758437</y>
                            </position>
                            <versionedComponentId>12819254-41f0-3f13-b33a-31ce1b0c1b78</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the maximum number of retries has not been reached yet, start another attempt to call the loading script.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounter_alt:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>3635a291-636e-3335-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-482.31214573293164</x>
<y>3107.5330923492575</y>
                            </position>
                            <versionedComponentId>3635a291-636e-3335-b8c2-3db97320a30c</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before starting a new attempt to refresh the table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>5d5314dc-63f1-3773-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>580.7887512931875</x>
<y>2344.031018048343</y>
                            </position>
                            <versionedComponentId>5d5314dc-63f1-3773-90e8-d7dae4452aec</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>2022-04-19 FvH: Recently, the processing of the klarf script has resulted in terminated threads and a big queue of waiting files.
We don't know the cause yet, but to make sure all non-klarf files keep being processed during klarf issues, the klarf and non-klarf files are given their own processor.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>klarf</key>
        <value>
            <name>klarf</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>klarf</key>
        <value>${filename:endsWith('.klarf')}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Split klarf/other</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>klarf</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>5dd15532-9daf-315a-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-482.3121609917207</x>
<y>3365.071101992812</y>
                            </position>
                            <versionedComponentId>5dd15532-9daf-315a-bb37-fcc42e92a4cb</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps track of the number of retries of calling the loading script.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retry_counter_refresh</key>
        <value>
            <name>retry_counter_refresh</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retry_counter_refresh</key>
        <value>${retrycounter_refresh:isNull():ifElse(1, ${retrycounter_refresh:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>6206530d-d2a8-3520-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>917.9818390979294</x>
<y>1181.0604415667426</y>
                            </position>
                            <versionedComponentId>6206530d-d2a8-3520-b71c-f484944f8f15</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Decide whether this is a loader or a aggregator.
For each of these 2 types, processing is continued in a different way (for aggregators, we don't need to load the contents of a file into an external table)</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>aggregator</key>
        <value>
            <name>aggregator</name>
        </value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>
            <name>alternative_load_script</name>
        </value>
    </entry>
    <entry>
        <key>loader</key>
        <value>
            <name>loader</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>aggregator</key>
        <value>${filename:endsWith('.trg')
  :and(${alternative_load_script:isEmpty()})
 }</value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>${alternative_load_script:isEmpty():not()}</value>
    </entry>
    <entry>
        <key>loader</key>
        <value>${filename:endsWith('csv')
  :and(${alternative_load_script:isEmpty()})
 }</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Split loaders and aggregators (1)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>aggregator</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>alternative_load_script</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>loader</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>74eb9b6e-6c39-3263-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-42.298698697283726</x>
<y>3368.106746524062</y>
                            </position>
                            <versionedComponentId>74eb9b6e-6c39-3263-9da8-16b12288a3a2</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the maximum number of retries has not been reached yet, start another attempt to call the loading script.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounter_refresh:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>9ec47710-fdd7-3c61-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>1064.061062730742</x>
<y>1078.109391762055</y>
                            </position>
                            <versionedComponentId>9ec47710-fdd7-3c61-9934-fb890d617095</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Decide whether this is a loader or a aggregator.
For each of these 2 types, processing is continued in a different way (for aggregators, we don't need to load the contents of a file into an external table)</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>aggregator</key>
        <value>
            <name>aggregator</name>
        </value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>
            <name>alternative_load_script</name>
        </value>
    </entry>
    <entry>
        <key>loader</key>
        <value>
            <name>loader</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>aggregator</key>
        <value>${filename:endsWith('.trg')
  :and(${alternative_load_script:isEmpty()})
 }</value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>${alternative_load_script:isEmpty():not()}</value>
    </entry>
    <entry>
        <key>loader</key>
        <value>${filename:endsWith('csv')
  :and(${alternative_load_script:isEmpty()})
 }</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Split loaders and aggregators (1)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>aggregator</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>alternative_load_script</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>loader</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>ad52c39a-6e54-32a0-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-22.928871426775913</x>
<y>2423.868076366089</y>
                            </position>
                            <versionedComponentId>ad52c39a-6e54-32a0-b37b-4dee5d54bb1e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the logging that Impala permanently failed to succesfully run the loading script.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to load file '${filename}' of type ${logtype}. Please investigate the cause.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on loading script</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>aed1e492-fc99-361e-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>573.3936846692876</x>
<y>3102.664467206257</y>
                            </position>
                            <versionedComponentId>aed1e492-fc99-361e-bd62-318dfa893dde</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Refresh the table that was loaded with an alternative (probably non-Impala) script in Impala.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"refresh ${prod_table};"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Refresh table in Impala</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>b4cc2727-1079-3c14-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-23.60834530372904</x>
<y>2862.7447622711325</y>
                            </position>
                            <versionedComponentId>b4cc2727-1079-3c14-9eaf-a92e22d5c17b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that the loading script failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on loading file '${filename}' of type ${logtype}
Error details:
${execution.error}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log warning on loading script</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>d833c6dd-32f2-323f-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-481.15748264699414</x>
<y>2868.2738150055075</y>
                            </position>
                            <versionedComponentId>d833c6dd-32f2-323f-8d17-4d92281a3a1e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before starting a new attempt to run the alternative loading script</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>d87955c6-cd5d-37c1-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>581.5680539576188</x>
<y>2895.9723824410485</y>
                            </position>
                            <versionedComponentId>d87955c6-cd5d-37c1-8dc4-4d65df6b6ae2</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If no production was specified for the alternative load script, the refresh of this table is not executed.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>prod_table_specified</key>
        <value>
            <name>prod_table_specified</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>prod_table_specified</key>
        <value>${prod_table:isEmpty():not()}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check if prod table is specified</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>prod_table_specified</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>dabdb3f9-8f4a-318f-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>1021.2843705780888</x>
<y>2634.834011795995</y>
                            </position>
                            <versionedComponentId>dabdb3f9-8f4a-318f-9f99-aec277e058e3</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For loading files with a suffix other than csv or trg, the script specified in attribute alternative_loading_script is called.
The regular steps for preparing and validating the file/staging table and swapping partitions are skipped.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>${alternative_load_script}</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>${alternative_load_script_arguments}</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Call alternative loading script (non-klarf)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>ecdf5e59-a442-349a-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>572.193609258251</x>
<y>3378.8890101079883</y>
                            </position>
                            <versionedComponentId>ecdf5e59-a442-349a-9ba6-eaf429caba34</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the script to load the file was successfully run.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Loading script for file '${filename}' of type ${logtype} succesfully executed.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Alternative loading Successful</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>ee1c70bc-fab0-3e61-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>585.6047961894437</x>
<y>2638.865388240408</y>
                            </position>
                            <versionedComponentId>ee1c70bc-fab0-3e61-b265-16d8ef64a629</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For loading files with a suffix other than csv or trg, the script specified in attribute alternative_loading_script is called.
The regular steps for preparing and validating the file/staging table and swapping partitions are skipped.
KLarf-files have their own processor now, so the processing of other files can continue in case of klarf issues.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>${alternative_load_script}</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>${alternative_load_script_arguments}</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Call alternative loading script (klarf)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>f8a249af-137f-3ec9-0000-000000000000</id>
                            <parentGroupId>03be4d33-8e41-3d84-0000-000000000000</parentGroupId>
                            <position>
<x>-15.107414517596226</x>
<y>3108.9195669586325</y>
                            </position>
                            <versionedComponentId>f8a249af-137f-3ec9-8291-f1668664f48a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that the refresh failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on refreshing table '${prod_table}' for file '${filename}'
Error details:
${execution.error}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log warning on refresh</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Call alternative loading script</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>06b43de0-87a7-3495-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1679.062219554232</x>
                        <y>1525.536714909103</y>
                    </position>
                    <versionedComponentId>06b43de0-87a7-3495-8392-4a0ce6f1370a</versionedComponentId>
                    <comments>This group of processors is called for csv and trg files that are suited for a direct insert into the destination table (instead of the default "build staging partition - swap staging and production partition" mechanism).</comments>
                    <contents>
                        <connections>
                            <id>046c3e1b-a8d4-3335-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <versionedComponentId>046c3e1b-a8d4-3335-9622-49a859f3c6e9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>55bc8112-5b75-3e31-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>55bc8112-5b75-3e31-8877-ee996dafa5f4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>66e9e0a8-9e55-303b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>66e9e0a8-9e55-303b-9e88-c5b25522d66a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2f908192-5491-3941-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <versionedComponentId>2f908192-5491-3941-934c-7f7f95dc422f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>77487988-ffed-3a8f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>77487988-ffed-3a8f-abde-5c1b7d32de7b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>6010f5d8-88fe-3e71-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6010f5d8-88fe-3e71-9785-cc01ad8e5392</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>51a9b0a8-1dae-318a-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <versionedComponentId>51a9b0a8-1dae-318a-a991-67c9c0bf5b3c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>66e9e0a8-9e55-303b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>66e9e0a8-9e55-303b-9e88-c5b25522d66a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>9607fc1c-18e0-33b4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9607fc1c-18e0-33b4-911c-49df32ed5875</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>adbdb150-6fd9-3146-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <versionedComponentId>adbdb150-6fd9-3146-8617-0d4b57e6076d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>396.4744153503158</x>
<y>3015.2113531211776</y>
                            </bends>
                            <destination>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>9607fc1c-18e0-33b4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9607fc1c-18e0-33b4-911c-49df32ed5875</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>74a66213-0633-350b-0000-000000000000</groupId>
<id>d9486453-03aa-3325-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>d9486453-03aa-3325-99eb-fa17db7438a9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b7eac9aa-ebf4-351e-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <versionedComponentId>b7eac9aa-ebf4-351e-ba0e-6f4fcda286d6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>2844d8d4-6248-33ae-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>2844d8d4-6248-33ae-96c7-81bf34bb9bc8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>74a66213-0633-350b-0000-000000000000</groupId>
<id>4fa48b13-41d1-3725-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>4fa48b13-41d1-3725-a806-bc37dc97c139</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bec423bb-0997-3242-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <versionedComponentId>bec423bb-0997-3242-9424-0a06c549d2cd</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>74a66213-0633-350b-0000-000000000000</groupId>
<id>553189e5-2c7d-3f47-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>553189e5-2c7d-3f47-99f9-0221a8b1df2c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>9607fc1c-18e0-33b4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9607fc1c-18e0-33b4-911c-49df32ed5875</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ce94e760-6655-3cfe-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <versionedComponentId>ce94e760-6655-3cfe-988d-c224967098a7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>9607fc1c-18e0-33b4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9607fc1c-18e0-33b4-911c-49df32ed5875</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>77487988-ffed-3a8f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>77487988-ffed-3a8f-abde-5c1b7d32de7b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f40c5726-40ed-3125-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <versionedComponentId>f40c5726-40ed-3125-afb1-f815b6d018ff</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>20000</backPressureObjectThreshold>
                            <destination>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>6010f5d8-88fe-3e71-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6010f5d8-88fe-3e71-9785-cc01ad8e5392</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>06b43de0-87a7-3495-0000-000000000000</groupId>
<id>06302b9b-33c1-3538-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>06302b9b-33c1-3538-a316-9a69488c7ea9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>06302b9b-33c1-3538-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <position>
<x>617.2691051433515</x>
<y>2087.105337080898</y>
                            </position>
                            <versionedComponentId>06302b9b-33c1-3538-a316-9a69488c7ea9</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>in</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>2844d8d4-6248-33ae-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <position>
<x>-568.6828421488898</x>
<y>2778.0146810647348</y>
                            </position>
                            <versionedComponentId>2844d8d4-6248-33ae-96c7-81bf34bb9bc8</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>error</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <outputPorts>
                            <id>55bc8112-5b75-3e31-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <position>
<x>639.1506305308931</x>
<y>3312.6492655049387</y>
                            </position>
                            <versionedComponentId>55bc8112-5b75-3e31-8877-ee996dafa5f4</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>out</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processGroups>
                            <id>74a66213-0633-350b-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <position>
<x>-43.47224966849967</x>
<y>2716.4801695644474</y>
                            </position>
                            <versionedComponentId>74a66213-0633-350b-bf6c-5aa300de5bdc</versionedComponentId>
                            <comments>Whenever the Ingest staging error handling changes, please replace this processor group with a new copy!
NOTE: Some log texts will need to be adapted!</comments>
                            <contents>
<connections>
    <id>052a20f7-a80e-3116-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>052a20f7-a80e-3116-b7a1-5e3d64d5e5c1</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>2024.3818359375</x>
        <y>814.560791015625</y>
    </bends>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>34b1ab23-6d23-3e22-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>34b1ab23-6d23-3e22-bb7e-0f3a24f03c61</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>5061849e-c5d6-37b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>5061849e-c5d6-37b4-beff-659ea9ee05eb</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>06c1075e-62c0-3a9d-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>06c1075e-62c0-3a9d-a0f5-106210cb8dee</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>1561.2469482421875</x>
        <y>851.7756958007812</y>
    </bends>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>3b4f701c-0852-32b0-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>3b4f701c-0852-32b0-8b04-b5f3860238aa</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>hdfs_read_fail</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>5061849e-c5d6-37b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>5061849e-c5d6-37b4-beff-659ea9ee05eb</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>0f45e9cd-80d4-319e-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>0f45e9cd-80d4-319e-949c-f4e9c30cb209</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>2e7238ae-fd5c-3b5b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2e7238ae-fd5c-3b5b-8913-da333bed1527</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>22957e66-77b4-3b00-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>22957e66-77b4-3b00-82de-b87289b6278e</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>1434b589-6211-36b9-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>1434b589-6211-36b9-b9df-cebaecf288f6</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>c953300d-53c6-3e34-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c953300d-53c6-3e34-b894-9eaf08178c96</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>a4e7af30-079e-331c-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a4e7af30-079e-331c-b3f7-371b1afe6b19</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>166821ae-4738-347f-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>166821ae-4738-347f-bf0d-f5f9d8bb8484</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>d9486453-03aa-3325-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>d9486453-03aa-3325-99eb-fa17db7438a9</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>c953300d-53c6-3e34-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c953300d-53c6-3e34-b894-9eaf08178c96</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>1f84ff19-dfff-310b-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>1f84ff19-dfff-310b-997b-e2c6a0d24518</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>3c4402b7-5034-3f3f-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>3c4402b7-5034-3f3f-8996-77e579b52291</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>958e942c-128e-3cd8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>958e942c-128e-3cd8-be03-e9fae7c6901b</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>222dfa1c-f320-3d9f-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>222dfa1c-f320-3d9f-8209-1850f888a803</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>c953300d-53c6-3e34-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c953300d-53c6-3e34-b894-9eaf08178c96</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>f7164eff-76c9-3bf4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>f7164eff-76c9-3bf4-a7cc-03f1a5f2163c</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>437a3349-4851-3f07-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>437a3349-4851-3f07-b668-388d1ce573ee</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>67052ec3-43b7-3997-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>67052ec3-43b7-3997-84ae-710b0b817d92</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>553189e5-2c7d-3f47-0000-000000000000</id>
        <type>INPUT_PORT</type>
        <versionedComponentId>553189e5-2c7d-3f47-99f9-0221a8b1df2c</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>4b21fb48-2f00-3397-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>4b21fb48-2f00-3397-ab56-13ac58bc2e95</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>4fa48b13-41d1-3725-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>4fa48b13-41d1-3725-a806-bc37dc97c139</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>f5117cf0-d7c0-394f-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>f5117cf0-d7c0-394f-a533-cee5087534ac</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>4c6868be-65b7-31bf-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>4c6868be-65b7-31bf-b790-0d2240573513</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>27c7e371-5370-3e29-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>27c7e371-5370-3e29-81cc-00a5a604dfac</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>3b4f701c-0852-32b0-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>3b4f701c-0852-32b0-8b04-b5f3860238aa</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>585c4cce-ef69-3eb3-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>585c4cce-ef69-3eb3-b64a-c722fdf06bed</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>2e7238ae-fd5c-3b5b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2e7238ae-fd5c-3b5b-8913-da333bed1527</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>4c4c39d6-13b7-3b74-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4c4c39d6-13b7-3b74-9d4e-f5c79ffadfd1</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>793f4f90-b42b-3da6-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>793f4f90-b42b-3da6-9e2d-80f0d7da2145</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>feb81139-a9aa-3f35-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>feb81139-a9aa-3f35-aed2-10b3bee532a6</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>27c7e371-5370-3e29-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>27c7e371-5370-3e29-81cc-00a5a604dfac</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>883132a3-53cf-31e9-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>883132a3-53cf-31e9-9ff7-1f567f036627</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>2080.51904296875</x>
        <y>1979.8475341796875</y>
    </bends>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>a4e7af30-079e-331c-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a4e7af30-079e-331c-b3f7-371b1afe6b19</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>ddf698c5-bb05-371b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>ddf698c5-bb05-371b-8911-01d3b7d17777</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9b0a67c5-95d7-3769-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>9b0a67c5-95d7-3769-a912-bf64f1ca04c3</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>a4e7af30-079e-331c-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a4e7af30-079e-331c-b3f7-371b1afe6b19</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>c9b0d809-d4b3-38d9-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c9b0d809-d4b3-38d9-80f0-1f7899cc6dbd</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>a554aa00-b2c5-3947-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>a554aa00-b2c5-3947-8b21-48713145a3ee</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>ddf698c5-bb05-371b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>ddf698c5-bb05-371b-8911-01d3b7d17777</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>34b1ab23-6d23-3e22-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>34b1ab23-6d23-3e22-bb7e-0f3a24f03c61</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b5658d54-b309-30d2-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>b5658d54-b309-30d2-829e-4cb54c4aaa1e</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>c9b0d809-d4b3-38d9-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c9b0d809-d4b3-38d9-80f0-1f7899cc6dbd</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>fb56daa6-28a6-31fc-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>fb56daa6-28a6-31fc-a0a2-60360c788c23</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>bb6681d7-487a-3277-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>bb6681d7-487a-3277-af70-3b9c91860f68</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>fb56daa6-28a6-31fc-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>fb56daa6-28a6-31fc-a0a2-60360c788c23</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>memory_limit_exceeded</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>5061849e-c5d6-37b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>5061849e-c5d6-37b4-beff-659ea9ee05eb</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>bec96883-9996-3bf8-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>bec96883-9996-3bf8-b66c-9df3e0b828e9</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>81343e5a-9a27-3dad-0000-000000000000</id>
        <type>FUNNEL</type>
        <versionedComponentId>81343e5a-9a27-3dad-ba9b-fb18dc91d97a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>2e7238ae-fd5c-3b5b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2e7238ae-fd5c-3b5b-8913-da333bed1527</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>bf4247ca-4533-3d83-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>bf4247ca-4533-3d83-8e84-65926b743891</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>5061849e-c5d6-37b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>5061849e-c5d6-37b4-beff-659ea9ee05eb</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>67052ec3-43b7-3997-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>67052ec3-43b7-3997-84ae-710b0b817d92</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>c165f00b-bac9-3647-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>c165f00b-bac9-3647-83dd-772eb753a272</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>f5117cf0-d7c0-394f-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>f5117cf0-d7c0-394f-a533-cee5087534ac</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>toomanytries</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>c953300d-53c6-3e34-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c953300d-53c6-3e34-b894-9eaf08178c96</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>cc08be47-0709-30ad-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>cc08be47-0709-30ad-9fc2-1f6286e6bd14</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>958e942c-128e-3cd8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>958e942c-128e-3cd8-be03-e9fae7c6901b</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>kerberos_ticket_expired</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>5061849e-c5d6-37b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>5061849e-c5d6-37b4-beff-659ea9ee05eb</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>cd3c4941-b50f-305f-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>cd3c4941-b50f-305f-b482-684560f6643d</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>2e7238ae-fd5c-3b5b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2e7238ae-fd5c-3b5b-8913-da333bed1527</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>b5730c5a-9f60-334e-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>b5730c5a-9f60-334e-bb14-1bd6997bdd94</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>d87f02ad-8d2a-3755-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>d87f02ad-8d2a-3755-8254-fb17800b7110</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>d9486453-03aa-3325-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>d9486453-03aa-3325-99eb-fa17db7438a9</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>81343e5a-9a27-3dad-0000-000000000000</id>
        <type>FUNNEL</type>
        <versionedComponentId>81343e5a-9a27-3dad-ba9b-fb18dc91d97a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e6bad60b-e974-31de-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>e6bad60b-e974-31de-8a8f-65d3f7073d9f</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>-286.79888916015625</x>
        <y>791.531005859375</y>
    </bends>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>22957e66-77b4-3b00-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>22957e66-77b4-3b00-82de-b87289b6278e</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>query_admission_timeout</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>5061849e-c5d6-37b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>5061849e-c5d6-37b4-beff-659ea9ee05eb</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ede8578d-132b-302c-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>ede8578d-132b-302c-a751-6af4ac1c953c</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>f7164eff-76c9-3bf4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>f7164eff-76c9-3bf4-a7cc-03f1a5f2163c</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>nonzero status</selectedRelationships>
    <selectedRelationships>output stream</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>3c4402b7-5034-3f3f-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>3c4402b7-5034-3f3f-8996-77e579b52291</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f4272997-c348-38f0-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>f4272997-c348-38f0-9b0a-b383a0c34ec3</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>c6ed9246-ad55-3c97-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c6ed9246-ad55-3c97-98e0-b138fd04efc7</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>feb81139-a9aa-3f35-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>feb81139-a9aa-3f35-aed2-10b3bee532a6</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f4ba8561-1b74-30a9-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>f4ba8561-1b74-30a9-8167-04a1a6db17a8</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>a4e7af30-079e-331c-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a4e7af30-079e-331c-b3f7-371b1afe6b19</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>nonzero status</selectedRelationships>
    <selectedRelationships>output stream</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>c6ed9246-ad55-3c97-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c6ed9246-ad55-3c97-98e0-b138fd04efc7</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f9fcfdae-afdc-36e1-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>f9fcfdae-afdc-36e1-9aa1-c7befe4eba9d</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>4c4c39d6-13b7-3b74-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4c4c39d6-13b7-3b74-9d4e-f5c79ffadfd1</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>unreachable_impala_deamon</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>5061849e-c5d6-37b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>5061849e-c5d6-37b4-beff-659ea9ee05eb</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>fc6a3eb0-30d3-3e5e-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <versionedComponentId>fc6a3eb0-30d3-3e5e-8509-53ab04b34e3e</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>b5730c5a-9f60-334e-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>b5730c5a-9f60-334e-bb14-1bd6997bdd94</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>memory_oversubscribed</selectedRelationships>
    <source>
        <groupId>74a66213-0633-350b-0000-000000000000</groupId>
        <id>5061849e-c5d6-37b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>5061849e-c5d6-37b4-beff-659ea9ee05eb</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<funnels>
    <id>81343e5a-9a27-3dad-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>85.47195421265053</x>
        <y>2378.472285085842</y>
    </position>
    <versionedComponentId>81343e5a-9a27-3dad-ba9b-fb18dc91d97a</versionedComponentId>
</funnels>
<inputPorts>
    <id>553189e5-2c7d-3f47-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>506.5150030857385</x>
        <y>245.97550510022643</y>
    </position>
    <versionedComponentId>553189e5-2c7d-3f47-99f9-0221a8b1df2c</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>input</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>4fa48b13-41d1-3725-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>1827.9156073337854</x>
        <y>2150.3485214576485</y>
    </position>
    <versionedComponentId>4fa48b13-41d1-3725-a806-bc37dc97c139</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>error</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<outputPorts>
    <id>d9486453-03aa-3325-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>545.360095859176</x>
        <y>2371.051219211555</y>
    </position>
    <versionedComponentId>d9486453-03aa-3325-99eb-fa17db7438a9</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>retry</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>22957e66-77b4-3b00-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>-888.5942795746628</x>
        <y>912.053319844098</y>
    </position>
    <versionedComponentId>22957e66-77b4-3b00-82de-b87289b6278e</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query was timed out while waiting for admission.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Direct insert query for file '${filename}' was timed out before it could execute.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Query Admission Timeout</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>27c7e371-5370-3e29-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>1428.2550740085953</x>
        <y>1144.8047506928015</y>
    </position>
    <versionedComponentId>27c7e371-5370-3e29-81cc-00a5a604dfac</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>When we get here, processing has failed because of a parquet file that can no longer be found. This can be solved by executing a refresh statement for the failing table partition.
"
From the error text, which looks like this:
ERROR: Disk I/O error: Failed to open HDFS file hdfs://HDFS-PROD-HA-Service1/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_wafer_production_steps/p_from_trackout_cet_ts=2021-01-27/p_to_trackout_cet_ts=2021-01-28/p_loh_suffix=__HIV
E_DEFAULT_PARTITION__/5b4dcd12481d1596-e70d73170000004d_658979915_data.0.parq
Error(2): No such file or directory

we derive the appropriate refresh statement, that looks like this:
refresh mfg_icn8_apps.nifi_base_wafer_production_steps partition (p_from_trackout_cet_ts='2021-01-27', p_to_trackout_cet_ts='2021-01-28', p_loh_suffix='');
</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>refresh_statement</key>
                <value>
                    <name>refresh_statement</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>refresh_statement</key>
                <value>${execution.error
  :substringAfter  ("/user/hive/warehouse/mfg_icn8/")
  :substringBefore (".parq"                         )
  :replaceAll      ("\R"                        , ""            )
  :replaceFirst    ("/"                         , "."           )
  :replaceFirst    ("/[^/]*$"                   , ""            )
  :replaceFirst    ("/"                         , " partition (")
  :replaceAll      ("/"                         , "', "         )
  :replaceAll      ("="                         , "='"          )
  :replaceAll      ("__HIVE_DEFAULT_PARTITION__", ""            )
  :replaceAll      ("%3A"                       , ":"           )
  :prepend         ("refresh ")
  :append          ("');")
 }</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Derive refresh statement</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>2e7238ae-fd5c-3b5b-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>-271.23224214375796</x>
        <y>1339.8025263870668</y>
    </position>
    <versionedComponentId>2e7238ae-fd5c-3b5b-8913-da333bed1527</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Wait for 5 minutes, and then retry without increasing the number of retries (when Impala is too busy, we want to keep trying until the query succeeds).</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Rate Control Criteria</key>
                <value>
                    <name>Rate Control Criteria</name>
                </value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>
                    <name>Time Duration</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate</dependentValues>
                        <dependentValues>attribute value</dependentValues>
                        <dependentValues>flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Data Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum FlowFile Rate</name>
                </value>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
                <value>
                    <dependencies>
                        <dependentValues>attribute value</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Rate Controlled Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
                <value>
                    <name>Grouping Attribute</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Rate Control Criteria</key>
                <value>flowfile count</value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>300 sec</value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>5 minute delay</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ControlRate</type>
</processors>
<processors>
    <id>34b1ab23-6d23-3e22-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>1887.8407103545364</x>
        <y>922.257909687848</y>
    </position>
    <versionedComponentId>34b1ab23-6d23-3e22-bb7e-0f3a24f03c61</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because of an unknown error.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Unidentified error while directly inserting into production table for file '${filename}'. Please investigate!</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Unidentified Error</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>3b4f701c-0852-32b0-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>1418.265148831099</x>
        <y>912.2643794144105</y>
    </position>
    <versionedComponentId>3b4f701c-0852-32b0-8b04-b5f3860238aa</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: HDFS read fail while directly inserting into production table for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log HDFS read fail</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>3c4402b7-5034-3f3f-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>468.36096466924596</x>
        <y>1120.5614690557302</y>
    </position>
    <versionedComponentId>3c4402b7-5034-3f3f-8996-77e579b52291</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Try to refresh the expired Kerberos ticket by calling kinit.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Working Directory</key>
                <value>
                    <name>Working Directory</name>
                </value>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>
                    <name>Command Path</name>
                </value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>
                    <name>argumentsStrategy</name>
                </value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Command Arguments</name>
                </value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Argument Delimiter</name>
                </value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>
                    <name>Ignore STDIN</name>
                </value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
                <value>
                    <name>Output Destination Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>
                    <name>Max Attribute Length</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Working Directory</key>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>/bin/kinit</value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>Command Arguments Property</value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>-kt;/etc/security/keytab/hadoop_nifi_svc.keytab;hadoop_nifi_svc</value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>;</value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>256</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Refresh Kerberos ticket (kinit)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>nonzero status</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>output stream</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
</processors>
<processors>
    <id>4c4c39d6-13b7-3b74-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>39.75752706596222</x>
        <y>919.893896015973</y>
    </position>
    <versionedComponentId>4c4c39d6-13b7-3b74-9d4e-f5c79ffadfd1</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query was cancelled because of an unreachable Impala Deamon.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Direct insert query for file '${filename}' was cancelled because an Impala Deamon was unreachable.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Unreachable Impala Deamon</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>5061849e-c5d6-37b4-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>460.7847421478218</x>
        <y>656.6819825027599</y>
    </position>
    <versionedComponentId>5061849e-c5d6-37b4-beff-659ea9ee05eb</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Derive the error type from the execution.error attribute.
Depending on the data type found, take action.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Routing Strategy</key>
                <value>
                    <name>Routing Strategy</name>
                </value>
            </entry>
            <entry>
                <key>hdfs_read_fail</key>
                <value>
                    <name>hdfs_read_fail</name>
                </value>
            </entry>
            <entry>
                <key>kerberos_ticket_expired</key>
                <value>
                    <name>kerberos_ticket_expired</name>
                </value>
            </entry>
            <entry>
                <key>memory_limit_exceeded</key>
                <value>
                    <name>memory_limit_exceeded</name>
                </value>
            </entry>
            <entry>
                <key>memory_oversubscribed</key>
                <value>
                    <name>memory_oversubscribed</name>
                </value>
            </entry>
            <entry>
                <key>query_admission_timeout</key>
                <value>
                    <name>query_admission_timeout</name>
                </value>
            </entry>
            <entry>
                <key>unreachable_impala_deamon</key>
                <value>
                    <name>unreachable_impala_deamon</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
            </entry>
            <entry>
                <key>hdfs_read_fail</key>
                <value>${execution.error:toLower():contains('failed to open hdfs file')}</value>
            </entry>
            <entry>
                <key>kerberos_ticket_expired</key>
                <value>${execution.error:toLower():contains('-k requires a valid kerberos ticket but no valid kerberos ticket found')}</value>
            </entry>
            <entry>
                <key>memory_limit_exceeded</key>
                <value>${execution.error:toLower():contains('memory limit exceeded')}</value>
            </entry>
            <entry>
                <key>memory_oversubscribed</key>
                <value>${execution.error:toLower():contains('memory is likely oversubscribed.')}</value>
            </entry>
            <entry>
                <key>query_admission_timeout</key>
                <value>${execution.error:toLower():contains('admission for query exceeded timeout')}</value>
            </entry>
            <entry>
                <key>unreachable_impala_deamon</key>
                <value>${execution.error:toLower():contains('cancelled due to unreachable impalad(s)')}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Route on error type</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>hdfs_read_fail</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>kerberos_ticket_expired</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>memory_limit_exceeded</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>memory_oversubscribed</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>query_admission_timeout</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unreachable_impala_deamon</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
</processors>
<processors>
    <id>67052ec3-43b7-3997-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>456.22474355766144</x>
        <y>388.7971552933168</y>
    </position>
    <versionedComponentId>67052ec3-43b7-3997-84ae-710b0b817d92</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Write to the log that something went wrong trying to directly insert data into a production table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Failed attempt on direct_insert_query for file '${filename}' of type ${logtype} (mem_limit=${impala_mem_limit}G)
Error details:
${execution.error}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log error on direct insert</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>958e942c-128e-3cd8-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>471.6140868193802</x>
        <y>906.5650996292543</y>
    </position>
    <versionedComponentId>958e942c-128e-3cd8-be03-e9fae7c6901b</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because of an expired Kerberos ticket.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Kerberos ticket was expired when directly inserting into production table for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Kerberos Ticket Expired</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>a4e7af30-079e-331c-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>982.3805622690838</x>
        <y>1913.638265522809</y>
    </position>
    <versionedComponentId>a4e7af30-079e-331c-b3f7-371b1afe6b19</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Increase the counter that keeps track of the number of staging table filling retries.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>retrycounter4</key>
                <value>
                    <name>retrycounter4</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>retrycounter4</key>
                <value>${retrycounter4:isNull():ifElse(1, ${retrycounter4:plus(1)})}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Increase retry counter</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>b5730c5a-9f60-334e-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>-434.5320466034714</x>
        <y>918.416356953473</y>
    </position>
    <versionedComponentId>b5730c5a-9f60-334e-bb14-1bd6997bdd94</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query was killed because of oversubscribed memory.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Staging query for file '${filename}' was killed because memory was oversubscribed (too many queries running at once).</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Memory Oversubscribed</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>c6ed9246-ad55-3c97-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>1436.1076687708085</x>
        <y>1631.9967717901052</y>
    </position>
    <versionedComponentId>c6ed9246-ad55-3c97-98e0-b138fd04efc7</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Execute a partition-level refresh to solve the HDFS read error.
This cheap refresh replaces the expensive "invalidate metadata" we used to run out of desperation.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Working Directory</key>
                <value>
                    <name>Working Directory</name>
                </value>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>
                    <name>Command Path</name>
                </value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>
                    <name>argumentsStrategy</name>
                </value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Command Arguments</name>
                </value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Argument Delimiter</name>
                </value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>
                    <name>Ignore STDIN</name>
                </value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
                <value>
                    <name>Output Destination Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>
                    <name>Max Attribute Length</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Working Directory</key>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>/bin/impala-shell</value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>Command Arguments Property</value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"${refresh_statement}"</value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>;</value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>256</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Run refresh statement</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>nonzero status</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>output stream</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
</processors>
<processors>
    <id>c953300d-53c6-3e34-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>481.81222219535675</x>
        <y>2119.1464442337465</y>
    </position>
    <versionedComponentId>c953300d-53c6-3e34-b894-9eaf08178c96</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>If the retry counter has not reached it's maximum value yet, start another attempt to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Routing Strategy</key>
                <value>
                    <name>Routing Strategy</name>
                </value>
            </entry>
            <entry>
                <key>toomanytries</key>
                <value>
                    <name>toomanytries</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
            </entry>
            <entry>
                <key>toomanytries</key>
                <value>${retrycounter4:gt(5)}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Continue until max tries</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>toomanytries</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
</processors>
<processors>
    <id>c9b0d809-d4b3-38d9-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>964.8633503550213</x>
        <y>1123.332357319684</y>
    </position>
    <versionedComponentId>c9b0d809-d4b3-38d9-80f0-1f7899cc6dbd</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Increase the memory limit for this query by the pre-defined increment.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>impala_mem_limit</key>
                <value>
                    <name>impala_mem_limit</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>impala_mem_limit</key>
                <value>${impala_mem_limit:plus(${impala_mem_limit_increment})}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Increase mem_limit</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>ddf698c5-bb05-371b-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>1887.8644489878338</x>
        <y>1335.4562129105043</y>
    </position>
    <versionedComponentId>ddf698c5-bb05-371b-8911-01d3b7d17777</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Wait a number of seconds before doing another attempt to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Rate Control Criteria</key>
                <value>
                    <name>Rate Control Criteria</name>
                </value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>
                    <name>Time Duration</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate</dependentValues>
                        <dependentValues>attribute value</dependentValues>
                        <dependentValues>flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Data Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum FlowFile Rate</name>
                </value>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
                <value>
                    <dependencies>
                        <dependentValues>attribute value</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Rate Controlled Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
                <value>
                    <name>Grouping Attribute</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Rate Control Criteria</key>
                <value>flowfile count</value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>10 sec</value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>10 second delay</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ControlRate</type>
</processors>
<processors>
    <id>f5117cf0-d7c0-394f-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>1385.6784598357376</x>
        <y>2120.472898587492</y>
    </position>
    <versionedComponentId>f5117cf0-d7c0-394f-a533-cee5087534ac</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Write to the log that Impala permanently fails to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>error</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Unable to execute direct_insert_query for file '${filename}' of type ${logtype}, check queue</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log error on Ingest Staging</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>f7164eff-76c9-3bf4-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>466.83551832377134</x>
        <y>1344.2772578323793</y>
    </position>
    <versionedComponentId>f7164eff-76c9-3bf4-a7cc-03f1a5f2163c</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Wait a number of seconds before doing another attempt to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Rate Control Criteria</key>
                <value>
                    <name>Rate Control Criteria</name>
                </value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>
                    <name>Time Duration</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate</dependentValues>
                        <dependentValues>attribute value</dependentValues>
                        <dependentValues>flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Data Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum FlowFile Rate</name>
                </value>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
                <value>
                    <dependencies>
                        <dependentValues>attribute value</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Rate Controlled Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
                <value>
                    <name>Grouping Attribute</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Rate Control Criteria</key>
                <value>flowfile count</value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>60 sec</value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>60 second delay</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ControlRate</type>
</processors>
<processors>
    <id>fb56daa6-28a6-31fc-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>965.0395628935989</x>
        <y>905.1749629105043</y>
    </position>
    <versionedComponentId>fb56daa6-28a6-31fc-a0a2-60360c788c23</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Impala memory limit exceeded while directly inserting into production table for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Memory Limit Exceeded</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>feb81139-a9aa-3f35-0000-000000000000</id>
    <parentGroupId>74a66213-0633-350b-0000-000000000000</parentGroupId>
    <position>
        <x>1428.2703978545364</x>
        <y>1376.8536738480043</y>
    </position>
    <versionedComponentId>feb81139-a9aa-3f35-aed2-10b3bee532a6</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Executing ${refresh_statement} for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log refresh statement</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <name>Direct insert error handling (copy of Ingest staging error handling)</name>
                            <variables/>
                        </processGroups>
                        <processors>
                            <id>6010f5d8-88fe-3e71-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <position>
<x>563.3710372310738</x>
<y>2243.7466639951</y>
                            </position>
                            <versionedComponentId>6010f5d8-88fe-3e71-9785-cc01ad8e5392</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>In the next processor, we want to replace the part of the query that gets data from the production table by an empty string.
For some reason, the regular expression that matches this query fragment doens't always work properly if it's not pre-calculated and put into an attribute beforehand.
That's why we calculate the regular expression here, and not as part of the next processor.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>regular_expression</key>
        <value>
            <name>regular_expression</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>regular_expression</key>
        <value>${prod_table:prepend ("select(\R|.)*?from(\R|.)*?"):append("(\R|.)*?((union (all){0,1})|;)")}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Determine regular expression</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>66e9e0a8-9e55-303b-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <position>
<x>579.952886602001</x>
<y>3062.6993128423633</y>
                            </position>
                            <versionedComponentId>66e9e0a8-9e55-303b-9e88-c5b25522d66a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the direct insert query was successfully run.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Direct insert query for file '${filename}' of type ${logtype} succesfully executed.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Direct insert successful</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>77487988-ffed-3a8f-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <position>
<x>568.901829467402</x>
<y>2484.90828508885</y>
                            </position>
                            <versionedComponentId>77487988-ffed-3a8f-abde-5c1b7d32de7b</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>The query to insert the contents of the external table directly into the production table is derived from the query that is defined for filling the staging table (${query_4_insertStaging}).
This is done by:
* Removing any truncate table / alter table statements (we don't want the production table to be accidentally truncated!)
* Removing any refresh statements (these should not be needed)
* Removing the part of the query that gets records from the production table (when inserting directly into the production table, we only need to insert the records that are present in the external table )
* Replacing the name of the staging table (which is normally the destination table of the query) by the name of the production table

NOTE: The replaceAll that replaces the part of the orginal query before the union, had to be replaced by a replaceFirst to avoid a weird error message that occured in some cases.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_query</key>
        <value>
            <name>direct_insert_query</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_query</key>
        <value>${ query_4_ingestStaging
   :replaceAll ("InsStgTab", "InsPrdTab")
   :replaceAll ("truncate(\R|.)*?table(\R|.)*?;", "")
   :replaceAll ("refresh(\R|.)*?;", "")
   :replaceAll ("alter(\R|.)*?table(\R|.)*?;", "")
   :replaceFirst (${regular_expression}, "")
   :replaceAll (${staging_table}, ${prod_table}) 
 }</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Create direct insert query</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>9607fc1c-18e0-33b4-0000-000000000000</id>
                            <parentGroupId>06b43de0-87a7-3495-0000-000000000000</parentGroupId>
                            <position>
<x>577.268675583975</x>
<y>2733.721345271658</y>
                            </position>
                            <versionedComponentId>9607fc1c-18e0-33b4-911c-49df32ed5875</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Execute the direct insert query that was determined earlier.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/run_impala_query.sh</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;--quiet;-q;"
set mem_limit=${impala_mem_limit}G;
${direct_insert_query}
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Execute direct insert query</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Execute direct insert</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>20bd500e-6720-370f-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1017.2962727183026</x>
                        <y>675.5974635208559</y>
                    </position>
                    <versionedComponentId>20bd500e-6720-370f-be56-995574bb2007</versionedComponentId>
                    <comments>Determine the data type of the file.
For each data type, the appropriate table names and queries are configured here.</comments>
                    <contents>
                        <connections>
                            <id>0082fd9f-c0ac-3f2e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0082fd9f-c0ac-3f2e-ac7c-79e34d22b80b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>2047.576416015625</x>
<y>1504.00341796875</y>
                            </bends>
                            <bends>
<x>2048.350341796875</x>
<y>2705.444580078125</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f288aa30-6ba1-37a3-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>f288aa30-6ba1-37a3-82f3-a9ca9d0c43b5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>no</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7f3204ad-807c-394a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7f3204ad-807c-394a-8fdb-735500e14d13</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>01df642a-6651-35b2-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>01df642a-6651-35b2-a0e1-754e1c7052e8</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>6513.2880859375</x>
<y>456.6499938964844</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f173341f-b065-3a00-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>f173341f-b065-3a00-99d9-390826b811cb</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b29fa9a9-c222-3c7f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b29fa9a9-c222-3c7f-bfa1-66e143291ddd</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>02d381c0-ef85-379b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>02d381c0-ef85-379b-b3d0-cbf0f08f01df</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>9203.92138671875</x>
<y>-518.3494873046875</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a21c3f27-94bf-3dda-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a21c3f27-94bf-3dda-8e4c-11ee8116e4e7</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_BASE_QUALIFICATIONS_TRACING_COMP</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0331dacf-e3b6-3a7e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0331dacf-e3b6-3a7e-9eb6-e11098c37b19</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5774ae53-7470-3848-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>5774ae53-7470-3848-8357-ab93c396923d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4a63102d-5006-3676-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4a63102d-5006-3676-a121-5dff9d4a8467</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>03a6ad35-0c7f-3c3a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>03a6ad35-0c7f-3c3a-a559-334f442fac65</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8015be83-a676-36b0-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8015be83-a676-36b0-a051-cc04e3393b11</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e6b61e8a-48f5-3e60-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e6b61e8a-48f5-3e60-8e63-1057bcc347e8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>05ff5ad9-f726-3a89-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>05ff5ad9-f726-3a89-af7e-88390a173b3d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cf6ea0dc-6d2d-3ef2-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>cf6ea0dc-6d2d-3ef2-9188-297451696c77</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0ad08628-d63d-3a30-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0ad08628-d63d-3a30-906a-760743208c0d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0686c13e-9d48-31f0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0686c13e-9d48-31f0-afeb-335f37ab38db</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>506260ab-3ecb-361a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>506260ab-3ecb-361a-a022-6e5a64c4023d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fd628047-b15f-3807-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>fd628047-b15f-3807-a4f5-47144dc5e396</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>06a7ec1f-b9df-3dd1-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>06a7ec1f-b9df-3dd1-8426-af379840b1d4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a5c7f581-a710-35f4-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a5c7f581-a710-35f4-8f9e-d1480297cbc7</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ee829761-ce0c-3470-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ee829761-ce0c-3470-972a-29e89b72d7e6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>06d4adc1-b261-31c7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>06d4adc1-b261-31c7-b0b5-1d524ada2449</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1523.9066162109375</x>
<y>849.7471313476562</y>
                            </bends>
                            <bends>
<x>1352.5958251953125</x>
<y>948.3412475585938</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>15ec2b01-a245-3479-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>15ec2b01-a245-3479-aaf2-122f4c0901a6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9eea18ca-c05d-39b9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9eea18ca-c05d-39b9-974c-dca4946be386</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>07ea2b95-0a51-3535-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>07ea2b95-0a51-3535-aa35-b73754389c70</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>568d07af-c28c-3d57-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>568d07af-c28c-3d57-a674-fd9bc8d10268</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8795df0b-090b-32a2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8795df0b-090b-32a2-9f01-b114e318d369</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0871033e-0e5d-35f7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0871033e-0e5d-35f7-b86d-318d0169188d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>2063.4913330078125</x>
<y>869.7337646484375</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>15ec2b01-a245-3479-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>15ec2b01-a245-3479-aaf2-122f4c0901a6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>04081a5b-be96-3a18-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>04081a5b-be96-3a18-a355-386bd456f98e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>088216df-6b31-3483-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>088216df-6b31-3483-a8e0-77e7fdf5e0d2</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>12570.80859375</x>
<y>358.8052062988281</y>
                            </bends>
                            <bends>
<x>12568.0</x>
<y>432.0</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3f88dd20-d01a-3e15-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>3f88dd20-d01a-3e15-a0a2-c4280d1d8389</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>0</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c593fe10-3e1a-37c2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c593fe10-3e1a-37c2-83f2-405454e620a4</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>08ea0700-c517-3597-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>08ea0700-c517-3597-93f7-efc07f0d875d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7b5f5754-7ee4-333f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7b5f5754-7ee4-333f-8f67-4df19df2f091</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2eef7031-0a1c-3b49-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2eef7031-0a1c-3b49-8cd0-eda0ce49aef5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>097eee9e-aade-3d89-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>097eee9e-aade-3d89-a6d5-ea70a6f7bd65</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bc2848cb-49e9-392a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bc2848cb-49e9-392a-843c-dfa72594c3d2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>46fb6735-906f-3092-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>46fb6735-906f-3092-8b14-7d8a7f6f77d0</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0a2a26c9-2ddf-3c9c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0a2a26c9-2ddf-3c9c-a91f-c379cb68e6f4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f2b6d98-b2ed-32d1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0f2b6d98-b2ed-32d1-9dce-06e8554a3943</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>866d9ad3-4b78-3b92-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>866d9ad3-4b78-3b92-af44-be54d1ef6752</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0bc23eed-7f30-38f7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0bc23eed-7f30-38f7-8146-22747c5ceea7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7d2c405c-c696-3de4-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>7d2c405c-c696-3de4-bb1a-ce56afad2c34</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>60423336-fd18-38e3-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>60423336-fd18-38e3-b0c7-1893bd7ae08e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0c7d7d88-b295-3ca8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0c7d7d88-b295-3ca8-b16f-acb90a588ec1</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e6c808fa-6a4e-3468-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e6c808fa-6a4e-3468-8518-7568b780332f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4d43e470-1e2c-3f18-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4d43e470-1e2c-3f18-8da8-a6ef1e5bb023</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0ce12ce7-4f79-3c1b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0ce12ce7-4f79-3c1b-bc85-5d0e7cc849e0</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bf86600c-67b7-37bb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bf86600c-67b7-37bb-ae15-d445cdbb9cd1</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5cdee95a-694d-3a5d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5cdee95a-694d-3a5d-a64a-2f5ba39a42b6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0d1226a8-caf2-36fe-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0d1226a8-caf2-36fe-967f-ffd009ad3852</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6d79b58f-4c37-338b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6d79b58f-4c37-338b-b361-8bae9ef31168</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1fd5ac35-82b1-3757-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1fd5ac35-82b1-3757-8aec-02330787ac86</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0d6b6f91-f50c-3d02-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0d6b6f91-f50c-3d02-a38e-f262a0f518ce</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>4977.659912109375</x>
<y>-335.5964050292969</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>40da01fb-a3ed-39dc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>40da01fb-a3ed-39dc-a975-5c8f0213cb1b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_PROCESS_RUNCARDS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0e58f4e0-4ec8-3507-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>0e58f4e0-4ec8-3507-9d9f-e590f9455aca</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>12768.26953125</x>
<y>791.8229675292969</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f73709bd-9835-3382-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>f73709bd-9835-3382-a080-8a587a715575</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cc5fafa2-4d78-300f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>cc5fafa2-4d78-300f-9a8a-4dadf6fe7f21</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>10a8e816-f8f2-3705-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>10a8e816-f8f2-3705-bf4b-b96d77ae8856</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fa56f03d-5b1d-38ab-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>fa56f03d-5b1d-38ab-9f25-9261b480b964</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4f0436d5-5436-33f1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4f0436d5-5436-33f1-a110-d9c54ddce58c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>10aa2830-bb08-3621-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>10aa2830-bb08-3621-8389-e91ea7b06374</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a8ec5f60-a870-3538-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a8ec5f60-a870-3538-b88a-b45d1e321f27</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.NewestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>223d6a18-1b25-3dd7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>223d6a18-1b25-3dd7-8e19-ec6fb2734b78</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>11bbf170-d629-30eb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>11bbf170-d629-30eb-9b9d-50a69b4cf730</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e014436a-abe5-300d-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e014436a-abe5-300d-b692-8d1f3d5b81b2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3f88dd20-d01a-3e15-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>3f88dd20-d01a-3e15-a0a2-c4280d1d8389</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>11dab21a-aebc-351b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>11dab21a-aebc-351b-a3e7-95607f341a1b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>60423336-fd18-38e3-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>60423336-fd18-38e3-b0c7-1893bd7ae08e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>99889d82-50f5-3225-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>99889d82-50f5-3225-be23-3533b4e07940</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>11f7f164-6c28-3ace-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>11f7f164-6c28-3ace-921c-63d6cca1c8b4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f73709bd-9835-3382-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>f73709bd-9835-3382-a080-8a587a715575</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ab95b9da-5754-3c5a-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>ab95b9da-5754-3c5a-bdd9-8af32565c1fb</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>12ace199-f8a5-33e3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>12ace199-f8a5-33e3-b157-9cc2753d2e63</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>9228.1328125</x>
<y>492.9552307128906</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4a63102d-5006-3676-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4a63102d-5006-3676-a121-5dff9d4a8467</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8795df0b-090b-32a2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8795df0b-090b-32a2-9f01-b114e318d369</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>12ef61ae-563b-3549-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>12ef61ae-563b-3549-95a6-791728d1cce6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>099f9f5d-9397-39ae-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>099f9f5d-9397-39ae-a8ed-ba8a22497f9c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f622abe-a986-3835-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0f622abe-a986-3835-8ffe-967d42653338</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1437098e-c89a-3538-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>1437098e-c89a-3538-a359-20b1ab533cf2</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>223d6a18-1b25-3dd7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>223d6a18-1b25-3dd7-8e19-ec6fb2734b78</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a4c4f8e7-edad-30fe-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a4c4f8e7-edad-30fe-88b9-3c6d7b15848a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>14462491-7e43-30b1-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>14462491-7e43-30b1-9923-48a7967b01b3</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e014436a-abe5-300d-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e014436a-abe5-300d-b692-8d1f3d5b81b2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ed842f31-406c-3fd3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ed842f31-406c-3fd3-818b-c69cbc44a551</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>16a4aef8-9c8f-3dc3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>16a4aef8-9c8f-3dc3-8b43-d6719fae046e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>12d6d292-8cc8-3370-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>12d6d292-8cc8-3370-8b0d-1ae63a3d773d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bf86600c-67b7-37bb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bf86600c-67b7-37bb-ae15-d445cdbb9cd1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>17c66212-fe3e-3d35-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>17c66212-fe3e-3d35-ac48-9be8e9a5d64e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4dc6c882-777b-34be-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4dc6c882-777b-34be-9aff-2aac5700b78e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2ba9f09a-fe3a-3960-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2ba9f09a-fe3a-3960-97df-ad8c87b085d1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>18adf3b1-7dbb-348a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>18adf3b1-7dbb-348a-ba0e-c9fc6cdd3a92</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2b064377-7bb6-312c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2b064377-7bb6-312c-8deb-c876a26306a2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fb0df893-5895-30a8-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>fb0df893-5895-30a8-afed-63e0d5303246</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1a00f078-19ee-39bb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>1a00f078-19ee-39bb-91d6-001e0678612a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>40acdafb-176f-31f1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>40acdafb-176f-31f1-8e5c-680d85ee24c3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f594c481-e1e8-3696-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f594c481-e1e8-3696-bff7-4cf50687f4b9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1babff5c-1b3a-3576-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>1babff5c-1b3a-3576-ac3b-aa7a2e719ab0</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c20a474b-19b1-3fbf-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c20a474b-19b1-3fbf-8f17-e20462732e33</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>04219f4b-e2c0-351a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>04219f4b-e2c0-351a-97ea-e19643c14f85</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1c75fe2f-9205-3593-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>1c75fe2f-9205-3593-89d5-ded70b7c9fb4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>07405d70-2425-396f-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>07405d70-2425-396f-a54f-a988ade9be18</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2ac552c9-3a37-3b14-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2ac552c9-3a37-3b14-abb6-aa6a431c9999</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1ce90e5a-1a0a-3f01-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>1ce90e5a-1a0a-3f01-9a14-e98b57a44e68</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>67f5df94-576b-3cee-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>67f5df94-576b-3cee-b6a7-6cd89fe4a5f8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4668260e-d227-3db0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4668260e-d227-3db0-b41f-dfcbd8f06d6b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1e0d30ef-0350-33fd-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>1e0d30ef-0350-33fd-80ca-5dfe72b53039</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1895.1944580078125</x>
<y>411.1867370605469</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8943d5b4-6b95-3f6e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8943d5b4-6b95-3f6e-afd9-a27b88b3d1da</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7d958297-f712-3fb7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7d958297-f712-3fb7-860b-23613632bdf5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1e4d9c3a-328b-3e6f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>1e4d9c3a-328b-3e6f-8eb7-26593641e746</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>362.4626770019531</x>
<y>-282.4608459472656</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3096128a-1b05-3912-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3096128a-1b05-3912-b6b3-5f9f8557b5de</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_METROLOGY_RAW</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1ed2f7c7-060a-348c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>1ed2f7c7-060a-348c-8be6-084494a16166</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>5861.54150390625</x>
<y>-344.1417236328125</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a4c4f8e7-edad-30fe-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a4c4f8e7-edad-30fe-88b9-3c6d7b15848a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_PRODUCTS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2013c322-deba-30b3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2013c322-deba-30b3-933c-39f5e4c7de4b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1472.0892333984375</x>
<y>415.44573974609375</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0592ff24-3170-3e22-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0592ff24-3170-3e22-9001-b8abf79f86ed</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5791ba39-ffe3-35e3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5791ba39-ffe3-35e3-a3a3-4bc8a8e8d70f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>22cb45ff-6fc1-3fdf-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>22cb45ff-6fc1-3fdf-844e-9b86aca36107</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f30216b-8e7e-317f-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0f30216b-8e7e-317f-9daa-b2435e3ceec3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0b14fa67-6933-3218-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0b14fa67-6933-3218-9a0b-eeebe368ff16</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2359d2ae-a074-3088-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2359d2ae-a074-3088-bc6f-641eb497864b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f30216b-8e7e-317f-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0f30216b-8e7e-317f-9daa-b2435e3ceec3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ed0b322c-8f4a-3221-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>ed0b322c-8f4a-3221-9503-a6cc13afc4a6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>23b97435-1131-3faf-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>23b97435-1131-3faf-accb-5ffb2df71077</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5774ae53-7470-3848-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>5774ae53-7470-3848-8357-ab93c396923d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a5c7f581-a710-35f4-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a5c7f581-a710-35f4-8f9e-d1480297cbc7</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>24e6c4c8-160e-36fb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>24e6c4c8-160e-36fb-b699-a778e8de423b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0592ff24-3170-3e22-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0592ff24-3170-3e22-9001-b8abf79f86ed</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8943d5b4-6b95-3f6e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8943d5b4-6b95-3f6e-afd9-a27b88b3d1da</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>259c3794-e456-3ecc-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>259c3794-e456-3ecc-9cd4-912fbd9b6b0d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>12285.037109375</x>
<y>-744.7645721435547</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>317fd924-aa2a-3591-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>317fd924-aa2a-3591-b659-7f842e875af1</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_BASE_QUALIFICATIONS_E3_UVA</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2663b43f-373e-34ec-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2663b43f-373e-34ec-8542-b6fcc8c142e5</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9e42ed97-1cb2-39a1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9e42ed97-1cb2-39a1-95a1-a77b12c0ea3a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2d3b350e-b3af-315b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2d3b350e-b3af-315b-aad7-e6f35ee7be36</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>28303b7a-ba33-36d5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>28303b7a-ba33-36d5-811d-95387ca0c8b8</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>aef4b39b-37f0-34fa-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>aef4b39b-37f0-34fa-92ab-91b0371199e9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>token_succesfully_acquired</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ab5f6d23-d0ad-3853-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ab5f6d23-d0ad-3853-9632-53191af4971a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>294c2fbc-af27-3fd9-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>294c2fbc-af27-3fd9-bde8-263f8d3d06b7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0ad08628-d63d-3a30-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0ad08628-d63d-3a30-906a-760743208c0d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>58c59b16-4551-34d5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>58c59b16-4551-34d5-bef6-929b6a8fbeef</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>29771d5a-4184-3e93-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>29771d5a-4184-3e93-a03e-1aa41c12d9be</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0b14fa67-6933-3218-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0b14fa67-6933-3218-9a0b-eeebe368ff16</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9e42ed97-1cb2-39a1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9e42ed97-1cb2-39a1-95a1-a77b12c0ea3a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2a79ff51-f130-3c42-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2a79ff51-f130-3c42-a3c7-27946436e9fa</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>6692.6171875</x>
<y>506.4469451904297</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ca19458c-71bc-3176-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ca19458c-71bc-3176-8dcc-046326f37f7a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <selectedRelationships>wait</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b29fa9a9-c222-3c7f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b29fa9a9-c222-3c7f-bfa1-66e143291ddd</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2a915ca6-8970-3cd2-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2a915ca6-8970-3cd2-aac8-4f82920e1c4a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>673eeb4b-06d8-3452-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>673eeb4b-06d8-3452-ae42-c5bb32308e70</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a7496bea-b4e9-3b3e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a7496bea-b4e9-3b3e-9fa2-8ec7c1eb350e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2c2f7ab3-87e7-33dc-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2c2f7ab3-87e7-33dc-94a2-3d15ef8dcf88</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>91d2bd4b-2009-3c1f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>91d2bd4b-2009-3c1f-9c66-765d698cd0fa</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>token_not_acquired</selectedRelationships>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ab5f6d23-d0ad-3853-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ab5f6d23-d0ad-3853-9632-53191af4971a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2da99486-1459-3eb2-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2da99486-1459-3eb2-b071-55cfcc783c68</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d9725acf-a081-3650-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>d9725acf-a081-3650-8c62-534009796248</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d861a580-d7a0-39f9-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>d861a580-d7a0-39f9-9d10-a87c5295255c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2e7dd53e-071d-3935-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2e7dd53e-071d-3935-8ba9-0ae4d702ae4e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b1f60d05-1961-3784-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b1f60d05-1961-3784-adca-ebf8e733f24b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>506260ab-3ecb-361a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>506260ab-3ecb-361a-a022-6e5a64c4023d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2ee23ffb-e2b7-37ce-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2ee23ffb-e2b7-37ce-985f-3b099d3fe66f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fdb1d059-7b6a-35dc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>fdb1d059-7b6a-35dc-a67a-76bbd2042518</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3bff7d3f-af69-3da5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3bff7d3f-af69-3da5-9e72-00e7ff46bccb</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2fc6f965-8a5b-3ef8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2fc6f965-8a5b-3ef8-a1c9-80174b14f6de</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>684f3a77-f26a-3beb-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>684f3a77-f26a-3beb-a4f3-c339d8970d86</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5774ae53-7470-3848-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>5774ae53-7470-3848-8357-ab93c396923d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>30dd7b3f-1b70-3329-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>30dd7b3f-1b70-3329-9b84-a96e6c63017b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>4437.4072265625</x>
<y>-340.3487548828125</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>54a3c2e7-3482-309b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>54a3c2e7-3482-309b-859d-cfdd7daba40b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_LOT_STATUS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>335fec4d-ecd4-3c98-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>335fec4d-ecd4-3c98-8bcd-7f323f8664ff</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>04081a5b-be96-3a18-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>04081a5b-be96-3a18-a355-386bd456f98e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7d958297-f712-3fb7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7d958297-f712-3fb7-860b-23613632bdf5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>34667b8c-fec5-36d4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>34667b8c-fec5-36d4-ae30-82dcfc433128</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>54b63d66-9ee8-34a7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>54b63d66-9ee8-34a7-9bad-e1a42a247aec</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1c05f258-3afc-374a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1c05f258-3afc-374a-a727-6ee30ae91e52</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>34806c73-13db-333a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>34806c73-13db-333a-b434-11b1918ae787</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>7062.15576171875</x>
<y>-395.7188415527344</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ea452dba-d1ee-3b2b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ea452dba-d1ee-3b2b-addb-6a632488cd39</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_DEFECTIVITY_RAW</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>36e1e0da-cb52-381b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>36e1e0da-cb52-381b-b477-27ca6a120365</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ed842f31-406c-3fd3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ed842f31-406c-3fd3-818b-c69cbc44a551</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>25b22251-61c7-3bbb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>25b22251-61c7-3bbb-9be8-dfca291aeb00</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>371aeab1-6532-34e9-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>371aeab1-6532-34e9-b179-c1dde835a242</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>11c9f9dc-c4aa-3966-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>11c9f9dc-c4aa-3966-bac6-f58f859703c5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2b064377-7bb6-312c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2b064377-7bb6-312c-8deb-c876a26306a2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>37eb7025-7c90-3c57-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>37eb7025-7c90-3c57-a35a-49f5e8ccd7be</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>572cdb34-3931-3a55-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>572cdb34-3931-3a55-85ed-a9138d3bac6b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>da5fbca6-367a-38de-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>da5fbca6-367a-38de-93ae-acd20e798283</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>38f33802-d78a-33cd-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>38f33802-d78a-33cd-a15a-1ff3b8ef6a59</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>6693.1123046875</x>
<y>871.9896240234375</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>99f0ec6a-913b-3c28-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>99f0ec6a-913b-3c28-ad03-43dad8731d22</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ca19458c-71bc-3176-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ca19458c-71bc-3176-8dcc-046326f37f7a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>39315e00-cae1-3b82-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>39315e00-cae1-3b82-b357-431936d4a11a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>14468.263671875</x>
<y>415.758544921875</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6d1c8379-d395-34e3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6d1c8379-d395-34e3-a7fa-9d58ff3e2bc3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2a3d9baf-221f-334f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2a3d9baf-221f-334f-b247-fbb8004a4327</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>39885d53-72f5-35ae-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>39885d53-72f5-35ae-8920-9922bd3c61ca</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>244a5630-15b8-34bb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>244a5630-15b8-34bb-89aa-92027703965b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a8ec5f60-a870-3538-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a8ec5f60-a870-3538-b88a-b45d1e321f27</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3a038357-1ab4-3349-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>3a038357-1ab4-3349-aa03-c623d979f339</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b16b41fd-171e-3a18-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>b16b41fd-171e-3a18-aafd-8b3854cfe81c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>12d6d292-8cc8-3370-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>12d6d292-8cc8-3370-8b0d-1ae63a3d773d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3a44db49-675e-31b0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>3a44db49-675e-31b0-aa58-241083be6b91</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8bb91212-9d12-3bb5-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8bb91212-9d12-3bb5-8693-a3e002d50e9a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c2a87aac-427d-3e62-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c2a87aac-427d-3e62-a224-f7b2cb399ef2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3a472acc-6543-35e5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>3a472acc-6543-35e5-baf5-42e4cc1fc910</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7eb2088c-9b2b-349b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7eb2088c-9b2b-349b-863a-081bf4266de4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d08d94d8-9ac7-3a32-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d08d94d8-9ac7-3a32-a984-086b5750c075</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3b63c30c-7a77-315a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>3b63c30c-7a77-315a-ba97-10bfd4e6278b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>31b15e40-b7cf-3078-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>31b15e40-b7cf-3078-ade4-c5df707a6836</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7f94b6d2-49b1-3934-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>7f94b6d2-49b1-3934-9ff0-231c8a4a5ec4</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3c61a1dc-4a2f-3d12-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>3c61a1dc-4a2f-3d12-97bb-9467006ebf4f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>7447.080078125</x>
<y>-419.44886779785156</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a6a1a03d-685b-385b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a6a1a03d-685b-385b-9f4a-396e0f0f83d9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_BASE_WAFER_PRODUCTION_STEPS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3d03fdf4-e0a7-3f58-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>3d03fdf4-e0a7-3f58-9c51-3173f52de4ab</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a19f799b-c686-3b30-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a19f799b-c686-3b30-835f-eb27ebcdc59c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3f021536-150d-3f43-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>3f021536-150d-3f43-9202-63f1c39a4a54</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d861a580-d7a0-39f9-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>d861a580-d7a0-39f9-9d10-a87c5295255c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cf521920-0b16-3003-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>cf521920-0b16-3003-a38a-80456022665a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3f04ce89-7c48-3363-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>3f04ce89-7c48-3363-9cf8-945900cf3d19</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>10592.04150390625</x>
<y>-635.5108947753906</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f654ab95-0b2f-3f81-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f654ab95-0b2f-3f81-af91-d188bab51357</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_PMIVIEW_DIMS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>403a1a07-03a3-35d7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>403a1a07-03a3-35d7-8faa-fceb6f91e9ea</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>14218.263671875</x>
<y>417.008544921875</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8015be83-a676-36b0-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8015be83-a676-36b0-a051-cc04e3393b11</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2a3d9baf-221f-334f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2a3d9baf-221f-334f-b247-fbb8004a4327</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4079fd5a-c74c-37f9-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4079fd5a-c74c-37f9-9e44-80a0e13f077e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d4d623cf-abf6-38c3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d4d623cf-abf6-38c3-bce0-4e793ec4f67c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4b09a1c7-e350-377b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4b09a1c7-e350-377b-a69d-de4ac9013836</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>40a31ee4-27cd-3df2-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>40a31ee4-27cd-3df2-a462-503e23eb4b28</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7f94b6d2-49b1-3934-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>7f94b6d2-49b1-3934-9ff0-231c8a4a5ec4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7d2c405c-c696-3de4-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>7d2c405c-c696-3de4-bb1a-ce56afad2c34</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>41b227d9-dc4c-3eb4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>41b227d9-dc4c-3eb4-a578-e530f2cf50db</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ed0b322c-8f4a-3221-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>ed0b322c-8f4a-3221-9503-a6cc13afc4a6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0592ff24-3170-3e22-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0592ff24-3170-3e22-9001-b8abf79f86ed</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>42783364-0c3b-306f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>42783364-0c3b-306f-9149-4977e799af27</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b70789df-3a09-37b7-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>b70789df-3a09-37b7-81d2-407f3df6123e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e48e3d05-3e8e-3320-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e48e3d05-3e8e-3320-8d52-c784a9ae3dc8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>43c9cc9b-7721-3610-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>43c9cc9b-7721-3610-8a7f-a2346a047c88</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0720c094-ef88-3447-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0720c094-ef88-3447-9ce1-fd353d4b6ee5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>original</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8714dc28-1a1f-3c5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8714dc28-1a1f-3c5b-ac20-2e149b4baf30</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>453a1de2-2448-35cc-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>453a1de2-2448-35cc-88cd-125a703e023e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1e4f6ec8-e3f9-34e0-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>1e4f6ec8-e3f9-34e0-9e53-5fef64d30f2d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cf6ea0dc-6d2d-3ef2-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>cf6ea0dc-6d2d-3ef2-9188-297451696c77</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>453cdf34-11a1-3d3f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>453cdf34-11a1-3d3f-bc64-5f832490b10f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1f127933-5a5a-3c9e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1f127933-5a5a-3c9e-afc5-45ce6ace5f12</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a6a1a03d-685b-385b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a6a1a03d-685b-385b-9f4a-396e0f0f83d9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>457ef2f8-096a-3fe1-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>457ef2f8-096a-3fe1-b845-9f9702339f7e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>3498.89599609375</x>
<y>402.0917053222656</y>
                            </bends>
                            <bends>
<x>3454.48779296875</x>
<y>439.33221435546875</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>097a02d8-aef3-3297-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>097a02d8-aef3-3297-87a4-c18d7bb06c10</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>83ea9788-db23-383d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>83ea9788-db23-383d-be0d-a39e68815b5e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>45ceef09-1886-3828-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>45ceef09-1886-3828-b846-8c7fc78c7000</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>10587.85546875</x>
<y>-781.7890014648438</y>
                            </bends>
                            <bends>
<x>13627.1953125</x>
<y>-898.2630004882812</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9e57d216-bd2f-3783-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9e57d216-bd2f-3783-80fa-8200debd9ad5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_PMIVIEW_BATCH</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>47078e6d-3f44-3445-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>47078e6d-3f44-3445-be07-28e572b2433c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>5452.17529296875</x>
<y>-334.3009338378906</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c6b000f8-0183-3093-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c6b000f8-0183-3093-bcc4-50cff6b9ddf0</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_DIAMOND_COMPONENTS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>47e9de8c-7ee1-3499-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>47e9de8c-7ee1-3499-915b-400517b6e7de</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c2fed1b6-40b1-368e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c2fed1b6-40b1-368e-ba0e-5d179b03bd5c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b6d06529-fc99-3b8d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b6d06529-fc99-3b8d-9186-1ad7dc6611df</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>48b4bd12-60e1-3d11-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>48b4bd12-60e1-3d11-b433-9d88ed3c9e95</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ea748b5d-b8d4-3443-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ea748b5d-b8d4-3443-a711-c3f46cf8dc56</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>PROCESSING_OUTSIDE_OFFICE_HOURS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2ba9f09a-fe3a-3960-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2ba9f09a-fe3a-3960-97df-ad8c87b085d1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>49d32247-2025-3bc4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>49d32247-2025-3bc4-8387-36828db4c5c4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>148aa32e-983b-337f-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>148aa32e-983b-337f-b3c7-d4a54b23ff6d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ea452dba-d1ee-3b2b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ea452dba-d1ee-3b2b-addb-6a632488cd39</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4b3a23bf-664e-3ab7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4b3a23bf-664e-3ab7-a569-af08d220fe88</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>9660.22802734375</x>
<y>-551.2462921142578</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5ab3d90b-0b94-3891-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5ab3d90b-0b94-3891-b891-171bc9c34fdf</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_BASE_QUALIFICATIONS_DIAMOND_TIMES</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4bf9c36c-48c8-32e5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4bf9c36c-48c8-32e5-ba38-147c7a441a08</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2ba9f09a-fe3a-3960-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2ba9f09a-fe3a-3960-97df-ad8c87b085d1</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ad7d1a78-c19e-3c52-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ad7d1a78-c19e-3c52-a0e2-6ac0b1db88a0</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4c1cc7ba-a9bb-3015-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4c1cc7ba-a9bb-3015-8e73-c48880b7d845</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>14464.7939453125</x>
<y>-987.8833312988281</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4668260e-d227-3db0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4668260e-d227-3db0-b41f-dfcbd8f06d6b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_OTHER_QUALIFICATIONS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4d2a449b-a0c2-375a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4d2a449b-a0c2-375a-925e-04ec545b0187</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>15ec2b01-a245-3479-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>15ec2b01-a245-3479-aaf2-122f4c0901a6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8056a87c-687b-3fa3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8056a87c-687b-3fa3-a6c0-ea29a2167d6c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4d55fe9c-7a57-3291-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4d55fe9c-7a57-3291-93ba-d05298ff4364</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fb0df893-5895-30a8-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>fb0df893-5895-30a8-afed-63e0d5303246</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2321005e-5989-3bd7-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>2321005e-5989-3bd7-a2d2-0c8fd74d88d3</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4d719854-fefa-37d7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4d719854-fefa-37d7-9c5d-8e13ec1d4530</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>46fb6735-906f-3092-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>46fb6735-906f-3092-8b14-7d8a7f6f77d0</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f654ab95-0b2f-3f81-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f654ab95-0b2f-3f81-af91-d188bab51357</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4e615d9e-1854-3c31-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4e615d9e-1854-3c31-a41b-e05c8e08d4ef</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>40255b41-3eec-3766-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>40255b41-3eec-3766-8d8f-3f2585974277</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>673eeb4b-06d8-3452-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>673eeb4b-06d8-3452-ae42-c5bb32308e70</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4e939098-1c74-31f4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4e939098-1c74-31f4-8599-be158184d22b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cf6ea0dc-6d2d-3ef2-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>cf6ea0dc-6d2d-3ef2-9188-297451696c77</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>14af956e-efb5-341a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>14af956e-efb5-341a-b14a-2161a13c06fb</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4eca3d78-27c8-3f3f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4eca3d78-27c8-3f3f-8eef-6bfb24efcf14</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ff922e19-2a84-30df-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ff922e19-2a84-30df-b794-2dc0231ddc6c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>54a3c2e7-3482-309b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>54a3c2e7-3482-309b-859d-cfdd7daba40b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4f5ed735-af25-3439-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4f5ed735-af25-3439-97b0-fcaf42fa7cc4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9c9dbab5-b605-3d77-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9c9dbab5-b605-3d77-b531-8f9904e92e80</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ed842f31-406c-3fd3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ed842f31-406c-3fd3-818b-c69cbc44a551</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>519f6459-6154-3d1f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>519f6459-6154-3d1f-9475-ec6035ebccdc</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>14af956e-efb5-341a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>14af956e-efb5-341a-b14a-2161a13c06fb</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7069637a-9b70-3925-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7069637a-9b70-3925-af56-00ca37e16931</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>51ecdbca-05dc-3f24-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>51ecdbca-05dc-3f24-80f8-8238d4e5c37b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f594c481-e1e8-3696-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f594c481-e1e8-3696-bff7-4cf50687f4b9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ff922e19-2a84-30df-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ff922e19-2a84-30df-b794-2dc0231ddc6c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5325a311-7e07-36d4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>5325a311-7e07-36d4-bbb5-67d0cb415db6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1637.5177001953125</x>
<y>-298.25543212890625</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>338152d8-d20d-3346-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>338152d8-d20d-3346-9ee9-53fe11bc962c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_TOOL_OVERLAY_RAW</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>542a4285-01bb-310a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>542a4285-01bb-310a-85e5-5a5984b5f2ce</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8943d5b4-6b95-3f6e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8943d5b4-6b95-3f6e-afd9-a27b88b3d1da</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c7858bf6-9d7f-38ed-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c7858bf6-9d7f-38ed-836b-0816190e71bc</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>566e9245-4ba2-3129-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>566e9245-4ba2-3129-855e-35132e195fe6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2275a26f-c15b-32cb-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>2275a26f-c15b-32cb-a813-50dfe0767a00</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9e57d216-bd2f-3783-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9e57d216-bd2f-3783-80fa-8200debd9ad5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>567ceec0-309b-375a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>567ceec0-309b-375a-869c-9d2cc4c9b900</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a7496bea-b4e9-3b3e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a7496bea-b4e9-3b3e-9fa2-8ec7c1eb350e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fa56f03d-5b1d-38ab-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>fa56f03d-5b1d-38ab-9f25-9261b480b964</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>58559bef-c2e4-3398-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>58559bef-c2e4-3398-84d8-0ee92d5f37fe</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bb15a368-5cc5-3981-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>bb15a368-5cc5-3981-ab69-6b85fff38ed3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4c3ff4ca-b742-3d75-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>4c3ff4ca-b742-3d75-adbb-a6d7344eea21</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5948b3e5-a69b-3c39-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>5948b3e5-a69b-3c39-a9ed-217af33ede39</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c09c1f01-c022-30e7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c09c1f01-c022-30e7-8076-8e40f89d5eab</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7eb2088c-9b2b-349b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7eb2088c-9b2b-349b-863a-081bf4266de4</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>59b047b6-0001-35f0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>59b047b6-0001-35f0-ad6e-89e895eb47b2</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>12772.8603515625</x>
<y>431.0845642089844</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cc5fafa2-4d78-300f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>cc5fafa2-4d78-300f-9a8a-4dadf6fe7f21</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c593fe10-3e1a-37c2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c593fe10-3e1a-37c2-83f2-405454e620a4</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5a508379-c0a5-3897-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>5a508379-c0a5-3897-bd4d-4f1b38a609ee</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4dc6c882-777b-34be-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4dc6c882-777b-34be-9aff-2aac5700b78e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>15ec2b01-a245-3479-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>15ec2b01-a245-3479-aaf2-122f4c0901a6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5ae2433f-efff-3fd6-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>5ae2433f-efff-3fd6-8378-a953214a8cb0</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5db44a7f-c153-3be8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5db44a7f-c153-3be8-9bf3-8dbaf05838a9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b144c816-7a43-3fc8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b144c816-7a43-3fc8-97c2-04cb765de0d5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5b749da8-72af-3758-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>5b749da8-72af-3758-9bf9-71cc06e0d8ab</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f7cd0d95-b287-38a4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f7cd0d95-b287-38a4-948a-3ec5d4d7cdac</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d4d623cf-abf6-38c3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d4d623cf-abf6-38c3-bce0-4e793ec4f67c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5dfb6fc7-a11b-3978-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>5dfb6fc7-a11b-3978-a6c7-80a0ad9f206d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ee67c599-67c5-3bb9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ee67c599-67c5-3bb9-8810-ee3a7ae91b75</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>54b63d66-9ee8-34a7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>54b63d66-9ee8-34a7-9bad-e1a42a247aec</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5e3f4473-47c5-3f20-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>5e3f4473-47c5-3f20-a681-2c15f0d2f368</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c7858bf6-9d7f-38ed-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c7858bf6-9d7f-38ed-836b-0816190e71bc</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ee67c599-67c5-3bb9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ee67c599-67c5-3bb9-8810-ee3a7ae91b75</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5f387275-3fbf-344d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>5f387275-3fbf-344d-a729-3208296dcc48</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7d2c405c-c696-3de4-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>7d2c405c-c696-3de4-bb1a-ce56afad2c34</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4f76017d-3aec-3ca7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4f76017d-3aec-3ca7-9afb-a3bc0c807066</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>601edf96-29c7-3190-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>601edf96-29c7-3190-818a-0e09810b5c2f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>24bca2ed-54d3-324e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>24bca2ed-54d3-324e-a84f-8a477f5a4e41</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9c9dbab5-b605-3d77-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9c9dbab5-b605-3d77-b531-8f9904e92e80</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>62011b83-c6d1-3db7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>62011b83-c6d1-3db7-ad50-f17ecddab176</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>eb225a01-d729-3937-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>eb225a01-d729-3937-b215-ce52870fb7e5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>33398198-af0c-3300-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>33398198-af0c-3300-bc55-9d5a8b1bb636</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6364e88a-5620-35ff-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6364e88a-5620-35ff-a738-269714720906</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>11017.9140625</x>
<y>-670.0059356689453</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4b09a1c7-e350-377b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4b09a1c7-e350-377b-a69d-de4ac9013836</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_PMIVIEW_PROGRESS_DIMS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6387ddd8-04c4-3653-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6387ddd8-04c4-3653-b752-bf43d10301de</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cf56a520-1058-388c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>cf56a520-1058-388c-8f62-d5dae46e752c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bb15a368-5cc5-3981-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>bb15a368-5cc5-3981-ab69-6b85fff38ed3</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>644597f2-8124-30d7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>644597f2-8124-30d7-afd3-f59d93e8e028</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2275a26f-c15b-32cb-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>2275a26f-c15b-32cb-a813-50dfe0767a00</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c2fed1b6-40b1-368e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c2fed1b6-40b1-368e-ba0e-5d179b03bd5c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>65f9ffac-63b6-3ca8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>65f9ffac-63b6-3ca8-a85a-c805879b109b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c1088173-c7da-37bf-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c1088173-c7da-37bf-a160-6866e57c6f66</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6d79b58f-4c37-338b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6d79b58f-4c37-338b-b361-8bae9ef31168</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6605bd8c-f727-3f66-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6605bd8c-f727-3f66-9f65-81a7bb66bbb9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>099f9f5d-9397-39ae-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>099f9f5d-9397-39ae-a8ed-ba8a22497f9c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>51112a0f-5188-397c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>51112a0f-5188-397c-9948-b8f0cc1ed556</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>66e88c43-f9e3-31e6-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>66e88c43-f9e3-31e6-a745-e2b4fb830938</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>12775.818359375</x>
<y>-797.4334716796875</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8714dc28-1a1f-3c5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8714dc28-1a1f-3c5b-ac20-2e149b4baf30</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_SINGLE_WAFER_SCRAP</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>66f0d4d2-e2df-3daa-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>66f0d4d2-e2df-3daa-93da-ba6624a12e2c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b70789df-3a09-37b7-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>b70789df-3a09-37b7-81d2-407f3df6123e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cbd7b663-a804-3699-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>cbd7b663-a804-3699-b7ea-7bcb4a13a441</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6a7a8d6d-7405-3514-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6a7a8d6d-7405-3514-98ec-416e99f187d8</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a7496bea-b4e9-3b3e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a7496bea-b4e9-3b3e-9fa2-8ec7c1eb350e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e6c808fa-6a4e-3468-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e6c808fa-6a4e-3468-8518-7568b780332f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6b0ee1d5-8f4b-3fed-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6b0ee1d5-8f4b-3fed-8440-42cd653cc07d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fc73de38-8460-38f3-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>fc73de38-8460-38f3-979f-9b00e2e8585e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c1088173-c7da-37bf-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c1088173-c7da-37bf-a160-6866e57c6f66</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6ba1e6e7-f2b0-397d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6ba1e6e7-f2b0-397d-9593-3b3e64b4e190</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>821133c8-c85d-3cad-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>821133c8-c85d-3cad-83ec-7498a8089735</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>eb225a01-d729-3937-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>eb225a01-d729-3937-b215-ce52870fb7e5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6bbd83e0-e1e5-302c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6bbd83e0-e1e5-302c-a6d3-bd46e8895dce</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c593fe10-3e1a-37c2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c593fe10-3e1a-37c2-83f2-405454e620a4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.NewestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>531a8a62-f3b4-3644-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>531a8a62-f3b4-3644-ac66-62257c27c61f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6e017a03-fdf7-35b8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6e017a03-fdf7-35b8-bd35-4e3d28e07bf1</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4d43e470-1e2c-3f18-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4d43e470-1e2c-3f18-8da8-a6ef1e5bb023</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>19590cc4-a093-3ae0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>19590cc4-a093-3ae0-ac55-9f66f0d72b84</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6ec1ab42-e637-3603-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6ec1ab42-e637-3603-9515-c231b140e074</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4281e39e-2283-3c25-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>4281e39e-2283-3c25-8356-89f48912a3b7</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>097a02d8-aef3-3297-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>097a02d8-aef3-3297-87a4-c18d7bb06c10</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6f8d8fa5-9b74-39c6-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6f8d8fa5-9b74-39c6-9a73-045f4fef01ca</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>99889d82-50f5-3225-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>99889d82-50f5-3225-be23-3533b4e07940</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2a76efdb-a9c3-3ee0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2a76efdb-a9c3-3ee0-bcf4-34de6924be06</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6fcdca83-d7df-3d9b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>6fcdca83-d7df-3d9b-826e-1c7ae9315662</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7303d586-c8fc-3ddb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7303d586-c8fc-3ddb-be50-c19a29363201</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>57b6899c-e08b-35b2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>57b6899c-e08b-35b2-964c-91d632dea534</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>70014e79-c96c-3c0e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>70014e79-c96c-3c0e-ae2f-8e84909ab627</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>2905.09619140625</x>
<y>-299.10833740234375</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d4eba757-c4d2-3c84-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d4eba757-c4d2-3c84-826a-25985bc5ba89</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_E3_UVA</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>70ccfe7a-fc8d-3cae-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>70ccfe7a-fc8d-3cae-aadf-06f445320c53</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4a9b59c8-cb79-3f20-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>4a9b59c8-cb79-3f20-8ee8-dde45f394fae</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>71be92db-3cc3-382b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>71be92db-3cc3-382b-8f2b-1582900e78fc</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7189d686-afa0-3fdb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7189d686-afa0-3fdb-9350-2a208652598c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cf521920-0b16-3003-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>cf521920-0b16-3003-a38a-80456022665a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c09c1f01-c022-30e7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c09c1f01-c022-30e7-8076-8e40f89d5eab</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>71bfeadc-6013-3653-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>71bfeadc-6013-3653-8f73-dcdc82375a83</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a05e3caa-fbc6-3062-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a05e3caa-fbc6-3062-b4f4-19d297aa451d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>31b15e40-b7cf-3078-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>31b15e40-b7cf-3078-ade4-c5df707a6836</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>73303462-9039-3cff-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>73303462-9039-3cff-9a05-f316038572d8</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a05e3caa-fbc6-3062-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a05e3caa-fbc6-3062-b4f4-19d297aa451d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1fd5ac35-82b1-3757-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1fd5ac35-82b1-3757-8aec-02330787ac86</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7481a7ea-2bbe-3c09-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7481a7ea-2bbe-3c09-8fcd-d37b568c8d17</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c2fed1b6-40b1-368e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c2fed1b6-40b1-368e-ba0e-5d179b03bd5c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d9725acf-a081-3650-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>d9725acf-a081-3650-8c62-534009796248</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7563680f-dd45-3e0c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7563680f-dd45-3e0c-b6a7-feab4f9d55e3</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4281e39e-2283-3c25-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>4281e39e-2283-3c25-8356-89f48912a3b7</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>eb225a01-d729-3937-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>eb225a01-d729-3937-b215-ce52870fb7e5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>75d6b045-e5ef-3408-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>75d6b045-e5ef-3408-9c6f-9e422716ea24</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e48e3d05-3e8e-3320-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e48e3d05-3e8e-3320-8d52-c784a9ae3dc8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7da79f03-47a2-3089-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7da79f03-47a2-3089-b917-3241b7721a7c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7706861b-b16a-3d15-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7706861b-b16a-3d15-8b07-4da75eede870</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4c3ff4ca-b742-3d75-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>4c3ff4ca-b742-3d75-adbb-a6d7344eea21</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f2420b1-58ef-3ef1-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0f2420b1-58ef-3ef1-a07e-953e21cdc8c8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7749ef47-fdb5-36df-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7749ef47-fdb5-36df-8a14-fcf576a04af3</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f2420b1-58ef-3ef1-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0f2420b1-58ef-3ef1-a07e-953e21cdc8c8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e014436a-abe5-300d-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e014436a-abe5-300d-b692-8d1f3d5b81b2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7b6aee6b-9b07-359c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7b6aee6b-9b07-359c-bdaa-9057e8f737d7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ab95b9da-5754-3c5a-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>ab95b9da-5754-3c5a-bdd9-8af32565c1fb</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2275a26f-c15b-32cb-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>2275a26f-c15b-32cb-a813-50dfe0767a00</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7bc87fe2-64ad-3929-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7bc87fe2-64ad-3929-ad70-9510b690a151</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>128.18074798583984</x>
<y>-597.9731750488281</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>11c9f9dc-c4aa-3966-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>11c9f9dc-c4aa-3966-bac6-f58f859703c5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7e04a7d7-46dc-38e5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7e04a7d7-46dc-38e5-8a99-2b9c57c61ea4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d236a919-d2ac-3310-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d236a919-d2ac-3310-a458-9050689ab5b4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2a76efdb-a9c3-3ee0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2a76efdb-a9c3-3ee0-bcf4-34de6924be06</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7ec79298-c83d-3057-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7ec79298-c83d-3057-a420-77fe2659286a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>33398198-af0c-3300-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>33398198-af0c-3300-bc55-9d5a8b1bb636</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d4eba757-c4d2-3c84-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d4eba757-c4d2-3c84-826a-25985bc5ba89</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7f29d214-2fbd-326c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7f29d214-2fbd-326c-bdf4-bd46b8740154</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7da79f03-47a2-3089-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7da79f03-47a2-3089-b917-3241b7721a7c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e6c808fa-6a4e-3468-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e6c808fa-6a4e-3468-8518-7568b780332f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7f7a83f8-6406-30e1-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7f7a83f8-6406-30e1-9c6c-21f3ce713fcc</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>678.8013916015625</x>
<y>1017.8338623046875</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>15ec2b01-a245-3479-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>15ec2b01-a245-3479-aaf2-122f4c0901a6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7b5f5754-7ee4-333f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7b5f5754-7ee4-333f-8f67-4df19df2f091</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7fa05330-945a-3898-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7fa05330-945a-3898-8a5e-4b8066e57896</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e48e3d05-3e8e-3320-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e48e3d05-3e8e-3320-8d52-c784a9ae3dc8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>684f3a77-f26a-3beb-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>684f3a77-f26a-3beb-a4f3-c339d8970d86</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>80b53c51-3df2-3768-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>80b53c51-3df2-3768-b7b7-f67595135d6a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>14885.88671875</x>
<y>-1037.3319702148438</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d08d94d8-9ac7-3a32-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d08d94d8-9ac7-3a32-a984-086b5750c075</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_TEST</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>830675ed-309c-31c6-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>830675ed-309c-31c6-ab57-c83f8d411ef9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>40255b41-3eec-3766-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>40255b41-3eec-3766-8d8f-3f2585974277</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a991dd3c-28bc-3c07-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a991dd3c-28bc-3c07-b5f4-6e7fdb2e1895</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8546a3db-a75b-3f57-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8546a3db-a75b-3f57-bd4c-3059166616b0</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>02dbd987-402b-3027-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>02dbd987-402b-3027-be98-dd87078e48f9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cf56a520-1058-388c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>cf56a520-1058-388c-8f62-d5dae46e752c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8646dd42-01d1-3fe7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8646dd42-01d1-3fe7-8da1-92271d35030f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8056a87c-687b-3fa3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8056a87c-687b-3fa3-a6c0-ea29a2167d6c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0b14fa67-6933-3218-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0b14fa67-6933-3218-9a0b-eeebe368ff16</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>86695d1a-31f4-3089-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>86695d1a-31f4-3089-86bf-f3182dcf6603</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>da5fbca6-367a-38de-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>da5fbca6-367a-38de-93ae-acd20e798283</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3cf3539b-d10b-3c8b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3cf3539b-d10b-3c8b-a331-79accd2e9875</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>892ceb16-c453-312c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>892ceb16-c453-312c-8abf-4273bc04fec0</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cbd7b663-a804-3699-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>cbd7b663-a804-3699-b7ea-7bcb4a13a441</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f2b6d98-b2ed-32d1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0f2b6d98-b2ed-32d1-9dce-06e8554a3943</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8a67af15-52a5-38da-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8a67af15-52a5-38da-92d0-51aba83daea1</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>3635.807373046875</x>
<y>-338.11468505859375</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>04219f4b-e2c0-351a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>04219f4b-e2c0-351a-97ea-e19643c14f85</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_EXPERIMENTS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8ad4386c-9ba0-3ad7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8ad4386c-9ba0-3ad7-9695-ee9dd037de9b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1252.703857421875</x>
<y>-282.4608459472656</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1ecef65e-9099-3de2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1ecef65e-9099-3de2-af03-ac74f8078df6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_DIAMOND_RAW</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8ad9ebda-c1e8-3772-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8ad9ebda-c1e8-3772-a9ea-8237c58719b3</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>531a8a62-f3b4-3644-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>531a8a62-f3b4-3644-ac66-62257c27c61f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0720c094-ef88-3447-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0720c094-ef88-3447-9ce1-fd353d4b6ee5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8b53dec5-2884-368c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8b53dec5-2884-368c-b56b-b17eade3a1dd</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0ad08628-d63d-3a30-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0ad08628-d63d-3a30-906a-760743208c0d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5e551de4-b53a-34e8-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>5e551de4-b53a-34e8-b460-79b50d6fdff8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8c54813d-1f78-3c6e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8c54813d-1f78-3c6e-8d5f-4973b7d41551</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2cbe9c72-c944-3e1a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2cbe9c72-c944-3e1a-b54d-3eb911b71c2f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>112b40a6-cc15-33bd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>112b40a6-cc15-33bd-b8d3-5f014b9a61ad</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8cd28acd-b10e-3b7a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8cd28acd-b10e-3b7a-a454-5aedb9df06fc</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>8784.1826171875</x>
<y>-490.3684387207031</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>082ed1b6-e6c0-3e01-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>082ed1b6-e6c0-3e01-ae3d-ddec19ddfd06</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_BASE_QUALIFICATIONS_TRACING_EQP</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8e35ce62-3dfa-339a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8e35ce62-3dfa-339a-bb92-aae64b5fc570</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>11447.09619140625</x>
<y>-708.3381042480469</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>97c713db-8d08-335e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>97c713db-8d08-335e-a61c-0c5a3a8dd53f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_BASE_QUALIFICATIONS_TEMPTATION</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8e80f10f-8cc7-3dce-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8e80f10f-8cc7-3dce-bc89-adadce65c170</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9b45637c-1a22-3ad8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9b45637c-1a22-3ad8-ba47-fd3da39a6e07</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7303d586-c8fc-3ddb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7303d586-c8fc-3ddb-be50-c19a29363201</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8ff217ea-da34-315d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>8ff217ea-da34-315d-88c3-3aae01818f1c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a944b5e5-2d0e-340a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a944b5e5-2d0e-340a-ae28-048fa31a65fa</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>original</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>aef4b39b-37f0-34fa-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>aef4b39b-37f0-34fa-92ab-91b0371199e9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>90903fce-98ff-366f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>90903fce-98ff-366f-9963-b914ca67ad68</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-260.8433151245117</x>
<y>425.18345642089844</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2321005e-5989-3bd7-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>2321005e-5989-3bd7-a2d2-0c8fd74d88d3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2eef7031-0a1c-3b49-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2eef7031-0a1c-3b49-8cd0-eda0ce49aef5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>90fbc6f2-8414-3643-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>90fbc6f2-8414-3643-a697-75bcf468f404</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>673eeb4b-06d8-3452-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>673eeb4b-06d8-3452-ae42-c5bb32308e70</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f2b6d98-b2ed-32d1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0f2b6d98-b2ed-32d1-9dce-06e8554a3943</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>92a86668-6294-366f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>92a86668-6294-366f-9a8f-5392cd35830f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3cf3539b-d10b-3c8b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3cf3539b-d10b-3c8b-a331-79accd2e9875</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e9d2eadf-aa6b-3905-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e9d2eadf-aa6b-3905-92b8-6a84e074752e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>933b2cd7-32f2-33ac-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>933b2cd7-32f2-33ac-b8ec-cd4f6cfa025c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e9d2eadf-aa6b-3905-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e9d2eadf-aa6b-3905-92b8-6a84e074752e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>97c713db-8d08-335e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>97c713db-8d08-335e-a61c-0c5a3a8dd53f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9890e6b5-52ef-3a57-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>9890e6b5-52ef-3a57-ad66-7e67652f479e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c7858bf6-9d7f-38ed-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c7858bf6-9d7f-38ed-836b-0816190e71bc</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4281e39e-2283-3c25-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>4281e39e-2283-3c25-8356-89f48912a3b7</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9a4a2702-41a9-357c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>9a4a2702-41a9-357c-b010-35bbd1d30a7e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>4051.239501953125</x>
<y>-333.3342590332031</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6f704c5e-c0e7-3fdb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6f704c5e-c0e7-3fdb-8757-29634613106e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_SCRAP</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9b45f716-25af-3ec8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>9b45f716-25af-3ec8-ac99-6efaa8eab1b2</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9c74f9af-bab6-359f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9c74f9af-bab6-359f-bdf7-8cdff2c076d2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>83ea9788-db23-383d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>83ea9788-db23-383d-be0d-a39e68815b5e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9d1fd4b4-dd8c-3749-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>9d1fd4b4-dd8c-3749-aac4-a30a2f7bfb0b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f173341f-b065-3a00-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>f173341f-b065-3a00-99d9-390826b811cb</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>40255b41-3eec-3766-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>40255b41-3eec-3766-8d8f-3f2585974277</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9f311e95-4527-3be7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>9f311e95-4527-3be7-8153-77d478316ccf</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5791ba39-ffe3-35e3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5791ba39-ffe3-35e3-a3a3-4bc8a8e8d70f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>536d9d45-31b0-3b00-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>536d9d45-31b0-3b00-b313-3f7e32202931</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9f697970-7b4c-3cd8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>9f697970-7b4c-3cd8-9fe7-ba12ad5ffa4e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>cf56a520-1058-388c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>cf56a520-1058-388c-8f62-d5dae46e752c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bc2848cb-49e9-392a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bc2848cb-49e9-392a-843c-dfa72594c3d2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a1bba1ac-9c6f-3c76-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>a1bba1ac-9c6f-3c76-b855-c6bac8481f3d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a5c7f581-a710-35f4-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a5c7f581-a710-35f4-8f9e-d1480297cbc7</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>099f9f5d-9397-39ae-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>099f9f5d-9397-39ae-a8ed-ba8a22497f9c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a22269ee-8d1e-3851-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>a22269ee-8d1e-3851-a88c-c2edc339bac4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b29fa9a9-c222-3c7f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b29fa9a9-c222-3c7f-bfa1-66e143291ddd</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2cbe9c72-c944-3e1a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2cbe9c72-c944-3e1a-b54d-3eb911b71c2f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a26984ee-9c43-3af5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>a26984ee-9c43-3af5-8f1f-7d42afd66e88</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>5136.34326171875</x>
<y>-645.2841491699219</y>
                            </bends>
                            <bends>
<x>8790.357421875</x>
<y>-576.8519287109375</y>
                            </bends>
                            <bends>
<x>10096.46533203125</x>
<y>-595.7127838134766</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e0fac7fc-b132-398b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e0fac7fc-b132-398b-9bb8-a8a06f00a4b8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_BASE_QUALIFICATIONS_OVL</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a28aaee0-291e-3c0b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>a28aaee0-291e-3c0b-ae7c-c07907bd6ea1</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c2a87aac-427d-3e62-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c2a87aac-427d-3e62-a224-f7b2cb399ef2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>644e8cd4-2b2b-3bd4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>644e8cd4-2b2b-3bd4-b9f7-7bc090c155d2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a2cc4b47-cef7-36da-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>a2cc4b47-cef7-36da-9b2f-06b0cefd8913</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>99889d82-50f5-3225-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>99889d82-50f5-3225-be23-3533b4e07940</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f173341f-b065-3a00-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>f173341f-b065-3a00-99d9-390826b811cb</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a6dd420b-afc0-3e8e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>a6dd420b-afc0-3e8e-bd19-5b35dd0c0161</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c1088173-c7da-37bf-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c1088173-c7da-37bf-a160-6866e57c6f66</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1e4f6ec8-e3f9-34e0-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>1e4f6ec8-e3f9-34e0-9e53-5fef64d30f2d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a7974da1-0700-37c5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>a7974da1-0700-37c5-94e6-4fff4e6b068f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>6268.89111328125</x>
<y>-359.3600158691406</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>00d8feff-1dc5-304f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>00d8feff-1dc5-304f-aa5d-eb5840e2eb40</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_GENERIC_DIMENSIONS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a8814191-40ef-3b45-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>a8814191-40ef-3b45-ba3d-601c63a0e351</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>02dbd987-402b-3027-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>02dbd987-402b-3027-be98-dd87078e48f9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5db44a7f-c153-3be8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5db44a7f-c153-3be8-9bf3-8dbaf05838a9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a8b20930-4d0e-3e73-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>a8b20930-4d0e-3e73-b15a-b31f50e56d10</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a2267e9f-17fe-3259-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a2267e9f-17fe-3259-9262-b453042ffa7f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>70ecd011-8f9f-3099-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>70ecd011-8f9f-3099-9433-b8a18f055e97</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ab6b9026-5f04-3b04-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ab6b9026-5f04-3b04-91ac-34d6c3f975da</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ba65e09e-9d2b-374f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ba65e09e-9d2b-374f-ac48-7698705099fb</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>67f5df94-576b-3cee-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>67f5df94-576b-3cee-b6a7-6cd89fe4a5f8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ac0e3185-a20c-3748-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ac0e3185-a20c-3748-bb89-a218e2b28333</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>86d698e2-8642-339b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>86d698e2-8642-339b-ac9f-0e1ade66ddfa</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6f704c5e-c0e7-3fdb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6f704c5e-c0e7-3fdb-8757-29634613106e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ad17fd4a-12f3-345b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ad17fd4a-12f3-345b-8a00-239ff5ea7dac</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>70ecd011-8f9f-3099-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>70ecd011-8f9f-3099-9433-b8a18f055e97</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>821133c8-c85d-3cad-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>821133c8-c85d-3cad-83ec-7498a8089735</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ad2810eb-cdf6-3391-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ad2810eb-cdf6-3391-af0b-4d89956ca15d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>24bca2ed-54d3-324e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>24bca2ed-54d3-324e-a84f-8a477f5a4e41</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f73709bd-9835-3382-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>f73709bd-9835-3382-a080-8a587a715575</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ad8bbf42-d73d-34bb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ad8bbf42-d73d-34bb-be0a-e33064d47478</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>201.07354354858398</x>
<y>403.58668518066406</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>03b5f25c-ad73-3d71-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>03b5f25c-ad73-3d71-9719-c8ee2e8d834f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>506260ab-3ecb-361a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>506260ab-3ecb-361a-a022-6e5a64c4023d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ae39df5c-153d-3158-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ae39df5c-153d-3158-9074-112f2f7f71ea</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ac108e9-48be-354b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ac108e9-48be-354b-ae70-95a0a0e617b0</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ea748b5d-b8d4-3443-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ea748b5d-b8d4-3443-a711-c3f46cf8dc56</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>aefced40-3759-34f0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>aefced40-3759-34f0-b749-2a9f2fa21dd3</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f288aa30-6ba1-37a3-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>f288aa30-6ba1-37a3-82f3-a9ca9d0c43b5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a944b5e5-2d0e-340a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a944b5e5-2d0e-340a-ae28-048fa31a65fa</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>afed4e6b-d140-3097-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>afed4e6b-d140-3097-b05e-5504d4e17a23</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a19f799b-c686-3b30-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a19f799b-c686-3b30-835f-eb27ebcdc59c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>255a24ad-74d1-3b4c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>255a24ad-74d1-3b4c-bf17-38581aa497ee</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b02e43ba-befd-30d3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>b02e43ba-befd-30d3-a10d-ba4cf49d2689</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bf17045f-0656-3cb4-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>bf17045f-0656-3cb4-8942-6088d8151bab</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>99f0ec6a-913b-3c28-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>99f0ec6a-913b-3c28-ad03-43dad8731d22</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b0d52d81-9946-308c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>b0d52d81-9946-308c-b2a7-b4b160e0d87c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a991dd3c-28bc-3c07-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a991dd3c-28bc-3c07-b5f4-6e7fdb2e1895</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1f127933-5a5a-3c9e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1f127933-5a5a-3c9e-afc5-45ce6ace5f12</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b1e080c9-c6df-3fbf-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>b1e080c9-c6df-3fbf-9aa7-612744707233</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ab5f6d23-d0ad-3853-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ab5f6d23-d0ad-3853-9632-53191af4971a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>original</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c1970421-7b62-3c53-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c1970421-7b62-3c53-ad04-93cdf459dac4</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b29948a4-d865-3790-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>b29948a4-d865-3790-8a0c-1215d3dcca7d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4c3ff4ca-b742-3d75-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>4c3ff4ca-b742-3d75-adbb-a6d7344eea21</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3cf3539b-d10b-3c8b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3cf3539b-d10b-3c8b-a331-79accd2e9875</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b327e024-cf81-370b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>b327e024-cf81-370b-b6ce-1b3e668756f3</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5a62b287-9be2-3e96-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5a62b287-9be2-3e96-9f1d-369ea9967deb</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bc2848cb-49e9-392a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bc2848cb-49e9-392a-843c-dfa72594c3d2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b33e0fa5-4f50-3c0a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>b33e0fa5-4f50-3c0a-8762-455cfb47b79e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>644e8cd4-2b2b-3bd4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>644e8cd4-2b2b-3bd4-b9f7-7bc090c155d2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5ab3d90b-0b94-3891-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5ab3d90b-0b94-3891-b891-171bc9c34fdf</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b5eb8fef-989f-307a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>b5eb8fef-989f-307a-9135-b7342f58e7e7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1022.8001594543457</x>
<y>423.09466552734375</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ed0b322c-8f4a-3221-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>ed0b322c-8f4a-3221-9503-a6cc13afc4a6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7303d586-c8fc-3ddb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7303d586-c8fc-3ddb-be50-c19a29363201</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b955224d-a2e1-358c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>b955224d-a2e1-358c-8629-49046c2db9b2</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ee829761-ce0c-3470-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ee829761-ce0c-3470-972a-29e89b72d7e6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c2a87aac-427d-3e62-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c2a87aac-427d-3e62-a224-f7b2cb399ef2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bb5aaac6-80b2-3c38-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>bb5aaac6-80b2-3c38-b87e-a0670c7a0407</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>57b6899c-e08b-35b2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>57b6899c-e08b-35b2-964c-91d632dea534</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1ecef65e-9099-3de2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1ecef65e-9099-3de2-af03-ac74f8078df6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bbd4b628-db23-3b0f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>bbd4b628-db23-3b0f-a7fa-59550750b703</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7f94b6d2-49b1-3934-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>7f94b6d2-49b1-3934-9ff0-231c8a4a5ec4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7069637a-9b70-3925-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7069637a-9b70-3925-af56-00ca37e16931</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bd2783a6-0825-3cc8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>bd2783a6-0825-3cc8-b537-412ba1b9118c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9eea18ca-c05d-39b9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9eea18ca-c05d-39b9-974c-dca4946be386</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5791ba39-ffe3-35e3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5791ba39-ffe3-35e3-a3a3-4bc8a8e8d70f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>be9ca918-b0e8-3962-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>be9ca918-b0e8-3962-b277-12a532aaff9b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>6635.45166015625</x>
<y>-379.8887023925781</y>
                            </bends>
                            <bends>
<x>6660.56787109375</x>
<y>-294.71954345703125</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>112b40a6-cc15-33bd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>112b40a6-cc15-33bd-b8d3-5f014b9a61ad</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_XSITE_STATES_RAW</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bf516629-3bd9-3ddc-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>bf516629-3bd9-3ddc-894b-8775c9c50cae</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1fd5ac35-82b1-3757-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1fd5ac35-82b1-3757-8aec-02330787ac86</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>86d698e2-8642-339b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>86d698e2-8642-339b-ac9f-0e1ade66ddfa</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bfff92f1-f361-36f0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>bfff92f1-f361-36f0-ad7d-28c68b925979</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4a9b59c8-cb79-3f20-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>4a9b59c8-cb79-3f20-8ee8-dde45f394fae</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>572cdb34-3931-3a55-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>572cdb34-3931-3a55-85ed-a9138d3bac6b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c0367ab2-1317-3525-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>c0367ab2-1317-3525-9321-1b49395080f6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>51112a0f-5188-397c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>51112a0f-5188-397c-9948-b8f0cc1ed556</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5a62b287-9be2-3e96-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5a62b287-9be2-3e96-9f1d-369ea9967deb</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c21585dd-fca3-30db-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>c21585dd-fca3-30db-ad9b-acac482eeddd</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>26b8c70c-8d1c-30c7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>26b8c70c-8d1c-30c7-b457-4a6ad579657e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4f0436d5-5436-33f1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4f0436d5-5436-33f1-a110-d9c54ddce58c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c37b5cd0-d714-38aa-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>c37b5cd0-d714-38aa-ae2d-5f75ba408540</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2a3d9baf-221f-334f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2a3d9baf-221f-334f-b247-fbb8004a4327</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ba65e09e-9d2b-374f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ba65e09e-9d2b-374f-ac48-7698705099fb</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c37fed8f-d7a2-319e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>c37fed8f-d7a2-319e-8f92-fd7530079064</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>15ec2b01-a245-3479-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>15ec2b01-a245-3479-aaf2-122f4c0901a6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b1f60d05-1961-3784-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b1f60d05-1961-3784-adca-ebf8e733f24b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c410e7f5-08dd-3b5d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>c410e7f5-08dd-3b5d-a095-e63616fa153f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7d958297-f712-3fb7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7d958297-f712-3fb7-860b-23613632bdf5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e1e79ded-f572-3163-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e1e79ded-f572-3163-ae90-b3de890f0b58</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c519900e-bc12-3192-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>c519900e-bc12-3192-ab9c-3f10e623a6d5</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4f0436d5-5436-33f1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4f0436d5-5436-33f1-a110-d9c54ddce58c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>42701e30-1f58-34a0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>42701e30-1f58-34a0-8ce2-6b6f40e12f89</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c7ce8571-eaac-367c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>c7ce8571-eaac-367c-bdb6-5e8b447a5bf9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>83ea9788-db23-383d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>83ea9788-db23-383d-be0d-a39e68815b5e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c20a474b-19b1-3fbf-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c20a474b-19b1-3fbf-8f17-e20462732e33</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ca00e012-741f-3237-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ca00e012-741f-3237-97aa-6ec591fde064</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>6879.4140625</x>
<y>1011.7966918945312</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>99f0ec6a-913b-3c28-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>99f0ec6a-913b-3c28-ad03-43dad8731d22</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>148aa32e-983b-337f-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>148aa32e-983b-337f-b3c7-d4a54b23ff6d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cd3f7fb1-6c67-301c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>cd3f7fb1-6c67-301c-8bf1-7416d0c00839</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d1e7f36c-0c0b-37fb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d1e7f36c-0c0b-37fb-a6c5-d9130a4ef147</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3d445ae5-29c5-3711-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3d445ae5-29c5-3711-98f5-01c5e85431a7</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ceedec4e-ec17-3c32-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ceedec4e-ec17-3c32-810b-d4fbab6523af</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>07405d70-2425-396f-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>07405d70-2425-396f-a54f-a988ade9be18</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b70789df-3a09-37b7-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>b70789df-3a09-37b7-81d2-407f3df6123e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cfc7eb95-22f3-3019-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>cfc7eb95-22f3-3019-9545-86b552651207</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ce4de929-0b1f-37d5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ce4de929-0b1f-37d5-bd3d-c2957ad6d6a1</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a21c3f27-94bf-3dda-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a21c3f27-94bf-3dda-8e4c-11ee8116e4e7</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d0344083-2f24-35d0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d0344083-2f24-35d0-a9ec-e51fff558e20</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>572cdb34-3931-3a55-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>572cdb34-3931-3a55-85ed-a9138d3bac6b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b16b41fd-171e-3a18-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>b16b41fd-171e-3a18-aafd-8b3854cfe81c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d0713768-5832-3eb4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d0713768-5832-3eb4-83d1-bb5449cdbe28</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d9725acf-a081-3650-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>d9725acf-a081-3650-8c62-534009796248</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6d1c8379-d395-34e3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6d1c8379-d395-34e3-a7fa-9d58ff3e2bc3</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d17b9c70-4bca-38fc-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d17b9c70-4bca-38fc-a480-c4d3b21b7999</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>af9e7277-9e53-3f85-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>af9e7277-9e53-3f85-abb8-7c5607b8a4f2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>40da01fb-a3ed-39dc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>40da01fb-a3ed-39dc-a975-5c8f0213cb1b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d24c7985-1274-3449-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d24c7985-1274-3449-9066-fc07679a6040</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3d445ae5-29c5-3711-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3d445ae5-29c5-3711-98f5-01c5e85431a7</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d2ce9569-2c27-352b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d2ce9569-2c27-352b-8dbe-52724cfd4a9f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>58c59b16-4551-34d5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>58c59b16-4551-34d5-bef6-929b6a8fbeef</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4f76017d-3aec-3ca7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4f76017d-3aec-3ca7-9afb-a3bc0c807066</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d2e1ac15-e23d-3f1c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d2e1ac15-e23d-3f1c-8dcd-f64fb85c7d0d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>15ec2b01-a245-3479-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>15ec2b01-a245-3479-aaf2-122f4c0901a6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9b45637c-1a22-3ad8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9b45637c-1a22-3ad8-ba47-fd3da39a6e07</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d2e20ac7-d792-358e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d2e20ac7-d792-358e-bd7d-e128a957e644</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8bb91212-9d12-3bb5-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8bb91212-9d12-3bb5-8693-a3e002d50e9a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>02dbd987-402b-3027-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>02dbd987-402b-3027-be98-dd87078e48f9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d39c096a-9c33-3a63-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d39c096a-9c33-3a63-9d44-5398217361c8</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>6279.8310546875</x>
<y>870.3496704101562</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bf17045f-0656-3cb4-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>bf17045f-0656-3cb4-8942-6088d8151bab</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d236a919-d2ac-3310-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d236a919-d2ac-3310-a458-9050689ab5b4</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d4299dfe-f9b8-3443-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d4299dfe-f9b8-3443-a841-81a2c35954b4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5e551de4-b53a-34e8-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>5e551de4-b53a-34e8-b460-79b50d6fdff8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bf17045f-0656-3cb4-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>bf17045f-0656-3cb4-8942-6088d8151bab</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d4c3afd0-7f70-3444-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d4c3afd0-7f70-3444-8d8b-9d2b30036913</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>827.6854858398438</x>
<y>-283.8966979980469</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2d3b350e-b3af-315b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2d3b350e-b3af-315b-aad7-e6f35ee7be36</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_PCM_RAW</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d4e8d35c-b455-3cdf-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d4e8d35c-b455-3cdf-ae3a-3a920f6c39ec</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5e551de4-b53a-34e8-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>5e551de4-b53a-34e8-b460-79b50d6fdff8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>244a5630-15b8-34bb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>244a5630-15b8-34bb-89aa-92027703965b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d6f8f072-b9a5-3309-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d6f8f072-b9a5-3309-a44b-7ed25bcb261d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b144c816-7a43-3fc8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b144c816-7a43-3fc8-97c2-04cb765de0d5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e0fac7fc-b132-398b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e0fac7fc-b132-398b-9bb8-a8a06f00a4b8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d7cba664-63e9-324f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d7cba664-63e9-324f-b8ee-570d08bcdc9b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bb15a368-5cc5-3981-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>bb15a368-5cc5-3981-ab69-6b85fff38ed3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f7cd0d95-b287-38a4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f7cd0d95-b287-38a4-948a-3ec5d4d7cdac</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d80be088-2ea9-3834-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d80be088-2ea9-3834-9b41-82442fb87714</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c1970421-7b62-3c53-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c1970421-7b62-3c53-ad04-93cdf459dac4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <selectedRelationships>yes</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7f3204ad-807c-394a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7f3204ad-807c-394a-8fdb-735500e14d13</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d8a11e93-c709-3d64-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d8a11e93-c709-3d64-abdc-72acd2e8d683</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f2420b1-58ef-3ef1-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0f2420b1-58ef-3ef1-a07e-953e21cdc8c8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>bf86600c-67b7-37bb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bf86600c-67b7-37bb-ae15-d445cdbb9cd1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d92ae562-af4a-37bb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d92ae562-af4a-37bb-9899-ec331587f78a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>70ecd011-8f9f-3099-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>70ecd011-8f9f-3099-9433-b8a18f055e97</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fc73de38-8460-38f3-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>fc73de38-8460-38f3-979f-9b00e2e8585e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d95029e9-56cc-3aa7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d95029e9-56cc-3aa7-9c20-e789485f3f28</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fd628047-b15f-3807-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>fd628047-b15f-3807-a4f5-47144dc5e396</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3096128a-1b05-3912-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3096128a-1b05-3912-b6b3-5f9f8557b5de</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d9ddb7e4-172b-3e94-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>d9ddb7e4-172b-3e94-87d7-e33cbda90278</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-108.50361633300781</x>
<y>-368.6131591796875</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3bff7d3f-af69-3da5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3bff7d3f-af69-3da5-9e72-00e7ff46bccb</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_PRODUCTION_STEPS</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>da2cfd57-7ce4-312b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>da2cfd57-7ce4-312b-9ea3-3a1777e6add8</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e6b61e8a-48f5-3e60-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e6b61e8a-48f5-3e60-8e63-1057bcc347e8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c09c1f01-c022-30e7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c09c1f01-c022-30e7-8076-8e40f89d5eab</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>dbbb6fa7-473a-352d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>dbbb6fa7-473a-352d-9390-81f50626d55e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>148aa32e-983b-337f-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>148aa32e-983b-337f-b3c7-d4a54b23ff6d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>07405d70-2425-396f-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>07405d70-2425-396f-a54f-a988ade9be18</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>dbdc1ea0-75f0-3861-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>dbdc1ea0-75f0-3861-ae7f-5a210c9cc2ed</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8795df0b-090b-32a2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8795df0b-090b-32a2-9f01-b114e318d369</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ce4de929-0b1f-37d5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ce4de929-0b1f-37d5-bd3d-c2957ad6d6a1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>dc267a80-c710-30d9-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>dc267a80-c710-30d9-b226-b5f28ef3d00f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0e44f1c7-17c4-3edf-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0e44f1c7-17c4-3edf-a8fd-f0b8c977678f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>c6b000f8-0183-3093-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c6b000f8-0183-3093-bcc4-50cff6b9ddf0</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>dc637436-0ed7-3f76-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>dc637436-0ed7-3f76-aef4-40a23108db6f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1e4f6ec8-e3f9-34e0-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>1e4f6ec8-e3f9-34e0-9e53-5fef64d30f2d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>40acdafb-176f-31f1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>40acdafb-176f-31f1-8e5c-680d85ee24c3</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>dd05f38d-c80f-340b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>dd05f38d-c80f-340b-ad1a-514c3d2f00e5</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>15ec2b01-a245-3479-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>15ec2b01-a245-3479-aaf2-122f4c0901a6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a2267e9f-17fe-3259-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a2267e9f-17fe-3259-9262-b453042ffa7f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e2e641aa-cf20-3cf8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>e2e641aa-cf20-3cf8-96fe-81438f10a376</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>097a02d8-aef3-3297-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>097a02d8-aef3-3297-87a4-c18d7bb06c10</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a05e3caa-fbc6-3062-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a05e3caa-fbc6-3062-b4f4-19d297aa451d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e36b3288-84d5-3b32-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>e36b3288-84d5-3b32-b460-2c2d57ef8052</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>568d07af-c28c-3d57-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>568d07af-c28c-3d57-a674-fd9bc8d10268</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8bb91212-9d12-3bb5-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8bb91212-9d12-3bb5-8693-a3e002d50e9a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e5f4093d-e5b6-3067-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>e5f4093d-e5b6-3067-b5d9-9ff396fb0fcc</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2321005e-5989-3bd7-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>2321005e-5989-3bd7-a2d2-0c8fd74d88d3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>03b5f25c-ad73-3d71-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>03b5f25c-ad73-3d71-9719-c8ee2e8d834f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e6a17218-1bb2-3020-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>e6a17218-1bb2-3020-9675-22abb94f8c6c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fa56f03d-5b1d-38ab-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>fa56f03d-5b1d-38ab-9f25-9261b480b964</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>568d07af-c28c-3d57-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>568d07af-c28c-3d57-a674-fd9bc8d10268</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e6b566cb-faa0-3fc5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>e6b566cb-faa0-3fc5-bed4-9ac1da9bd408</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>8337.605712890625</x>
<y>-465.99853515625</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>19590cc4-a093-3ae0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>19590cc4-a093-3ae0-ac55-9f66f0d72b84</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_BASE_QUALIFICATIONS_PCM</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e834c1d1-d838-3c29-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>e834c1d1-d838-3c29-86d9-f47859ff9d73</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2eef7031-0a1c-3b49-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2eef7031-0a1c-3b49-8cd0-eda0ce49aef5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fdb1d059-7b6a-35dc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>fdb1d059-7b6a-35dc-a67a-76bbd2042518</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e9cacf53-9741-36a9-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>e9cacf53-9741-36a9-b1b2-616d2c57a47e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7f3204ad-807c-394a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7f3204ad-807c-394a-8fdb-735500e14d13</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4dc6c882-777b-34be-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4dc6c882-777b-34be-9aff-2aac5700b78e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>eb1bb316-e8a2-3e80-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>eb1bb316-e8a2-3e80-a014-3c60bb635d20</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>d8d35950-a206-35f6-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>d8d35950-a206-35f6-ac8d-22423c466f7d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>eb63d6d7-3f81-37a6-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>eb63d6d7-3f81-37a6-8282-583298510dc9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b16b41fd-171e-3a18-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>b16b41fd-171e-3a18-aafd-8b3854cfe81c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>24bca2ed-54d3-324e-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>24bca2ed-54d3-324e-a84f-8a477f5a4e41</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ebd32401-80d4-3dd4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ebd32401-80d4-3dd4-9f84-8fe07cab61b2</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>42701e30-1f58-34a0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>42701e30-1f58-34a0-8ce2-6b6f40e12f89</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>082ed1b6-e6c0-3e01-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>082ed1b6-e6c0-3e01-ae3d-ddec19ddfd06</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ec56d4ae-08f7-3c5e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ec56d4ae-08f7-3c5e-ae13-cf5f4dd64d08</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>255a24ad-74d1-3b4c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>255a24ad-74d1-3b4c-bf17-38581aa497ee</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>91d2bd4b-2009-3c1f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>91d2bd4b-2009-3c1f-9c66-765d698cd0fa</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>eee7b9ad-489d-35db-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>eee7b9ad-489d-35db-a6d1-999c89e70ca7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>7069637a-9b70-3925-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7069637a-9b70-3925-af56-00ca37e16931</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>af9e7277-9e53-3f85-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>af9e7277-9e53-3f85-abb8-7c5607b8a4f2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ef9943b7-04f0-34a8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ef9943b7-04f0-34a8-98cb-5b72897658bb</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>fc73de38-8460-38f3-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>fc73de38-8460-38f3-979f-9b00e2e8585e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>9c74f9af-bab6-359f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9c74f9af-bab6-359f-bdf7-8cdff2c076d2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f02275bc-8baf-308d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f02275bc-8baf-308d-9f9c-a71966550eda</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6137a99d-8f6a-3435-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6137a99d-8f6a-3435-ac7a-61bdb0747235</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ee67c599-67c5-3bb9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ee67c599-67c5-3bb9-8810-ee3a7ae91b75</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f1071998-3b32-3e18-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f1071998-3b32-3e18-8ecc-bc0296119146</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2ac552c9-3a37-3b14-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2ac552c9-3a37-3b14-abb6-aa6a431c9999</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a991dd3c-28bc-3c07-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a991dd3c-28bc-3c07-b5f4-6e7fdb2e1895</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f1579388-8c06-3638-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f1579388-8c06-3638-b147-48fffe2c0167</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>14032.31640625</x>
<y>-941.470458984375</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>b6d06529-fc99-3b8d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b6d06529-fc99-3b8d-9186-1ad7dc6611df</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_PMIVIEW_BACKUP</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f1ba04bb-dcfc-335e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f1ba04bb-dcfc-335e-b64f-13cc4691f34d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>7882.036865234375</x>
<y>-439.3750915527344</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>36cdc8ed-eb12-34a6-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>36cdc8ed-eb12-34a6-91ad-2e7f793e6610</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_BASE_QUALIFICATIONS_EDC</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f239df18-06ac-3cba-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f239df18-06ac-3cba-98e1-12348d0cb6b4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f622abe-a986-3835-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0f622abe-a986-3835-8ffe-967d42653338</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5db44a7f-c153-3be8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5db44a7f-c153-3be8-9bf3-8dbaf05838a9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f2583e3f-c29c-3205-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f2583e3f-c29c-3205-8363-5b3b36ee081b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>e1e79ded-f572-3163-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e1e79ded-f572-3163-ae90-b3de890f0b58</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8df4f67e-505a-31fd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8df4f67e-505a-31fd-9c36-0b25bf6786c8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f2e746ad-57e1-35ef-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f2e746ad-57e1-35ef-950d-f5a75802913d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>71be92db-3cc3-382b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>71be92db-3cc3-382b-8f2b-1582900e78fc</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f7cd0d95-b287-38a4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f7cd0d95-b287-38a4-948a-3ec5d4d7cdac</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f3869336-ceec-3866-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f3869336-ceec-3866-b308-4b1918e2905a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>25b22251-61c7-3bbb-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>25b22251-61c7-3bbb-9be8-dfca291aeb00</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>317fd924-aa2a-3591-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>317fd924-aa2a-3591-b659-7f842e875af1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f3d73c9b-3997-3d80-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f3d73c9b-3997-3d80-8820-1536825af7a0</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>2506.220703125</x>
<y>-296.8195495605469</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>1c05f258-3afc-374a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1c05f258-3afc-374a-a727-6ee30ae91e52</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_E3_SUM</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f40b151b-bde1-3967-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f40b151b-bde1-3967-88b0-bb319b208c0a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5a233b07-d73b-3486-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5a233b07-d73b-3486-899b-e4c686e86e98</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>00d8feff-1dc5-304f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>00d8feff-1dc5-304f-aa5d-eb5840e2eb40</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f4e7da1d-6862-3b75-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f4e7da1d-6862-3b75-b852-9c46c9e876e3</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4f76017d-3aec-3ca7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4f76017d-3aec-3ca7-9afb-a3bc0c807066</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.OldestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0e44f1c7-17c4-3edf-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0e44f1c7-17c4-3edf-a8fd-f0b8c977678f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f56c8632-fb4f-3059-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f56c8632-fb4f-3059-a108-c413a5d6b80d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>684f3a77-f26a-3beb-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>684f3a77-f26a-3beb-a4f3-c339d8970d86</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>26b8c70c-8d1c-30c7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>26b8c70c-8d1c-30c7-b457-4a6ad579657e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f56e67ec-d951-3135-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f56e67ec-d951-3135-baf6-b45bb819d3f9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>ab95b9da-5754-3c5a-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>ab95b9da-5754-3c5a-bdd9-8af32565c1fb</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a402bd88-0197-3992-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a402bd88-0197-3992-8d5c-5e87808350d6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f6183640-25c4-35ce-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f6183640-25c4-35ce-87a9-1bad11395e76</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>3f88dd20-d01a-3e15-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>3f88dd20-d01a-3e15-a0a2-c4280d1d8389</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8015be83-a676-36b0-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8015be83-a676-36b0-a051-cc04e3393b11</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f691b595-e2cc-3b3c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f691b595-e2cc-3b3c-ac9d-ce97a9e04663</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>03b5f25c-ad73-3d71-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>03b5f25c-ad73-3d71-9719-c8ee2e8d834f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>0f30216b-8e7e-317f-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>0f30216b-8e7e-317f-9daa-b2435e3ceec3</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f6ac4feb-fb77-3e8a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f6ac4feb-fb77-3e8a-9f6f-96c59fc5444e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>11853.412109375</x>
<y>-748.5406494140625</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a0594799-3185-315d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a0594799-3185-315d-90de-5b66fd882e30</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_BASE_QUALIFICATIONS_E3</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f7c0035e-9b18-3349-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f7c0035e-9b18-3349-aa47-6ba6490e85d9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>2069.0548095703125</x>
<y>-294.3345947265625</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>8df4f67e-505a-31fd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8df4f67e-505a-31fd-9c36-0b25bf6786c8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_TEMPTATION_SUM</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f7e27cbe-8a52-32b3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f7e27cbe-8a52-32b3-9c32-f71cb1285295</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a2267e9f-17fe-3259-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>a2267e9f-17fe-3259-9262-b453042ffa7f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6137a99d-8f6a-3435-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6137a99d-8f6a-3435-ac7a-61bdb0747235</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f89d750f-6a03-3eb6-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f89d750f-6a03-3eb6-834c-e644ba171570</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>51112a0f-5188-397c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>51112a0f-5188-397c-9948-b8f0cc1ed556</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>4a9b59c8-cb79-3f20-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>4a9b59c8-cb79-3f20-8ee8-dde45f394fae</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f8bde548-8986-3944-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f8bde548-8986-3944-8a87-177cadc7d148</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>536d9d45-31b0-3b00-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>536d9d45-31b0-3b00-b313-3f7e32202931</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>338152d8-d20d-3346-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>338152d8-d20d-3346-9ee9-53fe11bc962c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f9a31292-cf27-3d2f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f9a31292-cf27-3d2f-8857-b6dbdc5e42fe</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>13211.8271484375</x>
<y>-845.8864593505859</y>
                            </bends>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a402bd88-0197-3992-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a402bd88-0197-3992-8d5c-5e87808350d6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>HDP_PMIVIEW_DIM_FILES</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ddd86de-708e-3b3c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fb1b3934-b0bf-37b4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>fb1b3934-b0bf-37b4-8dbe-8f8fa7d9ec27</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5cdee95a-694d-3a5d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5cdee95a-694d-3a5d-a64a-2f5ba39a42b6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a0594799-3185-315d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a0594799-3185-315d-90de-5b66fd882e30</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fb1ba7cc-322e-3178-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>fb1ba7cc-322e-3178-b315-7a194994a70d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>31b15e40-b7cf-3078-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>31b15e40-b7cf-3078-ade4-c5df707a6836</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>f594c481-e1e8-3696-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f594c481-e1e8-3696-bff7-4cf50687f4b9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fbdd88cb-a7b6-334e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>fbdd88cb-a7b6-334e-9568-4964b288f824</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>60423336-fd18-38e3-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>60423336-fd18-38e3-b0c7-1893bd7ae08e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>expired</selectedRelationships>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>a8ec5f60-a870-3538-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a8ec5f60-a870-3538-b88a-b45d1e321f27</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fcfc1c84-0e97-3732-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>fcfc1c84-0e97-3732-863b-75fe8c9611bd</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>255a24ad-74d1-3b4c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>255a24ad-74d1-3b4c-bf17-38581aa497ee</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>6ac108e9-48be-354b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ac108e9-48be-354b-ae70-95a0a0e617b0</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fda09304-3e65-323d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>fda09304-3e65-323d-b26d-0246e971237c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>2a76efdb-a9c3-3ee0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2a76efdb-a9c3-3ee0-bcf4-34de6924be06</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                            <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                            <name></name>
                            <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                            <prioritizers>org.apache.nifi.prioritizer.NewestFlowFileFirstPrioritizer</prioritizers>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>5a233b07-d73b-3486-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5a233b07-d73b-3486-899b-e4c686e86e98</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ff069c5f-0156-371a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <versionedComponentId>ff069c5f-0156-371a-aea9-7d48383226ee</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>866d9ad3-4b78-3b92-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>866d9ad3-4b78-3b92-af44-be54d1ef6752</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>20bd500e-6720-370f-0000-000000000000</groupId>
<id>36cdc8ed-eb12-34a6-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>36cdc8ed-eb12-34a6-91ad-2e7f793e6610</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <funnels>
                            <id>02dbd987-402b-3027-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9838.988769558171</x>
<y>515.253065428444</y>
                            </position>
                            <versionedComponentId>02dbd987-402b-3027-be98-dd87078e48f9</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>03b5f25c-ad73-3d71-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>177.52399827203658</x>
<y>542.1368003754876</y>
                            </position>
                            <versionedComponentId>03b5f25c-ad73-3d71-9719-c8ee2e8d834f</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>0592ff24-3170-3e22-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1393.421177406919</x>
<y>541.6083165791928</y>
                            </position>
                            <versionedComponentId>0592ff24-3170-3e22-9001-b8abf79f86ed</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>07405d70-2425-396f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7425.173184129575</x>
<y>984.3590745498047</y>
                            </position>
                            <versionedComponentId>07405d70-2425-396f-a54f-a988ade9be18</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>097a02d8-aef3-3297-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3328.4015014971746</x>
<y>550.666921225097</y>
                            </position>
                            <versionedComponentId>097a02d8-aef3-3297-87a4-c18d7bb06c10</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>099f9f5d-9397-39ae-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10086.357483679454</x>
<y>978.1176540916927</y>
                            </position>
                            <versionedComponentId>099f9f5d-9397-39ae-a8ed-ba8a22497f9c</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>0ad08628-d63d-3a30-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5460.1979603282225</x>
<y>983.3153799031941</y>
                            </position>
                            <versionedComponentId>0ad08628-d63d-3a30-906a-760743208c0d</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>0f2420b1-58ef-3ef1-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11640.899308098506</x>
<y>501.0159545688001</y>
                            </position>
                            <versionedComponentId>0f2420b1-58ef-3ef1-a07e-953e21cdc8c8</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>0f30216b-8e7e-317f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>522.5544488720082</x>
<y>540.2063804536126</y>
                            </position>
                            <versionedComponentId>0f30216b-8e7e-317f-9daa-b2435e3ceec3</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>11c9f9dc-c4aa-3966-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-670.8513253205124</x>
<y>-411.6120261103837</y>
                            </position>
                            <versionedComponentId>11c9f9dc-c4aa-3966-bac6-f58f859703c5</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>148aa32e-983b-337f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7036.223340945606</x>
<y>989.2803906362822</y>
                            </position>
                            <versionedComponentId>148aa32e-983b-337f-b3c7-d4a54b23ff6d</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>1e4f6ec8-e3f9-34e0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4442.310494443912</x>
<y>987.5119687520755</y>
                            </position>
                            <versionedComponentId>1e4f6ec8-e3f9-34e0-9e53-5fef64d30f2d</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>2275a26f-c15b-32cb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>13576.739861939113</x>
<y>939.7075058806893</y>
                            </position>
                            <versionedComponentId>2275a26f-c15b-32cb-a813-50dfe0767a00</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>2321005e-5989-3bd7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-523.115998544022</x>
<y>550.0876365571282</y>
                            </position>
                            <versionedComponentId>2321005e-5989-3bd7-a2d2-0c8fd74d88d3</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>24bca2ed-54d3-324e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12281.201795812809</x>
<y>974.3920719360597</y>
                            </position>
                            <versionedComponentId>24bca2ed-54d3-324e-a84f-8a477f5a4e41</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>255a24ad-74d1-3b4c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-1177.9339291066208</x>
<y>1786.4688462153842</y>
                            </position>
                            <versionedComponentId>255a24ad-74d1-3b4c-bf17-38581aa497ee</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>31b15e40-b7cf-3078-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4222.116833528425</x>
<y>564.8913169770501</y>
                            </position>
                            <versionedComponentId>31b15e40-b7cf-3078-ade4-c5df707a6836</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>3f88dd20-d01a-3e15-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12548.725479973506</x>
<y>490.47304685395636</y>
                            </position>
                            <versionedComponentId>3f88dd20-d01a-3e15-a0a2-c4280d1d8389</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>40255b41-3eec-3766-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7175.732652894873</x>
<y>541.8960640655873</y>
                            </position>
                            <versionedComponentId>40255b41-3eec-3766-8d8f-3f2585974277</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>4281e39e-2283-3c25-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2663.3008793194294</x>
<y>543.7436778704208</y>
                            </position>
                            <versionedComponentId>4281e39e-2283-3c25-8356-89f48912a3b7</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>4a9b59c8-cb79-3f20-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11010.711975866954</x>
<y>986.1120388573177</y>
                            </position>
                            <versionedComponentId>4a9b59c8-cb79-3f20-8ee8-dde45f394fae</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>4c3ff4ca-b742-3d75-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11278.899308098506</x>
<y>505.015924051222</y>
                            </position>
                            <versionedComponentId>4c3ff4ca-b742-3d75-adbb-a6d7344eea21</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>51112a0f-5188-397c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10567.882386023204</x>
<y>990.6686794823177</y>
                            </position>
                            <versionedComponentId>51112a0f-5188-397c-9948-b8f0cc1ed556</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>568d07af-c28c-3d57-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8886.605301898964</x>
<y>514.9004125059798</y>
                            </position>
                            <versionedComponentId>568d07af-c28c-3d57-a674-fd9bc8d10268</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>572cdb34-3931-3a55-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11447.183221314113</x>
<y>977.8206040252205</y>
                            </position>
                            <versionedComponentId>572cdb34-3931-3a55-85ed-a9138d3bac6b</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>5774ae53-7470-3848-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9201.538208280816</x>
<y>982.3369684880267</y>
                            </position>
                            <versionedComponentId>5774ae53-7470-3848-8357-ab93c396923d</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>5e551de4-b53a-34e8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5862.343039128133</x>
<y>989.3363008531214</y>
                            </position>
                            <versionedComponentId>5e551de4-b53a-34e8-b460-79b50d6fdff8</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>60423336-fd18-38e3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5660.314072773499</x>
<y>540.3096657862999</y>
                            </position>
                            <versionedComponentId>60423336-fd18-38e3-b0c7-1893bd7ae08e</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>673eeb4b-06d8-3452-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7564.886345028572</x>
<y>550.3513362809256</y>
                            </position>
                            <versionedComponentId>673eeb4b-06d8-3452-ae42-c5bb32308e70</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>684f3a77-f26a-3beb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8790.525918194728</x>
<y>984.6193234587874</y>
                            </position>
                            <versionedComponentId>684f3a77-f26a-3beb-a4f3-c339d8970d86</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>70ecd011-8f9f-3099-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2907.3008793194294</x>
<y>983.7436778704208</y>
                            </position>
                            <versionedComponentId>70ecd011-8f9f-3099-9433-b8a18f055e97</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>7d2c405c-c696-3de4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5216.847275898499</x>
<y>538.716678725753</y>
                            </position>
                            <versionedComponentId>7d2c405c-c696-3de4-bb1a-ce56afad2c34</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>7f94b6d2-49b1-3934-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4703.670056184675</x>
<y>542.5491233735345</y>
                            </position>
                            <versionedComponentId>7f94b6d2-49b1-3934-9ff0-231c8a4a5ec4</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>8015be83-a676-36b0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14181.413676199962</x>
<y>456.04967184991233</y>
                            </position>
                            <versionedComponentId>8015be83-a676-36b0-a051-cc04e3393b11</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>8943d5b4-6b95-3f6e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1839.5811839345965</x>
<y>557.2481765495776</y>
                            </position>
                            <versionedComponentId>8943d5b4-6b95-3f6e-afd9-a27b88b3d1da</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>8bb91212-9d12-3bb5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9430.505859401921</x>
<y>513.6794570300065</y>
                            </position>
                            <versionedComponentId>8bb91212-9d12-3bb5-8693-a3e002d50e9a</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>99889d82-50f5-3225-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5962.98934385593</x>
<y>550.2692942115071</y>
                            </position>
                            <versionedComponentId>99889d82-50f5-3225-be23-3533b4e07940</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>99f0ec6a-913b-3c28-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6671.229194610394</x>
<y>989.2258652308174</y>
                            </position>
                            <versionedComponentId>99f0ec6a-913b-3c28-ad03-43dad8731d22</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>a05e3caa-fbc6-3062-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3755.5589722002996</x>
<y>548.7647910981439</y>
                            </position>
                            <versionedComponentId>a05e3caa-fbc6-3062-b4f4-19d297aa451d</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>a19f799b-c686-3b30-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-1008.5375068793987</x>
<y>-747.7092318753442</y>
                            </position>
                            <versionedComponentId>a19f799b-c686-3b30-835f-eb27ebcdc59c</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>a2267e9f-17fe-3259-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2467.4522840541017</x>
<y>992.5943488592081</y>
                            </position>
                            <versionedComponentId>a2267e9f-17fe-3259-9262-b453042ffa7f</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>a5c7f581-a710-35f4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9630.378968054454</x>
<y>985.7065212791927</y>
                            </position>
                            <versionedComponentId>a5c7f581-a710-35f4-8f9e-d1480297cbc7</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>a7496bea-b4e9-3b3e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8143.2817348814815</x>
<y>531.0459355044416</y>
                            </position>
                            <versionedComponentId>a7496bea-b4e9-3b3e-9fa2-8ec7c1eb350e</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>ab95b9da-5754-3c5a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>13148.498651001613</x>
<y>944.569017111158</y>
                            </position>
                            <versionedComponentId>ab95b9da-5754-3c5a-bdd9-8af32565c1fb</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>b16b41fd-171e-3a18-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11853.891510071293</x>
<y>971.9540349180468</y>
                            </position>
                            <versionedComponentId>b16b41fd-171e-3a18-aafd-8b3854cfe81c</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>b70789df-3a09-37b7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7890.121165132448</x>
<y>983.5680723269322</y>
                            </position>
                            <versionedComponentId>b70789df-3a09-37b7-81d2-407f3df6123e</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>bb15a368-5cc5-3981-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10853.441894558171</x>
<y>496.5246260973893</y>
                            </position>
                            <versionedComponentId>bb15a368-5cc5-3981-ab69-6b85fff38ed3</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>bf17045f-0656-3cb4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6253.809048506713</x>
<y>981.476763469899</y>
                            </position>
                            <versionedComponentId>bf17045f-0656-3cb4-8942-6088d8151bab</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>c1088173-c7da-37bf-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4001.883004209537</x>
<y>992.573614259888</y>
                            </position>
                            <versionedComponentId>c1088173-c7da-37bf-a160-6866e57c6f66</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>c2fed1b6-40b1-368e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>13987.988741551257</x>
<y>943.9721559967422</y>
                            </position>
                            <versionedComponentId>c2fed1b6-40b1-368e-ba0e-5d179b03bd5c</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>c7858bf6-9d7f-38ed-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2225.354077060774</x>
<y>551.2172428664925</y>
                            </position>
                            <versionedComponentId>c7858bf6-9d7f-38ed-836b-0816190e71bc</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>cf56a520-1058-388c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10361.677246120671</x>
<y>504.9787276598893</y>
                            </position>
                            <versionedComponentId>cf56a520-1058-388c-8f62-d5dae46e752c</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>cf6ea0dc-6d2d-3ef2-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4941.221627256412</x>
<y>986.6857358419193</y>
                            </position>
                            <versionedComponentId>cf6ea0dc-6d2d-3ef2-9188-297451696c77</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>d861a580-d7a0-39f9-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14865.783751793037</x>
<y>926.129180903787</y>
                            </position>
                            <versionedComponentId>d861a580-d7a0-39f9-9d10-a87c5295255c</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>d9725acf-a081-3650-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14431.666294048431</x>
<y>927.4486995629138</y>
                            </position>
                            <versionedComponentId>d9725acf-a081-3650-8c62-534009796248</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>e014436a-abe5-300d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12068.760739650827</x>
<y>498.04971998585427</y>
                            </position>
                            <versionedComponentId>e014436a-abe5-300d-b692-8d1f3d5b81b2</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>e48e3d05-3e8e-3320-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8328.490029522853</x>
<y>987.5364377166</y>
                            </position>
                            <versionedComponentId>e48e3d05-3e8e-3320-8d52-c784a9ae3dc8</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>e6b61e8a-48f5-3e60-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14695.774011288751</x>
<y>450.2447387040401</y>
                            </position>
                            <versionedComponentId>e6b61e8a-48f5-3e60-8e63-1057bcc347e8</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>ed0b322c-8f4a-3221-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1009.4749217329068</x>
<y>539.0287324707781</y>
                            </position>
                            <versionedComponentId>ed0b322c-8f4a-3221-9503-a6cc13afc4a6</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>f173341f-b065-3a00-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6337.2156051660795</x>
<y>547.2777259824372</y>
                            </position>
                            <versionedComponentId>f173341f-b065-3a00-99d9-390826b811cb</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>f73709bd-9835-3382-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12751.357049439113</x>
<y>952.5234543670174</y>
                            </position>
                            <versionedComponentId>f73709bd-9835-3382-a080-8a587a715575</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>fa56f03d-5b1d-38ab-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8528.806148943982</x>
<y>516.6836613345197</y>
                            </position>
                            <versionedComponentId>fa56f03d-5b1d-38ab-9f25-9261b480b964</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>fb0df893-5895-30a8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-861.4172370925817</x>
<y>546.5553031831048</y>
                            </position>
                            <versionedComponentId>fb0df893-5895-30a8-afed-63e0d5303246</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>fc73de38-8460-38f3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3599.497994443912</x>
<y>994.6550961934817</y>
                            </position>
                            <versionedComponentId>fc73de38-8460-38f3-979f-9b00e2e8585e</versionedComponentId>
                        </funnels>
                        <inputPorts>
                            <id>d8d35950-a206-35f6-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1088.8727563156249</x>
<y>-926.6930454827836</y>
                            </position>
                            <versionedComponentId>d8d35950-a206-35f6-ac8d-22423c466f7d</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>in</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <labels>
                            <id>0b232998-be9e-3ab2-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1475.4723778963541</x>
<y>1758.9870453269145</y>
                            </position>
                            <versionedComponentId>0b232998-be9e-3ab2-85b0-37d81a5387fa</versionedComponentId>
                            <height>54.36923408508301</height>
                            <label>As of 2020-05-06, this processor can no longer be run on primary mode only.
This could cause the NiFi flow to fail, because several nodes could be
 reading/writing the same Kudu record at once!</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>429.2756805419922</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <labels>
                            <id>60e193cc-a31c-32fb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-566.8961690741135</x>
<y>108.9554637849779</y>
                            </position>
                            <versionedComponentId>60e193cc-a31c-32fb-8789-1cc59779d000</versionedComponentId>
                            <height>117.11870574951172</height>
                            <label>Release Signal Identifier @ $logtype 
Dit werkt per wait blokje, niet per workflow item
Zodra $logtype afgemeld wordt gaat de poort open, 
maar eerstvolgende moet dan wel dat type zijn anders
zal ie wachten tot de juiste komt</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>315.34593200683594</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <labels>
                            <id>6b162f25-06c9-3514-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1434.4527245760416</x>
<y>1240.5063324362895</y>
                            </position>
                            <versionedComponentId>6b162f25-06c9-3514-b527-2eb9a029e0e4</versionedComponentId>
                            <height>28.13424301147461</height>
                            <label>As of 2020-05-06, this processor can no longer be run on primary mode only</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>427.58311462402344</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <labels>
                            <id>9b24fcb9-81b8-3c10-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-607.6871264449776</x>
<y>735.0730890722186</y>
                            </position>
                            <versionedComponentId>9b24fcb9-81b8-3c10-b681-e1da416e87b5</versionedComponentId>
                            <height>35.84793281555176</height>
                            <label>A new query for inserting the staging table contents into the production table should be added to this processor.</label>
                            <style>
<entry>
    <key>background-color</key>
    <value>#ded6ff</value>
</entry>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>628.5004730224609</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <labels>
                            <id>d122f61e-e8c6-3853-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14697.411005871945</x>
<y>-484.7844561372749</y>
                            </position>
                            <versionedComponentId>d122f61e-e8c6-3853-9722-ba354d58f41c</versionedComponentId>
                            <height>1487.9810333251953</height>
                            <label>TEST flow</label>
                            <style>
<entry>
    <key>background-color</key>
    <value>#e8e8e8</value>
</entry>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>412.5820770263672</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <labels>
                            <id>f60221c3-82cc-3566-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-606.1535775918844</x>
<y>-320.61953556310533</y>
                            </position>
                            <versionedComponentId>f60221c3-82cc-3566-97b3-a5355064953a</versionedComponentId>
                            <height>37.411651611328125</height>
                            <label>In this processor we should configure which method we should use for moving data from the staging table to the production table</label>
                            <style>
<entry>
    <key>background-color</key>
    <value>#d9d6ff</value>
</entry>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>717.6329193115234</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <outputPorts>
                            <id>f288aa30-6ba1-37a3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1110.209852239208</x>
<y>2679.0775660599184</y>
                            </position>
                            <versionedComponentId>f288aa30-6ba1-37a3-82f3-a9ca9d0c43b5</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>releasedfile</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>00d8feff-1dc5-304f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6099.555059598225</x>
<y>-226.85710966622435</y>
                            </position>
                            <versionedComponentId>00d8feff-1dc5-304f-aa5d-eb5840e2eb40</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Diamond Components", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_generic_dimensions</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_dummy_partition</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/generic_dimensions/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/generic_dimensions/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>GENERIC_DIMENSIONS</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_generic_dimensions</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_generic_dimensions</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_generic_dimensions</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_generic_dimensions</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Generic dimensions - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>04081a5b-be96-3a18-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1906.1005732279693</x>
<y>614.7500054304963</y>
                            </position>
                            <versionedComponentId>04081a5b-be96-3a18-a355-386bd456f98e</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Temptation sum" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/TemptSum/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/TemptSum/q2/ValExtTab

refresh ${external_table};

select
  '${valid_from}'                            valid_from
, '${valid_to}'                              valid_to
, sum (t.before)                             sum_before
, sum (t.after)                              sum_after
, case
    when sum (t.before) + sum (t.after) &gt; 0
    then 'isFalse'
    else 'isTrue'
  end                                        isvalid
from 
  (
    select
      case when loh_trackout_cet_ts  &lt; '${valid_from}' then 1 else 0 end  before
    , case when loh_trackout_cet_ts &gt;= '${valid_to}'   then 1 else 0 end  after 
    from
      ${external_table}
  ) t
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/TemptSum/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/TemptSum/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/TemptSum/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_from_trackout_cet_ts, p_to_trackout_cet_ts, p_loh_suffix)
    select 
    controljob          
    , event              
    , event_name          
    , meas_cet_ts      
    , equipment           
    , sub_equipment       
    , chamber            
    , sub_recipe        
    , recipe_process_step 
    , slot                
    , lot                 
    , wafer             
    , parameter           
    , smc_chart           
    , obs_value         
    , limit_check_cet_ts 
    , violated_rule_type  
    , violated_rules     
    , violated_limit_type 
    , batch               
    , smc_chart_version   
    , process_capability  
    , loh_key             
    , loh_trackout_cet_ts          
	, data_source
    /* , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts */
    /* , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts   */
    /* 2021-07-07 FvH: For Temptation, use 6 hour partitions instead of 1 day partitions: */
    , from_unixtime (cast (floor    (extract (loh_trackout_cet_ts, 'EPOCH')      / (6*60*60)) * (6*60*60) as bigint))  p_from_trackout_cet_ts
    , from_unixtime (cast (ceiling ((extract (loh_trackout_cet_ts, 'EPOCH') + 1) / (6*60*60)) * (6*60*60) as bigint))  p_to_trackout_cet_ts
    , p_loh_suffix
    from
  	  ${prod_table}
    where
               cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
      and      cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
      and (    loh_trackout_cet_ts                         &lt; '${valid_from}'
            or loh_trackout_cet_ts                        &gt;= '${valid_to}'
          )
  union all
    select
      controljob       
    , event               
    , event_name         
    , meas_cet_ts         
    , equipment           
    , sub_equipment      
    , chamber             
    , sub_recipe          
    , recipe_process_step 
    , slot                
    , lot                 
    , wafer               
    , parameter           
    , smc_chart           
    , obs_value           
    , limit_check_cet_ts  
    , violated_rule_type  
    , violated_rules     
    , violated_limit_type 
    , batch               
    , smc_chart_version   
    , process_capability  
    , loh_key             
    , loh_trackout_cet_ts
	, data_source	
    /* , from_timestamp (          loh_trackout_cet_ts     , 'yyyy-MM-dd')  p_from_trackout_cet_ts */
    /* , from_timestamp (date_add (loh_trackout_cet_ts , 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts   */
    /* 2021-07-07 FvH: For Temptation, use 6 hour partitions instead of 1 day partitions: */
    , from_unixtime (cast (floor    (extract (loh_trackout_cet_ts, 'EPOCH')      / (6*60*60)) * (6*60*60) as bigint))  p_from_trackout_cet_ts
    , from_unixtime (cast (ceiling ((extract (loh_trackout_cet_ts, 'EPOCH') + 1) / (6*60*60)) * (6*60*60) as bigint))  p_to_trackout_cet_ts
    , ''                                                                                                               p_loh_suffix
    from
      ${external_table}
    where
      /* 2023-11-27 FvH: We no longer abuse the Temptation loader for loading E3 (summary/UVA) data. From now on, E3 data should be sent separately: */
         data_source is null
      or data_source = ''
      or data_source = 'TEMPTATION'
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/TemptSum/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts=' , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}' 
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts=' , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Temptation sum - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>04219f4b-e2c0-351a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3454.7226621372874</x>
<y>-218.7023397687634</y>
                            </position>
                            <versionedComponentId>04219f4b-e2c0-351a-97ea-e19643c14f85</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Experiments, define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_experiments</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_dummy_partition</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/experiments/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/experiments/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>EXPERIMENTS</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_experiments</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_experiments</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_experiments</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_experiments</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Experiments - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>0720c094-ef88-3447-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12586.266510071293</x>
<y>-286.66995990922373</y>
                            </position>
                            <versionedComponentId>0720c094-ef88-3447-9ce1-fd353d4b6ee5</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Single Wafer Scrap", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>10</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_to_scrap_cet_ts</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>SINGLE_WAFER_SCRAP</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_single_wafer_scrap_hits</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_single_wafer_scrap_hits</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_single_wafer_scrap_hits</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_single_wafer_scrap_hits</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>SWS - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>082ed1b6-e6c0-3e01-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8619.868055364208</x>
<y>-225.65863522639756</y>
                            </position>
                            <versionedComponentId>082ed1b6-e6c0-3e01-ae3d-ddec19ddfd06</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Base Qualifications Tracing Eqp", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>BASE_QUALIFICATIONS_TRACING_EQP</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=TRACING_EQP</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ Tracing Eqp - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>0b14fa67-6933-3218-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>618.7471943107412</x>
<y>205.05030251413496</y>
                            </position>
                            <versionedComponentId>0b14fa67-6933-3218-9a0b-eeebe368ff16</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "PCM_RAW" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous PCM Raw file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>0e44f1c7-17c4-3edf-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5283.10672591391</x>
<y>7.762046749137312</y>
                            </position>
                            <versionedComponentId>0e44f1c7-17c4-3edf-a8fd-f0b8c977678f</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Diamond Components file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Diamond Components - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>0f2b6d98-b2ed-32d1-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7716.117872258739</x>
<y>224.26168251901777</y>
                            </position>
                            <versionedComponentId>0f2b6d98-b2ed-32d1-9dce-06e8554a3943</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "BASE_QUALIFICATIONS_EDC" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous BQ EDC aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>0f622abe-a986-3835-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9917.962026951258</x>
<y>612.9271195805902</y>
                            </position>
                            <versionedComponentId>0f622abe-a986-3835-8ffe-967d42653338</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Base Qualifications OVL" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/BQOvl/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BQOvl/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'Overlay', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = 'Overlay' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/BQOvl/q4/InsStgTab

alter table ${staging_table} drop partition (p_parameter_type = 'Overlay');

-- ICN8/NiFi/BQOvl/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , loh_trackout_cet_ts
  , lot
  , process
  , process_speed
  , product
  , lot_priority
  , lot_type
  , material_batch
  , start_material
  , wafer_info
  , slot
  , step_valid_from_cet_ts
  , step_valid_to_cet_ts
  , step_trackin_cet_ts
  , step_trackout_cet_ts
  , step_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment
  , equipment_type
  , template_recipe
  , recipe
  , proc_equipment
  , proc_cet_ts
  , program
  , parameter
  , in_run_dimension
  , component
  , ttn_sub_recipe
  , ttn_recipe_process_step
  , meas_cet_ts
  , wafer
  , site
  , x
  , y
  , measured_value
  , num_obs
  , lower_control_limit
  , upper_control_limit
  , target_control_limit
  , lower_spec_limit
  , upper_spec_limit
  , lower_nonsense_limit
  , upper_nonsense_limit
  , btf_key
  )
partition
  ( p_parameter_type
  , p_aggregation_type
  , p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , loh_trackout_cet_ts
    , lot
    , process
    , process_speed
    , product
    , lot_priority
    , lot_type
    , material_batch
    , start_material
    , wafer_info
    , slot
    , step_valid_from_cet_ts
    , step_valid_to_cet_ts
    , step_trackin_cet_ts
    , step_trackout_cet_ts
    , step_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment
    , equipment_type
    , template_recipe
    , recipe
    , proc_equipment
    , proc_cet_ts
    , program
    , parameter
    , in_run_dimension
    , component
    , ttn_sub_recipe
    , ttn_recipe_process_step
    , meas_cet_ts
    , wafer
    , site
    , x
    , y
    , measured_value
    , num_obs
    , lower_control_limit
    , upper_control_limit
    , target_control_limit
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , btf_key
    , p_parameter_type
    , p_aggregation_type
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
      ${prod_table}
    where
                          p_parameter_type                            =  'Overlay'
                and       cast (p_from_trackout_cet_ts as timestamp)  &lt;  '${valid_to}'
                and       cast (p_to_trackout_cet_ts   as timestamp)  &gt;  '${valid_from}'
                and (     loh_trackout_cet_ts                         &lt;  '${valid_from}'
                      or  loh_trackout_cet_ts                         &gt;= '${valid_to}' 
                    )
  union all
   select
      'ICN8'                                                                                             fab
    , ovl.loh_key
    , ovl.trackout_cet_ts
    , min (nvl (bws.lot                   , ovl.lot))                                                    lot
    , min (nvl (bws.process               , 'None' ))                                                    process
    , min (nvl (bws.process_speed         , 'None' ))                                                    process_speed
    , min (nvl (bws.product               , 'None' ))                                                    product
    , min (nvl (bws.lot_priority          , 'None' ))                                                    lot_priority
    , min (nvl (bws.lot_type              , 'None' ))                                                    lot_type
    , min (nvl (bws.material_batch        , 'None' ))                                                    material_batch
    , min (nvl (bws.start_material        , 'None' ))                                                    start_material
    , min (nvl (bws.wafer_type            , 'None' ))                                                    wafer_info
    , min (cast(bws.slot as integer                ))                                                    slot_nr
    , min (     bws.step_start_cet_ts               )                                                    step_valid_from_dt
    , min (     bws.step_close_cet_ts               )                                                    step_valid_to_dt
    , min (     bws.trackin_cet_ts                  )                                                    step_trackin_dt
    , min (     bws.trackout_cet_ts                 )                                                    step_trackout_dt
    , min (     bws.loc_num_wafers                  )                                                    step_nr_wafers
    , min (nvl (bws.technical_stage       , 'None' ))                                                    technical_stage
    , min (nvl (bws.flowstage             , 'None' ))                                                    flow_stage
    , min (nvl (bws.step                  , 'None' ))                                                    step
     ,      nvl (ovl.toy_inspect_equipment , 'None' )                                                     equipment
     , min (nvl (bws.equipment_type        , 'None' ))                                                    equipment_type
     , min (nvl (bws.template_recipe       , 'None' ))                                                    template_recipe
     , min (nvl (bws.recipe                , 'None' ))                                                    recipe
     ,      nvl (ovl.toy_process_equipment , 'None' )                                                     proc_equipment
     , min (bws.trackout_cet_ts                     )                                                    proc_cet_ts
     , ovl.toy_program
     , ovl.toy_parameter
    , null                                                                                               in_run_dimension
    , null                                                                                               comp
    , null                                                                                               subrcp
    , null                                                                                               rcpstp
    , ovl.toy_start_cet_ts                                                                                              meas_cet_ts
    , case when toy_wafer is not null then 
         case when toy_wafer in ('1','2','3','4','5','6','7','8','9' ) then concat( substr (ovl.lot, 1, 6), 'w0', toy_wafer )
              else concat(substr (ovl.lot,1 , 6),'w',toy_wafer) 
         end
      end wafer
    , ovl.toy_site                                                                                              site
    , ovl.toy_x                                                                                 x  /* This needs to be changed when aggregation to lot/wafer level is needed! */
    , ovl.toy_y                                                                                 y  /* This needs to be changed when aggregation to lot/wafer level is needed! */
     , case  
        when mref.aggregation_type like '%min'   then min    (ovl.toy_value    )
        when mref.aggregation_type like '%max'   then max    (ovl.toy_value    )
        when mref.aggregation_type like '%avg'   then avg    (ovl.toy_value    )
        when mref.aggregation_type like '%std'   then stddev (ovl.toy_value    )
        else                                          min    (ovl.toy_value    )
      end                                                                                         measured_value
    , count(*)                                                                                    num_obs
    , NULL                                                                                        ower_control_limit
    , NULL                                                                                        upper_control_limit
    , NULL                                                                                        target_control_limit
    , NULL                                                                                        lower_spec_limit
    , NULL                                                                                        upper_spec_limit
    , NULL                                                                                        lower_nonsense_limit
    , NULL                                                                                        upper_nonsense_limit
    , min (bws.btf_key)                                                                           btf_key
    , 'Overlay'                                                                                   p_parameter_type
    , mref.aggregation_type                                                                        p_aggregation_type
    , from_timestamp (           ovl.trackout_cet_ts,     'yyyy-MM-dd')                           p_from_trackout_dt
    , from_timestamp ( date_add (ovl.trackout_cet_ts, 1), 'yyyy-MM-dd')                           p_to_trackout_dt
    , ''                                                                                          p_loh_suffix
    from
               mfg_icn8_data.nifi_tool_overlay_raw              ovl
           join mfg_icn8_apps.base_parameter_type_levels        mref     on (     mref.parameter_type              = 'Overlay'
                                                                             )
      left join mfg_icn8_apps.nifi_base_wafer_production_steps  bws      on (     bws.lot                          = ovl.lot
                                                                              and bws.wafer_rank                   = 1
                                                                              and bws.loh_key                      = ovl.loh_key
                                                                              and bws.trackout_cet_ts              = ovl.trackout_cet_ts
  				     												         and bws.p_to_trackout_cet_ts         &gt; '${valid_from}'
  					     												     and bws.p_from_trackout_cet_ts       &lt; '${valid_to}'
  						     											     and bws.trackout_cet_ts             &gt;= '${valid_from}'
  							     										     and bws.trackout_cet_ts              &lt; '${valid_to}'
                                                                            )
    where
           ovl.trackout_cet_ts           &gt;=  '${valid_from}'
       and ovl.trackout_cet_ts            &lt;  '${valid_to}'
       and ovl.p_to_trackout_cet_ts       &gt;  '${valid_from}'
       and ovl.p_from_trackout_cet_ts     &lt;  '${valid_to}'
   group by
          ovl.loh_key
        , ovl.trackout_cet_ts
        , ovl.measurement_run
       , nvl (ovl.toy_inspect_equipment, 'None' )
       , nvl (ovl.toy_process_equipment, 'None' )
       , ovl.toy_program
       , ovl.toy_parameter
       , toy_start_cet_ts
       , case when toy_wafer is not null then 
         case when toy_wafer in ('1','2','3','4','5','6','7','8','9' ) then concat( substr (ovl.lot, 1, 6), 'w0', toy_wafer )
              else concat(substr (ovl.lot, 1, 6), 'w', toy_wafer) 
         end
      end
    , mref.aggregation_type                                        
    , from_timestamp (           ovl.trackout_cet_ts,     'yyyy-MM-dd')                          
    , from_timestamp ( date_add (ovl.trackout_cet_ts, 1), 'yyyy-MM-dd')                         
    , ''
    , ovl.toy_site
    , ovl.toy_x  /* This needs to be changed when aggregation to lot/wafer level is needed! */
    , ovl.toy_y  /* This needs to be changed when aggregation to lot/wafer level is needed! */
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/BQOvl/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = 'Overlay' 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = 'Overlay'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ OVL - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>112b40a6-cc15-33bd-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6497.374815883757</x>
<y>-228.90903204596498</y>
                            </position>
                            <versionedComponentId>112b40a6-cc15-33bd-b8d3-5f014b9a61ad</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "XSITE States", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_xsite_states_raw</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_to_start_cet_ts</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/xsite_states_raw/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/xsite_states_raw/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>XSITE_STATES_RAW</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_xsite_states_raw</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_xsite_states_raw</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_xsite_states_raw</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_xsite_states_raw</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Xsite States - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>12d6d292-8cc8-3370-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11703.196037043745</x>
<y>597.1158354935501</y>
                            </position>
                            <versionedComponentId>12d6d292-8cc8-3370-8b0d-1ae63a3d773d</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Base Qualifications E3" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/BQE3/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BQE3/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'E3', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = 'E3' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/BQE3/q4/InsStgTab

alter table ${staging_table} drop partition (p_parameter_type = 'E3');

-- ICN8/NiFi/BQE3/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , loh_trackout_cet_ts
  , lot
  , lot_std_fmt
  , process
  , process_speed
  , product
  , lot_priority
  , lot_type
  , material_batch
  , start_material
  , wafer_info
  , slot
  , step_valid_from_cet_ts
  , step_valid_to_cet_ts
  , step_trackin_cet_ts
  , step_trackout_cet_ts
  , step_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment
  , equipment_type
  , template_recipe
  , recipe
  , proc_equipment
  , proc_cet_ts
  , program
  , parameter
  , in_run_dimension
  , component
  , ttn_sub_recipe
  , ttn_recipe_process_step
  , meas_cet_ts
  , wafer
  , wafer_std_fmt
  , site
  , x
  , y
  , measured_value
  , num_obs
  , lower_control_limit
  , upper_control_limit
  , target_control_limit
  , lower_spec_limit
  , upper_spec_limit
  , lower_nonsense_limit
  , upper_nonsense_limit
  , btf_key
  , event
  )
partition
  ( p_parameter_type
  , p_aggregation_type
  , p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , loh_trackout_cet_ts
    , lot
	, lot_std_fmt
    , process
    , process_speed
    , product
    , lot_priority
    , lot_type
    , material_batch
    , start_material
    , wafer_info
    , slot
    , step_valid_from_cet_ts
    , step_valid_to_cet_ts
    , step_trackin_cet_ts
    , step_trackout_cet_ts
    , step_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment
    , equipment_type
    , template_recipe
    , recipe
    , proc_equipment
    , proc_cet_ts
    , program
    , parameter
    , in_run_dimension
    , component
    , ttn_sub_recipe
    , ttn_recipe_process_step
    , meas_cet_ts
    , wafer
	, wafer_std_fmt
    , site
    , x
    , y
    , measured_value
    , num_obs
    , lower_control_limit
    , upper_control_limit
    , target_control_limit
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , btf_key
    , event
    , p_parameter_type
    , p_aggregation_type
    /* , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts */
    /* , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts   */
    /* 2021-07-06 FvH: For Temptation, use 6 hour partitions instead of 1 day partitions: */
    , from_unixtime (cast (floor    (extract (loh_trackout_cet_ts, 'EPOCH')      / (6*60*60)) * (6*60*60) as bigint))  p_from_trackout_cet_ts
    , from_unixtime (cast (ceiling ((extract (loh_trackout_cet_ts, 'EPOCH') + 1) / (6*60*60)) * (6*60*60) as bigint))  p_to_trackout_cet_ts
    , p_loh_suffix
    from
           ${prod_table}
    where
               p_parameter_type                            = 'E3'
      and      cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
      and      cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
      and (    loh_trackout_cet_ts                         &lt; '${valid_from}'
            or loh_trackout_cet_ts                        &gt;= '${valid_to}'
         )
  union all
    select
      'ICN8'                                                                 fab
    , e3s.loh_key
    , substr (e3s.loh_trackout_cet_ts, 1,19)                                 loh_trackout_cet_ts
    , min (nvl (bws.lot                   , e3s.lot))                        lot
	, upper(left(min (nvl (bws.lot        , e3s.lot)),6))				     lot_std_fmt
    , min (nvl (bws.process               , 'None' ))                        process
    , min (nvl (bws.process_speed         , 'None' ))                        process_speed
    , min (nvl (bws.product               , 'None' ))                        product
    , min (nvl (bws.lot_priority          , 'None' ))                        lot_priority
    , min (nvl (bws.lot_type              , 'None' ))                        lot_type
    , min (nvl (bws.material_batch        , 'None' ))                        material_batch
    , min (nvl (bws.start_material        , 'None' ))                        start_material
    , min (nvl (bws.wafer_type            , 'None' ))                        wafer_info
    , min (     bws.slot                            )                        slot_nr
    , min (     bws.step_start_cet_ts               )                        step_valid_from_dt
    , min (     bws.step_close_cet_ts               )                        step_valid_to_dt
    , min (     bws.trackin_cet_ts                  )                        step_trackin_dt
    , min (     bws.trackout_cet_ts                 )                        step_trackout_dt
    , min (     bws.loc_num_wafers                  )                        step_nr_wafers
    , min (nvl (bws.technical_stage       , 'None' ))                        technical_stage
    , min (nvl (bws.flowstage             , 'None' ))                        flow_stage
    , min (nvl (bws.step                  , 'None' ))                        step
    ,      nvl (e3s.equipment             , 'None' )                         equipment
    , min (nvl (bws.equipment_type        , 'None' ))                        equipment_type
    , min (nvl (bws.template_recipe       , 'None' ))                        template_recipe
    , min (nvl (bws.recipe                , 'None' ))                        recipe
    , null                                                                   proc_equipment
    , null                                                                   proc_cet_ts
    , null                                                                   program
    , e3s.parameter                                                          parameter
    , ptl.in_run_dimension                                                   in_run_dimension
    , case
        when ptl.in_run_dimension like '%cmp%'
        then e3s.sub_equipment
        else null
      end                                                                    comp
    , case
        when ptl.in_run_dimension like '%sbr%'
        then e3s.sub_recipe
        else null
       end                                                                   subrcp
    , case
        when ptl.in_run_dimension like '%rps%'
        then e3s.recipe_process_step
        else null
       end                                                                   rcpstp
       /* When aggregating the different measurements of 1 wafer or 1 lot, take the lowest measurement_dt of the individual measurements: */
    , min (e3s.meas_cet_ts)                                                  meas_cet_ts
    , case
        when ptl.aggregation_type like 'waf%'
        then case when e3s.wafer = '&lt;none&gt;' then bws.wafer else e3s.wafer end
        else null
      end                                                                    wafer
	, case
        when ptl.aggregation_type like 'waf%'
        then right(case when e3s.wafer = '&lt;none&gt;' then bws.wafer else e3s.wafer end,2)
        else null															 
      end                                                                    wafer_std_fmt
    , null                                                                   site
    , null                                                                   x
    , null                                                                   y
    , case
        when ptl.aggregation_type like '%avg' then avg    (e3s.obs_value)
        when ptl.aggregation_type like '%std' then stddev (e3s.obs_value)
        when ptl.aggregation_type like '%min' then min    (e3s.obs_value)
        when ptl.aggregation_type like '%max' then max    (e3s.obs_value)
        else                                       min    (e3s.obs_value)
      end                                                                    measured_value
    , count (*)                                                              num_obs
    , null                                                                   lower_control_limit
    , null                                                                   upper_control_limit
    , null                                                                   target_control_limit
    , null                                                                   lower_spec_limit
    , null                                                                   upper_spec_limit
    , null                                                                   lower_nonsense_limit
    , null                                                                   upper_nonsense_limit
    , min (bws.btf_key)                                                      btf_key
    , case
        when ptl.aggregation_type in ('lot', 'waf', 'site')
        then cast (min (e3s.event) as string)
        else null
      end                                                                    event
    , 'E3'                                                                   p_parameter_type
    , ptl.aggregation_type                                                   p_aggregation_type
    /* , from_timestamp (           e3s.loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_dt */
    /* , from_timestamp ( date_add (e3s.loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_dt   */
    /* 2021-07-06 FvH: For Temptation, use 6 hour partitions instead of 1 day partitions: */
    , from_unixtime (cast (floor    (extract (e3s.loh_trackout_cet_ts, 'EPOCH')      / (6*60*60)) * (6*60*60) as bigint))  p_from_trackout_cet_ts
    , from_unixtime (cast (ceiling ((extract (e3s.loh_trackout_cet_ts, 'EPOCH') + 1) / (6*60*60)) * (6*60*60) as bigint))  p_to_trackout_cet_ts
    , ''                                                                     p_loh_suffix
    from
                mfg_icn8_data.nifi_e3_sum                       e3s
      left join mfg_icn8_apps.nifi_base_wafer_production_steps  bws on (     bws.lot                                    = e3s.lot
                                                                         and (    bws.wafer                             = e3s.wafer
                                                                               or lower(e3s.wafer)                      like '%none%'
                                                                             )
                                                                         and bws.loh_key                                = e3s.loh_key
                                                                         and substr (bws.trackout_cet_ts, 1, 19)        = substr (e3s.loh_trackout_cet_ts, 1, 19)
                                                                         and bws.p_to_trackout_cet_ts                   &gt; '${valid_from}'
                                                                         and bws.p_from_trackout_cet_ts                 &lt; '${valid_to}'
                                                                         and bws.trackout_cet_ts                       &gt;= '${valid_from}'
                                                                         and bws.trackout_cet_ts                        &lt; '${valid_to}'
                                                                       )
           join mfg_icn8_apps.base_parameter_type_levels        ptl on (     ptl.parameter_type                         = 'E3'
                                                                         and ptl.active_yn                              = 'Y'
                                                                         and ptl.aggregation_type                not like '%q1'
                                                                         and ptl.aggregation_type                not like '%q2'
                                                                         and ptl.aggregation_type                not like '%q3'
                                                                       )
    where
          e3s.p_to_trackout_cet_ts    &gt; '${valid_from}'
      and e3s.p_from_trackout_cet_ts  &lt; '${valid_to}'
      and e3s.loh_trackout_cet_ts    &gt;= '${valid_from}'
      and e3s.loh_trackout_cet_ts     &lt; '${valid_to}'
   group by
      e3s.loh_key
    , e3s.loh_trackout_cet_ts
    , nvl (e3s.equipment, 'None')
    , e3s.parameter
    , ptl.in_run_dimension
    , case
        when ptl.in_run_dimension like '%cmp%'
        then e3s.sub_equipment
        else null
      end
    , case
        when ptl.in_run_dimension like '%sbr%'
        then e3s.sub_recipe
        else null
       end
    , case
        when ptl.in_run_dimension like '%rps%'
        then e3s.recipe_process_step
        else null
       end
    , case
        when ptl.aggregation_type like 'waf%'
        then case when e3s.wafer = '&lt;none&gt;' then bws.wafer else e3s.wafer end
        else null
      end
	, case
        when ptl.aggregation_type like 'waf%'
        then right(case when e3s.wafer = '&lt;none&gt;' then bws.wafer else e3s.wafer end,2)
        else null
      end
    , case
        when ptl.aggregation_type = 'waf'
        then e3s.meas_cet_ts
        else null
      end
    , case
        when ptl.aggregation_type = 'waf'
        then e3s.event
        else null
      end
    , ptl.aggregation_type
    , from_timestamp (           e3s.loh_trackout_cet_ts    , 'yyyy-MM-dd')
    , from_timestamp ( date_add (e3s.loh_trackout_cet_ts, 1), 'yyyy-MM-dd')
      /* 2024-01-22 FvH: In case we receive 2 E3 lines that are exactly the same except for the measured value, we need to keep both lines to be able to do a cross check with BRS: */
    , case
        when ptl.aggregation_type in ('lot', 'waf', 'site')
        then e3s.obs_value 
        else null
      end
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/E3Tempt/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts='  , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = 'E3'
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts='  , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = 'E3'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ E3 - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>14af956e-efb5-341a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4803.388048813907</x>
<y>639.9903618758088</y>
                            </position>
                            <versionedComponentId>14af956e-efb5-341a-b14a-2161a13c06fb</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Process Runcards" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/PrcRunc/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/PrcRunc/q2/ValExtTab

refresh ${external_table};

select
  case
    when count(*) = 0
    then 'isFalse'
    else 'isTrue'
  end                  isvalid
from 
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/PrcRunc/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_dummy_partition, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/PrcRunc/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/PrcRunc/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_dummy_partition)
select
  process
, technical_stage
, technical_stage_seq
, flowstage
, flowstage_seq
, step
, common_step
, common_step_all_processes
, path
, equipment_type
, step_handle
, template_recipe
, pass_path_template_recipe
, multiple_pass_paths
, edc_plan
, template_reticle
, layer
, step_no
, 'DUMMY'                         p_dummy_partition
from
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/PrcRunc/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    'p_dummy_partition=DUMMY' as par
    
    UNION ALL
    
    SELECT 
    2 as source, 
    'p_dummy_partition=DUMMY' as par
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Process Runcards - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>15ec2b01-a245-3479-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1074.682020207958</x>
<y>954.9823742955</y>
                            </position>
                            <versionedComponentId>15ec2b01-a245-3479-aaf2-122f4c0901a6</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write a message to the NiFi log about the file that was just released to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Released file '${filename}' of type ${logtype} from waiting list</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Ready for processing</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>19590cc4-a093-3ae0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8168.124647161083</x>
<y>-225.53910550227647</y>
                            </position>
                            <versionedComponentId>19590cc4-a093-3ae0-ac55-9f66f0d72b84</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Base Qualifications PCM", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* inner_partition: the name of the innermost partition of the partition tree. Needed for the new partition swap script.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
* swap_main_partition: the part of the partition tree that will remain fixed when swapping partitions (= "sub-table")
* use_new_swap_script_yn: If "Y", the improved swap script swap_partitions_new.sh is used for files of this type.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>5</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>BASE_QUALIFICATIONS_PCM</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=PCM</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ PCM - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>1c05f258-3afc-374a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2325.3008793194294</x>
<y>-242.2563221295792</y>
                            </position>
                            <versionedComponentId>1c05f258-3afc-374a-a727-6ee30ae91e52</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "E3 sum", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>
            <name>override_hist_data_route_yn</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_e3_sum</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/e3_sum/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/e3_sum/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>E3_SUM</value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_e3_sum</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_e3_sum</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_e3_sum</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_e3_sum</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>E3 sum - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>1ecef65e-9099-3de2-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1043.3892841544912</x>
<y>-240.46785458674913</y>
                            </position>
                            <versionedComponentId>1ecef65e-9099-3de2-af03-ac74f8078df6</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Diamond Raw", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_diamond_raw</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/diamond_raw/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/diamond_raw/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>DIAMOND_RAW</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_diamond_raw</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_diamond_raw</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_diamond_raw</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_diamond_raw</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Diamond Raw - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>1f127933-5a5a-3c9e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7274.982252141552</x>
<y>0.982212170866319</y>
                            </position>
                            <versionedComponentId>1f127933-5a5a-3c9e-afc5-45ce6ace5f12</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Base Wafer Component Steps trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Base Waf Prod Steps - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>1fd5ac35-82b1-3757-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3853.5243690685174</x>
<y>230.9462009776704</y>
                            </position>
                            <versionedComponentId>1fd5ac35-82b1-3757-8aec-02330787ac86</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Scrap" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Scrap file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>223d6a18-1b25-3dd7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5696.24979232016</x>
<y>10.880205089591414</y>
                            </position>
                            <versionedComponentId>223d6a18-1b25-3dd7-8e19-ec6fb2734b78</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Diamond Components file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Products - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>244a5630-15b8-34bb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5712.839953110782</x>
<y>628.8058525984651</y>
                            </position>
                            <versionedComponentId>244a5630-15b8-34bb-89aa-92027703965b</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Diamond Components" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/Prod/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/Prod/q2/ValExtTab

refresh ${external_table};

select
  case
    when count(*) = 0
    then 'isFalse'
    else 'isTrue'
  end                  isvalid
from 
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/Prod/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_dummy_partition, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/Prod/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/Prod/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_dummy_partition)
select
  PRODUCT
, PROD_STATE
, X_PITCH
, X_SCRIBE_LANE
, Y_PITCH
, Y_SCRIBE_LANE
, DIE_AREA
, PRINTED_DIES
, PGDW
, NPDW
, LARGE_DIE_IND
, 'DUMMY'                         p_dummy_partition
from
  ${external_table}
;

</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/Prod/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    'p_dummy_partition=DUMMY' as par
    
    UNION ALL
    
    SELECT 
    2 as source, 
    'p_dummy_partition=DUMMY' as par
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Products - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>25b22251-61c7-3bbb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12114.396640446326</x>
<y>-15.789983182253422</y>
                            </position>
                            <versionedComponentId>25b22251-61c7-3bbb-9be8-dfca291aeb00</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Base Qualifications E3 UVA trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ E3 UVA - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>26b8c70c-8d1c-30c7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8619.434644719677</x>
<y>610.3924998367738</y>
                            </position>
                            <versionedComponentId>26b8c70c-8d1c-30c7-b457-4a6ad579657e</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Base Qualifications Tracing Eqp" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/BQTrcEqp/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BQTrcEqp/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'TRACING_EQP', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = 'TRACING_EQP' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/BQTrcEqp/q4/InsStgTab

alter table ${staging_table} drop partition (p_parameter_type = 'TRACING_EQP');

-- ICN8/NiFi/BQTrcEqp/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , loh_trackout_cet_ts
  , lot
  , process
  , process_speed
  , product
  , lot_priority
  , lot_type
  , material_batch
  , start_material
  , wafer_info
  , slot
  , step_valid_from_cet_ts
  , step_valid_to_cet_ts
  , step_trackin_cet_ts
  , step_trackout_cet_ts
  , step_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment
  , equipment_type
  , template_recipe
  , recipe
  , proc_equipment
  , program
  , parameter
  , in_run_dimension
  , component
  , ttn_sub_recipe
  , ttn_recipe_process_step
  , meas_cet_ts
  , wafer
  , site
  , x
  , y
  , measured_value
  , measured_string_value 
  , num_obs
  , lower_control_limit
  , upper_control_limit
  , lower_spec_limit
  , upper_spec_limit
  , lower_nonsense_limit
  , upper_nonsense_limit
  , btf_key
  , lot_std_fmt
  , wafer_std_fmt
  )
partition
  ( p_parameter_type
  , p_aggregation_type
  , p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , loh_trackout_cet_ts
    , lot
    , process
    , process_speed
    , product
    , lot_priority
    , lot_type
    , material_batch
    , start_material
    , wafer_info
    , slot
    , step_valid_from_cet_ts
    , step_valid_to_cet_ts
    , step_trackin_cet_ts
    , step_trackout_cet_ts
    , step_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment
    , equipment_type
    , template_recipe
    , recipe
    , proc_equipment
    , program
    , parameter
    , in_run_dimension
    , component
    , ttn_sub_recipe
    , ttn_recipe_process_step
    , meas_cet_ts
    , wafer
    , site
    , x
    , y
    , measured_value
    , measured_string_value 
    , num_obs
    , lower_control_limit
    , upper_control_limit
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , btf_key
    , lot_std_fmt
    , wafer_std_fmt
    , p_parameter_type
    , p_aggregation_type
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
      ${prod_table}
    where
                        p_parameter_type                            =  'TRACING_EQP'
               and      cast (p_from_trackout_cet_ts as timestamp)  &lt;  '${valid_to}'
               and      cast (p_to_trackout_cet_ts   as timestamp)  &gt;  '${valid_from}'
               and (    loh_trackout_cet_ts                         &lt;  '${valid_from}'
                     or loh_trackout_cet_ts                         &gt;= '${valid_to}'
                   )
  union all
    select distinct
      'ICN8'                                                            fab
	, bws.loh_key
	, bws.trackout_cet_ts                                               loh_trackout_cet_ts
	, bws.lot
	, bws.process
	, bws.process_speed
	, bws.product
	, bws.lot_priority
	, bws.lot_type
	, bws.material_batch 
	, bws.start_material 
	, bws.wafer_type
	, case 
		when substr(ptl.aggregation_type, 1, 3) = 'waf'
			then cast(bws.slot as int)
		else null
		end                                                             slot
	, bws.step_start_cet_ts
	, bws.step_close_cet_ts
	, bws.trackin_cet_ts                                                step_trackin_cet_ts
	, bws.trackout_cet_ts                                               step_trackout_cet_ts
	, bws.loc_num_wafers
	, bws.technical_stage
	, bws.flowstage
	, bws.step
	, bws.equipment
	, bws.equipment_type
	, bws.template_recipe
	, bws.recipe
	, bws.equipment                                                     proc_equipment
	, 'TRACING_EQP'                                                     program
	, 'TRACING_EQP'                                                     parameter
	, null                                                              in_run_dimension
	, null                                                              component
	, null                                                              ttn_sub_recipe
	, null                                                              ttn_recipe_process_step
	, bws.trackout_cet_ts meas_cet_ts
	, case 
		when substr(ptl.aggregation_type, 1, 3) = 'waf'
			then bws.wafer
		else null
		end                                                             wafer
	, null                                                              site
	, null x
	, null y
	-- Store the equipment name as a human-readable number:
	,   (ascii (substr (bws.equipment, 1, 1)) - 64 ) * 1000000
      + (ascii (substr (bws.equipment, 2, 1)) - 64 ) *   10000
      +  cast  (substr (bws.equipment, 3, 4) as int)                    measured_value
	, bws.equipment                                                     measured_string_value
	, 1                                                                 num_obs
	, null                                                              lower_control_limit
	, null                                                              upper_control_limit
	, null                                                              lower_spec_limit
	, null                                                              upper_spec_limit
	, null                                                              lower_nonsense_limit
	, null                                                              upper_nonsense_limit
    , bws.btf_key
    , substr(upper (bws.lot),1,6)                                       lot_std_fmt 
    , case 
		when substr (ptl.aggregation_type, 1, 3) = 'waf'
		then substr (upper (bws.wafer), -2, 2)
		else null
      end                                                               wafer_std_fmt
	, 'TRACING_EQP'                                                     p_parameter_type
	, ptl.aggregation_type                                              p_aggregation_type
    , from_timestamp (          bws.trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (days_add (bws.trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , ''                                                                p_loh_suffix
    from
           mfg_icn8_apps.nifi_base_wafer_production_steps  bws
      join mfg_icn8_apps.base_parameter_type_levels        ptl on ptl.parameter_type = 'TRACING_EQP'
    where
         bws.trackout_cet_ts        &gt;= '${valid_from}'
	 and bws.trackout_cet_ts         &lt; '${valid_to}'
	 and bws.p_from_trackout_cet_ts  &lt; '${valid_to}'
	 and bws.p_to_trackout_cet_ts    &gt; '${valid_from}'
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/BQTrcEqp/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = 'TRACING_EQP' 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'  
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = 'TRACING_EQP'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ Tracing Eqp - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>2a3d9baf-221f-334f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14292.816605396642</x>
<y>209.21693767200634</y>
                            </position>
                            <versionedComponentId>2a3d9baf-221f-334f-b247-fbb8004a4327</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Temptation sum" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Other Qualifications file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>2a76efdb-a9c3-3ee0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6115.175492115392</x>
<y>232.23881877552196</y>
                            </position>
                            <versionedComponentId>2a76efdb-a9c3-3ee0-bcf4-34de6924be06</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Diamond Components" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Generic dimensions file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>2ac552c9-3a37-3b14-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7263.755689641552</x>
<y>610.7434062088441</y>
                            </position>
                            <versionedComponentId>2ac552c9-3a37-3b14-abb6-aa6a431c9999</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Base Wafer Production Steps" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/BasWafPrdStp/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BasWafPrdStp/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/BasWafPrdStp/q4/InsStgTab

truncate table ${staging_table};

-- ICN8/NiFi/BasWafPrdStp/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , lot
  , slot
  , wafer
  , step_start_cet_ts
  , step_close_cet_ts
  , trackin_cet_ts
  , trackout_cet_ts 
  , num_wafers_in
  , num_wafers_out
  , loc_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment_type
  , equipment
  , step_handle 
  , template_recipe
  , recipe
  , equipment_recipe 
  , physical_reticle
  , layer
  , btf_key
  , trackout_too_soon_ind
  , rework_step_ind
  , litho_rework_ind
  , wait_time
  , proc_time
  , hold_time
  , waferbank_time
  , hibernate_time 
  , lot_state
  , process_order
  , customer
  , lot_type
  , product
  , lot_priority
  , process
  , process_speed 
  , start_material
  , wafer_supplier
  , wafer_type
  , wafer_code
  , material_batch
  , wafer_rank
  , trackin_operator
  , trackout_operator
  )
partition
  ( p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , lot
    , slot
    , wafer
    , step_start_cet_ts
    , step_close_cet_ts
    , trackin_cet_ts
    , trackout_cet_ts 
    , num_wafers_in
    , num_wafers_out
    , loc_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment_type
    , equipment
    , step_handle 
    , template_recipe
    , recipe
    , equipment_recipe 
    , physical_reticle
    , layer
    , btf_key
    , trackout_too_soon_ind
    , rework_step_ind
    , litho_rework_ind
    , wait_time
    , proc_time
    , hold_time
    , waferbank_time
    , hibernate_time 
    , lot_state
    , process_order
    , customer
    , lot_type
    , product
    , lot_priority
    , process
    , process_speed 
    , start_material
    , wafer_supplier
    , wafer_type
    , wafer_code
    , material_batch
    , wafer_rank
    , trackin_operator
    , trackout_operator
    , from_timestamp (          trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
      ${prod_table}
    where
                   cast (p_from_trackout_cet_ts as timestamp) &lt;  '${valid_to}'
          and      cast (p_to_trackout_cet_ts   as timestamp) &gt;  '${valid_from}'
          and (    trackout_cet_ts                            &lt;  '${valid_from}'
                or trackout_cet_ts                            &gt;= '${valid_to}'
              )
  union all
    select
      'ICN8'                                                           fab
    , ps.loh_key
    , ps.lot
    , case
        when ps.wafer_in_slot_01                         = wf.wafer_suffix then  1 
        when ps.wafer_in_slot_02                         = wf.wafer_suffix then  2 
        when ps.wafer_in_slot_03                         = wf.wafer_suffix then  3 
        when ps.wafer_in_slot_04                         = wf.wafer_suffix then  4 
        when ps.wafer_in_slot_05                         = wf.wafer_suffix then  5 
        when ps.wafer_in_slot_06                         = wf.wafer_suffix then  6 
        when ps.wafer_in_slot_07                         = wf.wafer_suffix then  7 
        when ps.wafer_in_slot_08                         = wf.wafer_suffix then  8 
        when ps.wafer_in_slot_09                         = wf.wafer_suffix then  9 
        when ps.wafer_in_slot_10                         = wf.wafer_suffix then 10 
        when ps.wafer_in_slot_11                         = wf.wafer_suffix then 11 
        when ps.wafer_in_slot_12                         = wf.wafer_suffix then 12 
        when ps.wafer_in_slot_13                         = wf.wafer_suffix then 13 
        when ps.wafer_in_slot_14                         = wf.wafer_suffix then 14 
        when ps.wafer_in_slot_15                         = wf.wafer_suffix then 15 
        when ps.wafer_in_slot_16                         = wf.wafer_suffix then 16 
        when ps.wafer_in_slot_17                         = wf.wafer_suffix then 17 
        when ps.wafer_in_slot_18                         = wf.wafer_suffix then 18 
        when ps.wafer_in_slot_19                         = wf.wafer_suffix then 19 
        when ps.wafer_in_slot_20                         = wf.wafer_suffix then 20
        when ps.wafer_in_slot_21                         = wf.wafer_suffix then 21 
        when ps.wafer_in_slot_22                         = wf.wafer_suffix then 22 
        when ps.wafer_in_slot_23                         = wf.wafer_suffix then 23 
        when ps.wafer_in_slot_24                         = wf.wafer_suffix then 24 
        when replace (ps.wafer_in_slot_25, '025', 'w25') = wf.wafer_suffix then 25
      end                                                              slot
    , concat (substr (ps.lot, 1, 6), wf.wafer_suffix)                  wafer
    , ps.step_start_cet_ts
    , ps.step_close_cet_ts
    , ps.trackin_cet_ts
    , ps.trackout_cet_ts 
    , ps.num_wafers_in
    , ps.num_wafers_out
    , ps.loc_num_wafers
    , ps.technical_stage
    , ps.flowstage
    , ps.step
    , ps.equipment_type
    , ps.equipment
    , ps.step_handle 
    , ps.template_recipe
    , ps.recipe
    , ps.equipment_recipe 
    , ps.physical_reticle
    , ps.layer
    , ps.btf_key
    , ps.trackout_too_soon_ind
    , ps.rework_step_ind
    , ps.litho_rework_ind
    , ps.wait_time
    , ps.proc_time
    , ps.hold_time
    , ps.waferbank_time
    , ps.hibernate_time 
    , ps.lot_state
    , ps.process_order
    , ps.customer
    , ps.lot_type
    , ps.product
    , ps.lot_priority
    , ps.process
    , ps.process_speed 
    , ps.start_material
    , ps.wafer_supplier
    , ps.wafer_type
    , ps.wafer_code
    , ps.material_batch
    , cast ( dense_rank () over ( partition by
                                    ps.loh_key
                                  order by
                                    wf.wafer_suffix
                                )
             as smallint
           )                                                           wafer_rank
    , ps.trackin_operator
    , ps.trackout_operator
    , from_timestamp (          ps.trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (ps.trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , ''                                                               p_loh_suffix            /* Not needed in such a tiny table - partitions would become way too small!! */
    from
          mfg_icn8_data.nifi_production_steps  ps
     /* 2019-11-27 FvH: Left join because a lot of t-lots don't have a slotmap, and we still need to have the lot-level info in base_wafer_qualification_steps */
     left join mfg_icn8_data.wafer_suffixes    wf on (    wf.wafer_suffix = ps.wafer_in_slot_01
                                                       or wf.wafer_suffix = ps.wafer_in_slot_02 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_03 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_04 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_05 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_06 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_07 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_08 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_09 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_10 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_11 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_12 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_13 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_14 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_15 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_16 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_17 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_18 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_19 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_20 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_21 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_22 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_23 
                                                       or wf.wafer_suffix = ps.wafer_in_slot_24 
                                                       or wf.wafer_suffix = replace (ps.wafer_in_slot_25, '025', 'w25')
                                                    )
    where
          ps.trackout_cet_ts        &gt;= '${valid_from}'
      and ps.trackout_cet_ts         &lt; '${valid_to}'
      and ps.p_to_trackout_cet_ts    &gt; '${valid_from}'
      and ps.p_from_trackout_cet_ts  &lt; '${valid_to}'
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/BasWafPrdStp/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'  
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Base Waf Prod Steps - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>2b064377-7bb6-312c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-955.2623341553513</x>
<y>219.44991494089277</y>
                            </position>
                            <versionedComponentId>2b064377-7bb6-312c-8deb-c876a26306a2</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8</value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>File '${filename}' of type ${logtype} expired from waiting list, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogMessage</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>2ba9f09a-fe3a-3960-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-241.5638280004132</x>
<y>1231.1170679969614</y>
                            </position>
                            <versionedComponentId>2ba9f09a-fe3a-3960-97df-ad8c87b085d1</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>When flow file has all of these properties/attributes:
- valid_to_ts is older than 10 days,
- override_hist_data_route_yn is set to "N"
- current CET time is after 6 AM
- current CET time is before 6 PM
- current CET day is not Sunday
- current CET day is not Saturday

Then the flow-file will be routed to be processed outside office hours, otherwise the flow-file will be processed "on-line"</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>PROCESSING_OUTSIDE_OFFICE_HOURS</key>
        <value>
            <name>PROCESSING_OUTSIDE_OFFICE_HOURS</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>PROCESSING_OUTSIDE_OFFICE_HOURS</key>
        <value>${literal(${now():toNumber():minus(864000000):format('yyyyMMddHHmmss'):gt(${valid_to:toDate('yyyy-MM-dd HH:mm:ss'):format('yyyyMMddHHmmss')}):and(${override_hist_data_route_yn:equals('N')})}):and(${now():format('HHmmss', 'CET'):gt('060000')}):and(${now():format('HHmmss','CET'):lt('180000')}):and(${now():format('yyyy-MM-dd HH:mm:ss', 'CET'):toDate('yyyy-MM-dd HH:mm:ss'):format('E'):equals('Sun'):not()}):and(${now():format('yyyy-MM-dd HH:mm:ss', 'CET'):toDate('yyyy-MM-dd HH:mm:ss'):format('E'):equals('Sat'):not()})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Shift between continuous or outside office hours processing</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>PROCESSING_OUTSIDE_OFFICE_HOURS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>2cbe9c72-c944-3e1a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6503.008739057466</x>
<y>8.521227368428754</y>
                            </position>
                            <versionedComponentId>2cbe9c72-c944-3e1a-b54d-3eb911b71c2f</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Xsite States file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Xsite States - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>2d3b350e-b3af-315b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>629.4799823966787</x>
<y>-240.85616025081163</y>
                            </position>
                            <versionedComponentId>2d3b350e-b3af-315b-aad7-e6f35ee7be36</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "PCM Raw", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_pcm_raw</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/pcm_raw/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/pcm_raw/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>PCM_RAW</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_pcm_raw</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_pcm_raw</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_pcm_raw</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_pcm_raw</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PCM Raw - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>2eef7031-0a1c-3b49-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-276.96991250841165</x>
<y>204.40464211374433</y>
                            </position>
                            <versionedComponentId>2eef7031-0a1c-3b49-8cd0-eda0ce49aef5</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "PRODUCTION_STEPS" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Production Steps file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>3096128a-1b05-3912-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>182.22809030683493</x>
<y>-240.9375048553038</y>
                            </position>
                            <versionedComponentId>3096128a-1b05-3912-b6b3-5f9f8557b5de</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Metrology Raw", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_metrology_raw</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/metrology_raw/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/metrology_raw/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>METROLOGY_RAW</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_metrology_raw</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_metrology_raw</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_metrology_raw</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_metrology_raw</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Metrology (EDC) Raw - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>317fd924-aa2a-3591-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12112.145416321293</x>
<y>-259.01906383683604</y>
                            </position>
                            <versionedComponentId>317fd924-aa2a-3591-b659-7f842e875af1</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Base Qualifications E3 UVA", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>
            <name>override_hist_data_route_yn</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>15</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>BASE_QUALIFICATIONS_E3_UVA</value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=E3_UVA</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ E3 UVA - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>33398198-af0c-3300-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2733.44656966391</x>
<y>-11.162262981392473</y>
                            </position>
                            <versionedComponentId>33398198-af0c-3300-bc55-9d5a8b1bb636</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the E3-UVA file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>E3 UVA- Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>338152d8-d20d-3346-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1461.777329378954</x>
<y>-234.52702310097595</y>
                            </position>
                            <versionedComponentId>338152d8-d20d-3346-9ee9-53fe11bc962c</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Tool Overlay Raw", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_tool_overlay_raw</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/tool_overlay_raw/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/tool_overlay_raw/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>TOOL_OVERLAY_RAW</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_tool_overlay_raw</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_tool_overlay_raw</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_tool_overlay_raw</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_tool_overlay_raw</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Tool Overlay Raw - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>36cdc8ed-eb12-34a6-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7714.328504582958</x>
<y>-229.84370907893663</y>
                            </position>
                            <versionedComponentId>36cdc8ed-eb12-34a6-91ad-2e7f793e6610</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Base Qualifications EDC", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>BASE_QUALIFICATIONS_EDC</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=EDC</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ EDC - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>3bff7d3f-af69-3da5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-280.71991250841165</x>
<y>-238.9700671111632</y>
                            </position>
                            <versionedComponentId>3bff7d3f-af69-3da5-9e72-00e7ff46bccb</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Production Steps", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_production_steps</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/production_steps/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/production_steps/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>PRODUCTION_STEPS</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_production_steps</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_production_steps</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_production_steps</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_production_steps</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Production Steps - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>3cf3539b-d10b-3c8b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11274.291458387128</x>
<y>213.852020150037</y>
                            </position>
                            <versionedComponentId>3cf3539b-d10b-3c8b-a331-79accd2e9875</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "BASE_QUALIFICATIONS_TEMPTATION" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous BQ TEMPTATION aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>3d445ae5-29c5-3711-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2107.1228863695787</x>
<y>-936.5085854982299</y>
                            </position>
                            <versionedComponentId>3d445ae5-29c5-3711-98f5-01c5e85431a7</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>The file type is unknown, so move the file to the "unknown" folder.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/mv</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>/etl/dropzone/icn8/processing/${filename};/etl/dropzone/icn8/unknown/</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Move file to "unknown" folder</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>40acdafb-176f-31f1-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4302.948351548282</x>
<y>631.1428887312776</y>
                            </position>
                            <versionedComponentId>40acdafb-176f-31f1-8e5c-680d85ee24c3</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Lot Status" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/LotStat/q1/ConfExtTab

REFRESH ${external_table};</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/LotStat/q2/ValExtTab

refresh ${external_table};

select
  case
    when count(*) = 0
    then 'isFalse'
    else 'isTrue'
  end                  isvalid
from 
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/LotStat/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_dummy_partition, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/LotStat/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/LotStat/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_dummy_partition)
select
  lot
, lot_state
, process_order
, customer
, lot_type
, product
, lot_priority
, process
, process_speed
, lot_creation_cet_ts
, lot_start_cet_ts
, lot_completion_cet_ts
, lot_finished_cet_ts
, wafer_start_material
, wafer_supplier
, wafer_type
, wafer_code
, wafer_material_batch
, 'DUMMY'                         p_dummy_partition
from
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/LotStat/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    'p_dummy_partition=DUMMY' as par
    
    UNION ALL
    
    SELECT 
    2 as source, 
    'p_dummy_partition=DUMMY' as par
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Lot Status - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>40da01fb-a3ed-39dc-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4801.70764748885</x>
<y>-223.14260160958372</y>
                            </position>
                            <versionedComponentId>40da01fb-a3ed-39dc-a975-5c8f0213cb1b</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Process Runcards", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_process_runcards</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_dummy_partition</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/process_runcards/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/process_runcards/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>PROCESS_RUNCARDS</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_process_runcards</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_process_runcards</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_process_runcards</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_process_runcards</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Process Runcards - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>42701e30-1f58-34a0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8617.942701360302</x>
<y>-11.302181139680556</y>
                            </position>
                            <versionedComponentId>42701e30-1f58-34a0-8ce2-6b6f40e12f89</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Base Qualifications Tracing Eqp trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ Tracing EQP - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>4668260e-d227-3db0-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14309.785284207599</x>
<y>-453.1904379132948</y>
                            </position>
                            <versionedComponentId>4668260e-d227-3db0-b41f-dfcbd8f06d6b</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Temptation sum", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>
            <name>override_hist_data_route_yn</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_other_qualifications</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/other_qualifications/import/p_parameter_type=${ filename
   :replaceAll ("^HDP_", "")
   :replaceAll ("(_\d{14}){3}.csv", "")
 }</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/other_qualifications/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>${ filename
   :replaceAll ("^HDP_", "")
   :replaceAll ("(_\d{14}){3}.csv", "")
 }</value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Other qualifications - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>46fb6735-906f-3092-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10423.203931829052</x>
<y>-16.040831461641005</y>
                            </position>
                            <versionedComponentId>46fb6735-906f-3092-8b14-7d8a7f6f77d0</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the PMI-View Dims trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PMI-View Dims - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>4a63102d-5006-3676-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9054.689126981122</x>
<y>609.4886096716762</y>
                            </position>
                            <versionedComponentId>4a63102d-5006-3676-a121-5dff9d4a8467</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Base Qualifications Tracing Comp" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/BQTrcCmp/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BQTrcCmp/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'TRACING_COMP', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = 'TRACING_COMP' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/BQTrcCmp/q4/InsStgTab

alter table ${staging_table} drop partition (p_parameter_type = 'TRACING_COMP');

-- ICN8/NiFi/BQTrcCmp/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , loh_trackout_cet_ts
  , lot
  , process
  , process_speed
  , product
  , lot_priority
  , lot_type
  , material_batch
  , start_material
  , wafer_info
  , slot
  , step_valid_from_cet_ts
  , step_valid_to_cet_ts
  , step_trackin_cet_ts
  , step_trackout_cet_ts
  , step_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment
  , equipment_type
  , template_recipe
  , recipe
  , proc_equipment
  , program
  , parameter
  , in_run_dimension
  , component
  , ttn_sub_recipe
  , ttn_recipe_process_step
  , meas_cet_ts
  , wafer
  , site
  , x
  , y
  , measured_value
  , measured_string_value 
  , num_obs
  , lower_control_limit
  , upper_control_limit
  , lower_spec_limit
  , upper_spec_limit
  , lower_nonsense_limit
  , upper_nonsense_limit
  , btf_key
  , lot_std_fmt
  , wafer_std_fmt
  )
partition
  ( p_parameter_type
  , p_aggregation_type
  , p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , loh_trackout_cet_ts
    , lot
    , process
    , process_speed
    , product
    , lot_priority
    , lot_type
    , material_batch
    , start_material
    , wafer_info
    , slot
    , step_valid_from_cet_ts
    , step_valid_to_cet_ts
    , step_trackin_cet_ts
    , step_trackout_cet_ts
    , step_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment
    , equipment_type
    , template_recipe
    , recipe
    , proc_equipment
    , program
    , parameter
    , in_run_dimension
    , component
    , ttn_sub_recipe
    , ttn_recipe_process_step
    , meas_cet_ts
    , wafer
    , site
    , x
    , y
    , measured_value
    , measured_string_value 
    , num_obs
    , lower_control_limit
    , upper_control_limit
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , btf_key
    , lot_std_fmt
    , wafer_std_fmt
    , p_parameter_type
    , p_aggregation_type
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
      ${prod_table}
    where
                          p_parameter_type                            =  'TRACING_COMP'
                and       cast (p_from_trackout_cet_ts as timestamp)  &lt;  '${valid_to}'
                and       cast (p_to_trackout_cet_ts   as timestamp)  &gt;  '${valid_from}'
                and (     loh_trackout_cet_ts                         &lt;  '${valid_from}'
                      or  loh_trackout_cet_ts                         &gt;= '${valid_to}'
                    )
  union all
    select
           'ICN8'                                                              fab
    ,      bws.loh_key
    ,      bws.trackout_cet_ts                                                 loh_trackout_cet_ts
    , min (bws.lot                                                          )  lot
    , min (bws.process                                                      )  process
    , min (bws.process_speed                                                )  process_speed
    , min (bws.product                                                      )  product
    , min (bws.lot_priority                                                 )  lot_priority
    , min (bws.lot_type                                                     )  lot_type
    , min (bws.material_batch                                               )  material_batch
    , min (bws.start_material                                               )  start_material
    , min (bws.wafer_type                                                   )  wafer_type
    , min ( case
              when substr (ptl.aggregation_type, 1, 3) = 'waf'
              then cast (bws.slot as int)
              else null
            end
          )                                                                    slot
    , min (bws.step_start_cet_ts                                            )  step_start_cet_ts
    , min (bws.step_close_cet_ts                                            )  step_close_cet_ts
    , min (bws.trackin_cet_ts                                               )  step_trackin_cet_ts
    , min (bws.trackout_cet_ts                                              )  step_trackout_cet_ts
    , min (bws.loc_num_wafers                                               )  loc_num_wafers
    , min (bws.technical_stage                                              )  technical_stage
    , min (bws.flowstage                                                    )  flowstage
    , min (bws.step                                                         )  step
    , min (bws.equipment                                                    )  equipment
    , min (bws.equipment_type                                               )  equipment_type
    , min (bws.template_recipe                                              )  template_recipe
    , min (bws.recipe                                                       )  recipe
    , min (bws.equipment                                                    )  proc_equipment
    ,      'TRACING_COMP_DIA'                                                  program
    ,      'TRACING_COMP_DIA'                                                  parameter
    ,      null                                                                in_run_dimension
    ,      ndr.component                                                       component
    ,      null                                                                ttn_sub_recipe
    ,      null                                                                ttn_recipe_process_step
    , min (ndr.valid_from_cet_ts)                                              meas_cet_ts
    ,      case
              when substr (ptl.aggregation_type, 1, 3) = 'waf'
              then ndr.wafer
              else null
           end                                                                 wafer
    ,      null                                                                site
    ,      null                                                                x
    ,      null                                                                y
    ,      null                                                                measured_value
    ,      ndr.component                                                       measured_string_value
    ,      1                                                                   num_obs
    ,      null                                                                lower_control_limit
    ,      null                                                                upper_control_limit
    ,      null                                                                lower_spec_limit
    ,      null                                                                upper_spec_limit
    ,      null                                                                lower_nonsense_limit
    ,      null                                                                upper_nonsense_limit
    , min (bws.btf_key)                                                        btf_key
    , substr(min (upper (bws.lot)),1,6)                                        lot_std_fmt
    ,      case
              when substr (ptl.aggregation_type, 1, 3) = 'waf'
              then substr (upper (ndr.wafer), -2, 2)
              else null
           end                                                                 wafer_std_fmt
    ,      'TRACING_COMP'                                                      p_parameter_type
    ,      ptl.aggregation_type                                                p_aggregation_type
    , min (from_timestamp (          bws.trackout_cet_ts    , 'yyyy-MM-dd'))   p_from_trackout_cet_ts
    , min (from_timestamp (days_add (bws.trackout_cet_ts, 1), 'yyyy-MM-dd'))   p_to_trackout_cet_ts
    , ''                                                                       p_loh_suffix
    from
           mfg_icn8_apps.nifi_base_wafer_production_steps  bws
      join mfg_icn8_data.nifi_diamond_raw                  ndr on     ndr.run_loh_key            = bws.loh_key
                                                                  and ndr.run_trackout_cet_ts    = bws.trackout_cet_ts
                                                                  and ndr.wafer                  = bws.wafer
                                                                  and ndr.p_from_trackout_cet_ts &lt; '${valid_to}'
                                                                  and ndr.p_to_trackout_cet_ts   &gt; '${valid_from}'
      join mfg_icn8_data.nifi_diamond_components           dc  on     dc.component               = ndr.component 
                                                                  and dc.is_derived_comp_ind     = 'N' 
      join mfg_icn8_apps.base_parameter_type_levels        ptl on ptl.parameter_type             = 'TRACING_COMP'
    where       bws.trackout_cet_ts        &gt;= '${valid_from}'
            and bws.trackout_cet_ts         &lt; '${valid_to}'
            and bws.p_from_trackout_cet_ts  &lt; '${valid_to}'
            and bws.p_to_trackout_cet_ts    &gt; '${valid_from}'
    group by
      bws.loh_key
    , bws.trackout_cet_ts
    , ndr.component
    , case
        when substr (ptl.aggregation_type, 1, 3) = 'waf'
        then ndr.wafer
        else null
      end
    ,      case
              when substr (ptl.aggregation_type, 1, 3) = 'waf'
              then substr (upper (ndr.wafer), -2, 2)
              else null
           end
    , ptl.aggregation_type 
union
    select
    --dc.component                                                                comptest,
           'ICN8'                                                              fab
    ,      bws.loh_key
    ,      bws.trackout_cet_ts                                                 loh_trackout_cet_ts
    , min (bws.lot                                                          )  lot
    , min (bws.process                                                      )  process
    , min (bws.process_speed                                                )  process_speed
    , min (bws.product                                                      )  product
    , min (bws.lot_priority                                                 )  lot_priority
    , min (bws.lot_type                                                     )  lot_type
    , min (bws.material_batch                                               )  material_batch
    , min (bws.start_material                                               )  start_material
    , min (bws.wafer_type                                                   )  wafer_type
    , min ( case
              when substr (ptl.aggregation_type, 1, 3) = 'waf'
              then cast (bws.slot as int)
              else null
            end
          )                                                                    slot
    , min (bws.step_start_cet_ts                                            )  step_start_cet_ts
    , min (bws.step_close_cet_ts                                            )  step_close_cet_ts
    , min (bws.trackin_cet_ts                                               )  step_trackin_cet_ts
    , min (bws.trackout_cet_ts                                              )  step_trackout_cet_ts
    , min (bws.loc_num_wafers                                               )  loc_num_wafers
    , min (bws.technical_stage                                              )  technical_stage
    , min (bws.flowstage                                                    )  flowstage
    , min (bws.step                                                         )  step
    , min (bws.equipment                                                    )  equipment
    , min (bws.equipment_type                                               )  equipment_type
    , min (bws.template_recipe                                              )  template_recipe
    , min (bws.recipe                                                       )  recipe
    , min (bws.equipment                                                    )  proc_equipment
    ,      'TRACING_COMP_TTN'                                                  program
    ,      'TRACING_COMP_TTN'                                                  parameter
    ,      null                                                                in_run_dimension
    ,      nts.sub_equipment                                                   component
    ,      null                                                                ttn_sub_recipe
    ,      null                                                                ttn_recipe_process_step
    , min (nts.meas_cet_ts)                                                    meas_cet_ts
    ,      case
              when substr (ptl.aggregation_type, 1, 3) = 'waf'
              then nts.wafer
              else null
           end                                                                 wafer
    ,      null                                                                site
    ,      null                                                                x
    ,      null                                                                y
    ,      null                                                                measured_value
    ,      nts.sub_equipment                                                   measured_string_value
    ,      1                                                                   num_obs
    ,      null                                                                lower_control_limit
    ,      null                                                                upper_control_limit
    ,      null                                                                lower_spec_limit
    ,      null                                                                upper_spec_limit
    ,      null                                                                lower_nonsense_limit
    ,      null                                                                upper_nonsense_limit
    , min (bws.btf_key)                                                        btf_key
    , substr(min (upper (bws.lot)),1,6)                                        lot_std_fmt
    ,      case
              when substr (ptl.aggregation_type, 1, 3) = 'waf'
              then substr (upper (nts.wafer), -2, 2)
              else null
           end                                                                 wafer_std_fmt
    ,      'TRACING_COMP'                                                      p_parameter_type
    ,      ptl.aggregation_type                                                p_aggregation_type
    , min (from_timestamp (          bws.trackout_cet_ts    , 'yyyy-MM-dd'))   p_from_trackout_cet_ts
    , min (from_timestamp (days_add (bws.trackout_cet_ts, 1), 'yyyy-MM-dd'))   p_to_trackout_cet_ts
    , ''                                                                       p_loh_suffix
    from
           mfg_icn8_apps.nifi_base_wafer_production_steps  bws
      join mfg_icn8_data.nifi_temptation_sum          nts on     nts.loh_key            = bws.loh_key
                                                                  and nts.loh_trackout_cet_ts    = bws.trackout_cet_ts
                                                                  and nts.wafer                  in (bws.wafer, '&lt;none&gt;')
                                                                  and nts.p_from_trackout_cet_ts &lt; '${valid_to}'
                                                                  and nts.p_to_trackout_cet_ts   &gt; '${valid_from}'
      join mfg_icn8_data.nifi_diamond_components                dc  on  dc.temptation_component  = nts.sub_equipment 
                                                                  and dc.is_derived_comp_ind     &lt;&gt; 'Y'
                                                                  and (dc.component is null or trim(dc.component) = '')
      join mfg_icn8_apps.base_parameter_type_levels        ptl on ptl.parameter_type             = 'TRACING_COMP'
    where       bws.trackout_cet_ts        &gt;= '${valid_from}'
            and bws.trackout_cet_ts         &lt; '${valid_to}'
            and bws.p_from_trackout_cet_ts  &lt; '${valid_to}'
            and bws.p_to_trackout_cet_ts    &gt; '${valid_from}'
    group by
      bws.loh_key
    , bws.trackout_cet_ts
    , nts.sub_equipment
        --,dc.component
    , case
        when substr (ptl.aggregation_type, 1, 3) = 'waf'
        then nts.wafer
        else null
      end
    ,      case
              when substr (ptl.aggregation_type, 1, 3) = 'waf'
              then substr (upper (nts.wafer), -2, 2)
              else null
           end
    , ptl.aggregation_type
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/BQTrcCmp/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = 'TRACING_COMP' 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = 'TRACING_COMP'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ Tracing Comp - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>4b09a1c7-e350-377b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10858.377332707958</x>
<y>-263.36430081477647</y>
                            </position>
                            <versionedComponentId>4b09a1c7-e350-377b-a69d-de4ac9013836</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "PMI-View Progress Dims", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>PMIVIEW_PROGRESS_DIMS</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_pmiview_progress_dims</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_pmiview_progress_dims</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_pmiview_progress_dims</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_pmiview_progress_dims</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PMI-View Progress Dims - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>4d43e470-1e2c-3f18-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8162.102857610302</x>
<y>-3.4734305293289935</y>
                            </position>
                            <versionedComponentId>4d43e470-1e2c-3f18-8da8-a6ef1e5bb023</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Base Qualifications PCM trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ PCM - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>4dc6c882-777b-34be-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1069.8362780836128</x>
<y>1196.879832739558</y>
                            </position>
                            <versionedComponentId>4dc6c882-777b-34be-9aff-2aac5700b78e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>2 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Determine #files per minute</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>4f0436d5-5436-33f1-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8610.833936711864</x>
<y>213.8386173334709</y>
                            </position>
                            <versionedComponentId>4f0436d5-5436-33f1-a110-d9c54ddce58c</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "BASE_QUALIFICATIONS_TRACING_EQP" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous BQ Tracing Eqp aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>4f76017d-3aec-3ca7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5287.156937427892</x>
<y>240.85597575794384</y>
                            </position>
                            <versionedComponentId>4f76017d-3aec-3ca7-9afb-a3bc0c807066</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Diamond Components" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Diamond Components file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>506260ab-3ecb-361a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>187.17624094160055</x>
<y>202.83658791452558</y>
                            </position>
                            <versionedComponentId>506260ab-3ecb-361a-a022-6e5a64c4023d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "METROLOGY_RAW" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Metrology Raw file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>531a8a62-f3b4-3644-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12593.174960758826</x>
<y>-41.64031460792023</y>
                            </position>
                            <versionedComponentId>531a8a62-f3b4-3644-ac66-62257c27c61f</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Single Wafer Scrap trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>SWS - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>536d9d45-31b0-3b00-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1447.612274669563</x>
<y>-13.521252843246657</y>
                            </position>
                            <versionedComponentId>536d9d45-31b0-3b00-b313-3f7e32202931</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Tool Overlay-raw file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Tool Overlay Raw - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>54a3c2e7-3482-309b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4271.705450223225</x>
<y>-225.726044297572</y>
                            </position>
                            <versionedComponentId>54a3c2e7-3482-309b-859d-cfdd7daba40b</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Lot Status", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_lot_status</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_dummy_partition</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/lot_status/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/lot_status/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>LOT_STATUS</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_lot_status</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_lot_status</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_lot_status</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_lot_status</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Lot Status - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>54b63d66-9ee8-34a7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2326.44656966391</x>
<y>-7.162262981392473</y>
                            </position>
                            <versionedComponentId>54b63d66-9ee8-34a7-9bad-e1a42a247aec</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the E3-sum file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>E3 sum - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>5791ba39-ffe3-35e3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1456.2156950474923</x>
<y>209.68220170557868</y>
                            </position>
                            <versionedComponentId>5791ba39-ffe3-35e3-a3a3-4bc8a8e8d70f</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Tool_Overlay_RAW" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Tool Overlay Raw file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>57b6899c-e08b-35b2-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1044.1099673150657</x>
<y>-16.68252961289619</y>
                            </position>
                            <versionedComponentId>57b6899c-e08b-35b2-964c-91d632dea534</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Diamond-raw file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Diamond Raw - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>58c59b16-4551-34d5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5301.605578110782</x>
<y>636.454503721512</y>
                            </position>
                            <versionedComponentId>58c59b16-4551-34d5-bef6-929b6a8fbeef</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Diamond Components" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/DiaCmp/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/DiaCmp/q2/ValExtTab

refresh ${external_table};

select
  case
    when count(*) = 0
    then 'isFalse'
    else 'isTrue'
  end                  isvalid
from 
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/DiaCmp/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_dummy_partition, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/DiaCmp/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/DiaCmp/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_dummy_partition)
select
  equipment
, equipment_handling
, component
, component_type
, component_subtype
, component_ipf_type
, oe_load_ind
, oe_entry_ind
, oe_bottleneck_ind
, oe_exit_ind
, is_derived_comp_ind
, xsite_component
, temptation_component
, num_cmp_this_ipf_type
, max_num_cmp_this_ipf_type
, 'DUMMY'                         p_dummy_partition
from
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/DiaCmp/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    'p_dummy_partition=DUMMY' as par
    
    UNION ALL
    
    SELECT 
    2 as source, 
    'p_dummy_partition=DUMMY' as par
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Diamond Components - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>5a233b07-d73b-3486-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6104.68387435141</x>
<y>15.295071537040144</y>
                            </position>
                            <versionedComponentId>5a233b07-d73b-3486-899b-e4c686e86e98</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Diamond Components file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Generic dimensions - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>5a62b287-9be2-3e96-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10425.771108982508</x>
<y>605.3035844243402</y>
                            </position>
                            <versionedComponentId>5a62b287-9be2-3e96-9f1d-369ea9967deb</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "PMI-View Progress Dims" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/PMIdims/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/PMIdims/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type &lt;&gt; '');

REFRESH ${staging_table};

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/PMIdims/q4/InsStgTab

truncate table ${staging_table};

-- ICN8/NiFi/PMIdims/q4/InsStgTab
insert into
  ${staging_table}
  ( program
  , pcm_release_ind
  , pcm_parameter_type_ind
  , pcm_quality_ind
  , parameter
  , proc_equipment
  , meas_equipment
  , product_family
  , product
  , process
  , technical_stage
  , step
  , technical_stage_seq
  , step_seq
  )
partition
  ( p_parameter_type
  )
  select
    subq1.program
  , subq1.pcm_release_ind
  , subq1.pcm_parameter_type_ind
  , subq1.pcm_quality_ind
  , subq1.parameter
  , subq1.proc_equipment
  , subq1.meas_equipment
  , subq1.product_family
  , subq1.product
  , subq1.process
  , subq1.technical_stage
  , subq1.step
  , nvl (prt.technical_stage_seq, 999999999)  technical_stage_seq
  , nvl (prs.step_seq           , 999999999)  step_seq
  , subq1.parameter_type
  from
              (
                select distinct
                  bq.p_parameter_type                                      parameter_type
                , case
                    when bq.p_parameter_type in ('EDC', 'PCM', 'Overlay')
                    then bq.program
                    else 'NOT_SEARCHABLE'
                  end                                                      program
                , case
                    when bq.p_parameter_type in ('PCM')
                    then case substr (bq.pcm_parameter_type, 1, 1)
                           when 'R' then 'Release'
                           else          'None'
                         end
                    else 'NOT_SEARCHABLE'
                  end                                                      pcm_release_ind
                , case
                    when bq.p_parameter_type in ('PCM')
                    then case substr (bq.pcm_parameter_type, 2, 1)
                           when 'K' then 'Key'
                           when 'L' then 'Line'
                           when 'Z' then 'Reliability'
                           when 'S' then 'Significant'
                           else          'None'
                         end
                    else 'NOT_SEARCHABLE'
                  end                                                      pcm_parameter_type_ind
                , case
                    when bq.p_parameter_type in ('PCM')
                    then case substr (bq.pcm_parameter_type, 3, 1)
                           when 'Q' then 'Quality'
                           else          'None'
                         end
                    else 'NOT_SEARCHABLE'
                  end                                                      pcm_quality_ind
                , bq.parameter
                , case
                    when bq.p_parameter_type in ('EDC', 'PCM', 'Overlay')
                    then bq.proc_equipment
                    else 'NOT_SEARCHABLE'
                  end                                                      proc_equipment
                , bq.equipment                                             meas_equipment
                , case
                    when bq.p_parameter_type in ('EDC', 'PCM', 'Overlay')
                    then substr (bq.product, 1, 5)
                    else 'NOT_SEARCHABLE'
                  end                                                      product_family
                , case
                    when bq.p_parameter_type in ('EDC', 'PCM', 'Overlay')
                    then bq.product
                    else 'NOT_SEARCHABLE'
                  end                                                      product
                , case
                    when bq.p_parameter_type in ('EDC', 'PCM', 'Overlay')
                    then bq.process
                    else 'NOT_SEARCHABLE'
                  end                                                      process
                , case
                    when bq.p_parameter_type in ('EDC', 'PCM', 'Overlay')
                    then bq.technical_stage
                    else 'NOT_SEARCHABLE'
                  end                                                      technical_stage
                , case
                    when bq.p_parameter_type in ('EDC', 'PCM', 'Overlay')
                    then bq.step
                    else 'NOT_SEARCHABLE'
                  end                                                      step
                from
                  mfg_icn8_apps.nifi_base_qualifications  bq
                where
                      bq.p_parameter_type   in ('EDC', 'PCM', 'Overlay') /* , 'TEMPTATION') */
                  and bq.p_aggregation_type in ('lot', 'waf', 'site')
              )                                                         subq1
    left join ( select distinct
                  technical_stage
                , technical_stage_seq
                from
                  mfg_icn8_data.process_runcards
              )                                                         prt   on ( prt.technical_stage = subq1.technical_stage
                                                                                 )
    left join ( select
                  step
                , min (technical_stage_seq + flowstage_seq)  step_seq
                from
                  mfg_icn8_data.process_runcards
                group by
                  step
              )                                                         prs   on ( prs.step            = subq1.step
                                                                                 )
;

 refresh ${staging_table};
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/PMIdims/q5/AnalyStg

REFRESH ${staging_table};

/* REFRESH ${prod_table}; */

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT ('p_parameter_type=', p_parameter_type) as par
    FROM ${prod_table}
    GROUP BY p_parameter_type
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT ('p_parameter_type=', p_parameter_type) as par
    FROM ${staging_table}
    GROUP BY p_parameter_type
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PMI-View Dims - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>5ab3d90b-0b94-3891-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9487.20766631397</x>
<y>-245.3495480305512</y>
                            </position>
                            <versionedComponentId>5ab3d90b-0b94-3891-b891-171bc9c34fdf</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Base Qualifications Diamond Times", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>7</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>BASE_QUALIFICATIONS_DIAMOND_TIMES</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=DIAMOND_TIMES</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ Diamond Times - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>5cdee95a-694d-3a5d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11696.183749821326</x>
<y>-18.35834827929932</y>
                            </position>
                            <versionedComponentId>5cdee95a-694d-3a5d-a64a-2f5ba39a42b6</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Base Qualifications E3 trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ E3 - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>5db44a7f-c153-3be8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9930.331103309003</x>
<y>223.9084803670927</y>
                            </position>
                            <versionedComponentId>5db44a7f-c153-3be8-9bf3-8dbaf05838a9</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "BASE_QUALIFICATIONS_OVL" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous BQ OVL aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>6137a99d-8f6a-3435-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2320.399157212344</x>
<y>617.6743828719026</y>
                            </position>
                            <versionedComponentId>6137a99d-8f6a-3435-ac7a-61bdb0747235</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "E3 sum" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/E3Sum/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/E3Sum/q2/ValExtTab

refresh ${external_table};

select
  '${valid_from}'                            valid_from
, '${valid_to}'                              valid_to
, sum (t.before)                             sum_before
, sum (t.after)                              sum_after
, case
    when sum (t.before) + sum (t.after) &gt; 0
    then 'isFalse'
    else 'isTrue'
  end                                        isvalid
from 
  (
    select
      case when loh_trackout_cet_ts  &lt; '${valid_from}' then 1 else 0 end  before
    , case when loh_trackout_cet_ts &gt;= '${valid_to}'   then 1 else 0 end  after 
    from
      ${external_table}
  ) t
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/E3Sum/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/E3Sum/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/E3Sum/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_from_trackout_cet_ts, p_to_trackout_cet_ts, p_loh_suffix)
    select 
    controljob          
    , event              
    , event_name          
    , meas_cet_ts      
    , equipment           
    , sub_equipment       
    , chamber            
    , sub_recipe        
    , recipe_process_step 
    , slot                
    , lot                 
    , wafer             
    , parameter           
    , smc_chart           
    , obs_value         
    , limit_check_cet_ts 
    , violated_rule_type  
    , violated_rules     
    , violated_limit_type 
    , batch               
    , smc_chart_version   
    , process_capability  
    , loh_key             
    , loh_trackout_cet_ts          
	, data_source
    /* , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts */
    /* , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts   */
    /* 2021-07-07 FvH: For Temptation, use 6 hour partitions instead of 1 day partitions: */
    , from_unixtime (cast (floor    (extract (loh_trackout_cet_ts, 'EPOCH')      / (6*60*60)) * (6*60*60) as bigint))  p_from_trackout_cet_ts
    , from_unixtime (cast (ceiling ((extract (loh_trackout_cet_ts, 'EPOCH') + 1) / (6*60*60)) * (6*60*60) as bigint))  p_to_trackout_cet_ts
    , p_loh_suffix
    from
  	  ${prod_table}
    where
               cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
      and      cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
      and (    loh_trackout_cet_ts                         &lt; '${valid_from}'
            or loh_trackout_cet_ts                        &gt;= '${valid_to}'
          )
  union all
    select
      controljob       
    , event               
    , event_name         
    , meas_cet_ts         
    , equipment           
    , sub_equipment      
    , chamber             
    , sub_recipe          
    , recipe_process_step 
    , slot                
    , lot                 
    , wafer               
    , parameter           
    , smc_chart           
    , obs_value           
    , limit_check_cet_ts  
    , violated_rule_type  
    , violated_rules     
    , violated_limit_type 
    , batch               
    , smc_chart_version   
    , process_capability  
    , loh_key             
    , loh_trackout_cet_ts
	, data_source	
    /* , from_timestamp (          loh_trackout_cet_ts     , 'yyyy-MM-dd')  p_from_trackout_cet_ts */
    /* , from_timestamp (date_add (loh_trackout_cet_ts , 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts   */
    /* 2021-07-07 FvH: For Temptation, use 6 hour partitions instead of 1 day partitions: */
    , from_unixtime (cast (floor    (extract (loh_trackout_cet_ts, 'EPOCH')      / (6*60*60)) * (6*60*60) as bigint))  p_from_trackout_cet_ts
    , from_unixtime (cast (ceiling ((extract (loh_trackout_cet_ts, 'EPOCH') + 1) / (6*60*60)) * (6*60*60) as bigint))  p_to_trackout_cet_ts
    , ''                                                                                                               p_loh_suffix
    from
      ${external_table}
    where
      /* 2023-11-27 FvH: This new E3 loader should only be used for E3 data: */
      data_source = 'E3'
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/E3Sum/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts=' , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}' 
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts=' , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>E3 sum - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>644e8cd4-2b2b-3bd4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9485.988034950899</x>
<y>-6.05475031307742</y>
                            </position>
                            <versionedComponentId>644e8cd4-2b2b-3bd4-b9f7-7bc090c155d2</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Base Qualifications Diamond Times trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ Diamond Times - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>67f5df94-576b-3cee-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14302.658137561117</x>
<y>-263.95583537721177</y>
                            </position>
                            <versionedComponentId>67f5df94-576b-3cee-b6a7-6cd89fe4a5f8</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>The external table of this file type contains partitions, so we need to specify the where clause that is needed when counting records in the external table.
The where-clause needed is stored in attribute ext_table_count_where_clause.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>ext_table_count_where_clause</key>
        <value>
            <name>ext_table_count_where_clause</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>ext_table_count_where_clause</key>
        <value> where p_parameter_type = '${logtype}'</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Other qualifications - set count where-clause</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>6ac108e9-48be-354b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-963.2732091039302</x>
<y>1490.1101099891484</y>
                            </position>
                            <versionedComponentId>6ac108e9-48be-354b-ae70-95a0a0e617b0</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>This processer is scheduled by CRON scheduling to be active between 9:00 AM and 9:00 PM on week-days according to US calendar. Only during these hours the flow files will be forwarded to be processed, else they will remain in the wait-queue.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>20 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0-59 0-59 0-23 ? * 2-6</schedulingPeriod>
<schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Processing outside office hours</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>6d1c8379-d395-34e3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14291.42137400922</x>
<y>551.8377129500276</y>
                            </position>
                            <versionedComponentId>6d1c8379-d395-34e3-a7fa-9d58ff3e2bc3</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Temptation sum" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/OQ/q1/ConfExtTab

ALTER TABLE ${external_table} RECOVER PARTITIONS;
REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/OQ/q2/ValExtTab

select
  '${valid_from}'                            valid_from
, '${valid_to}'                              valid_to
, sum (t.before)                             sum_before
, sum (t.after)                              sum_after
, case
    when sum (t.before) + sum (t.after) &gt; 0
    then 'isFalse'
    else 'isTrue'
  end                                        isvalid
from 
  (
    select
      case when loh_trackout_cet_ts  &lt; '${valid_from}' then 1 else 0 end  before
    , case when loh_trackout_cet_ts &gt;= '${valid_to}'   then 1 else 0 end  after 
    from
      ${external_table}
	where p_parameter_type = '${logtype}'
  ) t
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BQTempt/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = '${logtype}', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = '${logtype}' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/OQ/q4/InsStgTab

refresh ${external_table};

-- ICN8/NiFi/TemptSum/q4/InsStgTab
insert into
  ${staging_table}
  (
	 fab
	,loh_key
	,loh_trackout_cet_ts
	,lot
	,process
	,process_speed
	,product
	,lot_priority
	,lot_type
	,material_batch
	,start_material
	,wafer_info
	,wafer
	,slot
	,step_valid_from_cet_ts
	,step_valid_to_cet_ts
	,step_trackin_cet_ts
	,step_trackout_cet_ts
	,step_num_wafers
	,technical_stage
	,flowstage
	,step
	,equipment
	,equipment_type
	,template_recipe
	,recipe
	,program
	,parameter
	,in_run_dimension
	,component
	,ttn_sub_recipe
	,ttn_recipe_process_step
	,meas_cet_ts
	,site
	,x
	,y
	,measured_value
	,measured_string_value
	,num_obs
	,lower_control_limit
	,upper_control_limit
	,lower_spec_limit
	,upper_spec_limit
	,lower_warning_limit
	,upper_warning_limit
	,lower_nonsense_limit
	,upper_nonsense_limit
	,lower_hold_limit
	,upper_hold_limit
	,upper_hangup_limit
	,proc_equipment
	,proc_cet_ts
	,target_control_limit
	,pcm_parameter_type
	,measurement
	,measurement_version
	,tester
	,probe_card
	,unit_of_measure
	,meas_start_cet_ts
	,source_data_filename
	,die_x
	,die_y
	,btf_key
	,proc_step
	,proc_template_recipe
	,proc_recipe
	,lot_std_fmt
	,wafer_std_fmt
  )
partition
  (p_parameter_type,p_aggregation_type,p_from_trackout_cet_ts,p_to_trackout_cet_ts,p_loh_suffix)
    select 
	 fab
	,loh_key
	,loh_trackout_cet_ts
	,lot
	,process
	,process_speed
	,product
	,lot_priority
	,lot_type
	,material_batch
	,start_material
	,wafer_info
	,wafer
	,slot
	,step_valid_from_cet_ts
	,step_valid_to_cet_ts
	,step_trackin_cet_ts
	,step_trackout_cet_ts
	,step_num_wafers
	,technical_stage
	,flowstage
	,step
	,equipment
	,equipment_type
	,template_recipe
	,recipe
	,program
	,parameter
	,in_run_dimension
	,component
	,ttn_sub_recipe
	,ttn_recipe_process_step
	,meas_cet_ts
	,site
	,x
	,y
	,measured_value
	,measured_string_value
	,num_obs
	,lower_control_limit
	,upper_control_limit
	,lower_spec_limit
	,upper_spec_limit
	,lower_warning_limit
	,upper_warning_limit
	,lower_nonsense_limit
	,upper_nonsense_limit
	,lower_hold_limit
	,upper_hold_limit
	,upper_hangup_limit
	,proc_equipment
	,proc_cet_ts
	,target_control_limit
	,pcm_parameter_type
	,measurement
	,measurement_version
	,tester
	,probe_card
	,unit_of_measure
	,meas_start_cet_ts
	,source_data_filename
	,die_x
	,die_y
	,btf_key
	,proc_step
	,proc_template_recipe
	,proc_recipe
	,lot_std_fmt
	,wafer_std_fmt
	,p_parameter_type
    ,p_aggregation_type
    ,from_timestamp (           loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_dt
	,from_timestamp ( date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_dt
    ,''                                                                     p_loh_suffix
    from
  	  ${prod_table}
    where
               cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
      and      cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
      and (    loh_trackout_cet_ts                         &lt; '${valid_from}'
            or loh_trackout_cet_ts                        &gt;= '${valid_to}'
          )
      and p_parameter_type = '${logtype}'
  union all
    select
	 fab
	,loh_key
	,loh_trackout_cet_ts
	,lot
	,process
	,process_speed
	,product
	,lot_priority
	,lot_type
	,material_batch
	,start_material
	,wafer_info
	,wafer
	,slot
	,step_valid_from_cet_ts
	,step_valid_to_cet_ts
	,step_trackin_cet_ts
	,step_trackout_cet_ts
	,step_num_wafers
	,technical_stage
	,flowstage
	,step
	,equipment
	,equipment_type
	,template_recipe
	,recipe
	,program
	,parameter
	,in_run_dimension
	,component
	,ttn_sub_recipe
	,ttn_recipe_process_step
	,meas_cet_ts
	,site
	,x
	,y
	,measured_value
	,measured_string_value
	,num_obs
	,lower_control_limit
	,upper_control_limit
	,lower_spec_limit
	,upper_spec_limit
	,lower_warning_limit
	,upper_warning_limit
	,lower_nonsense_limit
	,upper_nonsense_limit
	,lower_hold_limit
	,upper_hold_limit
	,upper_hangup_limit
	,proc_equipment
	,proc_cet_ts
	,target_control_limit
	,pcm_parameter_type
	,measurement
	,measurement_version
	,tester
	,probe_card
	,unit_of_measure
	,meas_start_cet_ts
	,source_data_filename
	,die_x
	,die_y
	,btf_key
	,proc_step
	,proc_template_recipe
	,proc_recipe
	,lot_std_fmt
	,wafer_std_fmt                                                                                                    
	,'${logtype}'                                                           p_parameter_type
    ,aggregation_type                                                   p_aggregation_type
    ,from_timestamp (           loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_dt
	,from_timestamp ( date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_dt
    ,''                                                                     p_loh_suffix
    from
      ${external_table}
	where p_parameter_type = '${logtype}'
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/OQ/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts='  , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = '${logtype}'
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts='  , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = '${logtype}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Other Qualifications - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>6d79b58f-4c37-338b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3842.5672480326566</x>
<y>632.3207451765901</y>
                            </position>
                            <versionedComponentId>6d79b58f-4c37-338b-b361-8bae9ef31168</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Scrap" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/Scrap/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/Scrap/q2/ValExtTab

refresh ${external_table};

select
  case
    when count(*) = 0
    then 'isFalse'
    else 'isTrue'
  end                  isvalid
from 
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/Scrap/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_dummy_partition, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/Scrap/q4/InsStgTab

refresh ${external_table};

-- ICN8/NiFi/Scrap/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_dummy_partition)
  select
    scrap_key
  , lot
  , fab
  , product
  , process
  , customer
  , esort_scrap_code
  , sce_name
  , sce_description
  , test_center
  , scrap_acceptor
  , maverick
  , scrap_cet_ts
  , terminate_cet_ts
  , state
  , scrap_type
  , terminate_order
  , num_wafers
  , term_step_n_restart_scrap
  , term_step_n_restart_finish
  , employee
  , technical_stage
  , flow_stage
  , process_step
  , lastproc_technical_stage
  , lastproc_flow_stage
  , lastproc_step
  , lastproc_eqp
  , lastproc_step_ti_cet_ts
  , wafercodes_esort
  , w01
  , w02
  , w03
  , w04
  , w05
  , w06
  , w07
  , w08
  , w09
  , w10
  , w11
  , w12
  , w13
  , w14
  , w15
  , w16
  , w17
  , w18
  , w19
  , w20
  , w21
  , w22
  , w23
  , w24
  , w25
  , scrap_modify_user
  , scrap_modify_cet_ts
  , admin_scrap_cet_ts
  , cause_contained
  , scrap_uuid
  , upd_by_loader_ind
  , scrap_hashkey
  , incident
  , code_8d
  , scrap_code
  , scd_name
  , scd_description
  , scd_section
  , scd_valid_to_cet_ts
  , involved_employee
  , ie_prepos
  , ie_initials
  , ie_salary_number
  , proc_key
  , section_cause_code
  , scc_name
  , scc_description
  , scc_section
  , scc_valid_to_cet_ts
  , cause_code
  , ccd_name
  , ccd_description
  , ccd_valid_to_cet_ts
  , proc_state
  , sps_name
  , sps_description
  , rec_owner
  , rec_owner_role
  , rec_owner_valid_to_cet_ts
  , detailed_description
  , suspect_technical_stage
  , suspect_flow_stage
  , suspect_step
  , suspect_eqp
  , suspect_step_ti_cet_ts
  , proc_modify_user
  , proc_modify_cet_ts
  , proc_insert_cet_ts
  , area
  , cause_reference
  , proc_uuid
  , 'DUMMY'                         p_dummy_partition
  from
    (
                select * from ${external_table}
      union all select * from mfg_icn8_data.nifi_scrap_manual /* Temporary fix to include fake scrap requested by users - will be replaced by R Shiny app */
    )  sq
;

</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/Scrap/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    'p_dummy_partition=DUMMY' as par
    
    UNION ALL
    
    SELECT 
    2 as source, 
    'p_dummy_partition=DUMMY' as par
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Scrap - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>6ddd86de-708e-3b3c-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1458.1108568903946</x>
<y>-742.4955970527501</y>
                            </position>
                            <versionedComponentId>6ddd86de-708e-3b3c-87e1-9439f5c1bc5b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Derive the data type from the file name.
Route the file depending on the data type found.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_DIAMOND_TIMES</key>
        <value>
            <name>HDP_BASE_QUALIFICATIONS_DIAMOND_TIMES</name>
        </value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_E3</key>
        <value>
            <name>HDP_BASE_QUALIFICATIONS_E3</name>
        </value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_E3_UVA</key>
        <value>
            <name>HDP_BASE_QUALIFICATIONS_E3_UVA</name>
        </value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_EDC</key>
        <value>
            <name>HDP_BASE_QUALIFICATIONS_EDC</name>
        </value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_OVL</key>
        <value>
            <name>HDP_BASE_QUALIFICATIONS_OVL</name>
        </value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_PCM</key>
        <value>
            <name>HDP_BASE_QUALIFICATIONS_PCM</name>
        </value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_TEMPTATION</key>
        <value>
            <name>HDP_BASE_QUALIFICATIONS_TEMPTATION</name>
        </value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_TRACING_COMP</key>
        <value>
            <name>HDP_BASE_QUALIFICATIONS_TRACING_COMP</name>
        </value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_TRACING_EQP</key>
        <value>
            <name>HDP_BASE_QUALIFICATIONS_TRACING_EQP</name>
        </value>
    </entry>
    <entry>
        <key>HDP_BASE_WAFER_PRODUCTION_STEPS</key>
        <value>
            <name>HDP_BASE_WAFER_PRODUCTION_STEPS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_DEFECTIVITY_RAW</key>
        <value>
            <name>HDP_DEFECTIVITY_RAW</name>
        </value>
    </entry>
    <entry>
        <key>HDP_DIAMOND_COMPONENTS</key>
        <value>
            <name>HDP_DIAMOND_COMPONENTS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_DIAMOND_RAW</key>
        <value>
            <name>HDP_DIAMOND_RAW</name>
        </value>
    </entry>
    <entry>
        <key>HDP_E3_SUM</key>
        <value>
            <name>HDP_E3_SUM</name>
        </value>
    </entry>
    <entry>
        <key>HDP_E3_UVA</key>
        <value>
            <name>HDP_E3_UVA</name>
        </value>
    </entry>
    <entry>
        <key>HDP_EXPERIMENTS</key>
        <value>
            <name>HDP_EXPERIMENTS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_GENERIC_DIMENSIONS</key>
        <value>
            <name>HDP_GENERIC_DIMENSIONS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_LOT_STATUS</key>
        <value>
            <name>HDP_LOT_STATUS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_METROLOGY_RAW</key>
        <value>
            <name>HDP_METROLOGY_RAW</name>
        </value>
    </entry>
    <entry>
        <key>HDP_OTHER_QUALIFICATIONS</key>
        <value>
            <name>HDP_OTHER_QUALIFICATIONS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_PCM_RAW</key>
        <value>
            <name>HDP_PCM_RAW</name>
        </value>
    </entry>
    <entry>
        <key>HDP_PMIVIEW_BACKUP</key>
        <value>
            <name>HDP_PMIVIEW_BACKUP</name>
        </value>
    </entry>
    <entry>
        <key>HDP_PMIVIEW_BATCH</key>
        <value>
            <name>HDP_PMIVIEW_BATCH</name>
        </value>
    </entry>
    <entry>
        <key>HDP_PMIVIEW_DIM_FILES</key>
        <value>
            <name>HDP_PMIVIEW_DIM_FILES</name>
        </value>
    </entry>
    <entry>
        <key>HDP_PMIVIEW_DIMS</key>
        <value>
            <name>HDP_PMIVIEW_DIMS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_PMIVIEW_PROGRESS_DIMS</key>
        <value>
            <name>HDP_PMIVIEW_PROGRESS_DIMS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_PROCESS_RUNCARDS</key>
        <value>
            <name>HDP_PROCESS_RUNCARDS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_PRODUCTION_STEPS</key>
        <value>
            <name>HDP_PRODUCTION_STEPS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_PRODUCTS</key>
        <value>
            <name>HDP_PRODUCTS</name>
        </value>
    </entry>
    <entry>
        <key>HDP_SCRAP</key>
        <value>
            <name>HDP_SCRAP</name>
        </value>
    </entry>
    <entry>
        <key>HDP_SINGLE_WAFER_SCRAP</key>
        <value>
            <name>HDP_SINGLE_WAFER_SCRAP</name>
        </value>
    </entry>
    <entry>
        <key>HDP_TEMPTATION_SUM</key>
        <value>
            <name>HDP_TEMPTATION_SUM</name>
        </value>
    </entry>
    <entry>
        <key>HDP_TEST</key>
        <value>
            <name>HDP_TEST</name>
        </value>
    </entry>
    <entry>
        <key>HDP_TOOL_OVERLAY_RAW</key>
        <value>
            <name>HDP_TOOL_OVERLAY_RAW</name>
        </value>
    </entry>
    <entry>
        <key>HDP_XSITE_STATES_RAW</key>
        <value>
            <name>HDP_XSITE_STATES_RAW</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_DIAMOND_TIMES</key>
        <value>${filename:toUpper():startsWith('HDP_BASE_QUALIFICATIONS_DIAMOND_TIMES')}</value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_E3</key>
        <value>${filename:toUpper():startsWith('HDP_BASE_QUALIFICATIONS_E3'):and(${filename:toUpper():startsWith('HDP_BASE_QUALIFICATIONS_E3_UVA'):not()})}</value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_E3_UVA</key>
        <value>${filename:toUpper():startsWith('HDP_BASE_QUALIFICATIONS_E3_UVA')}</value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_EDC</key>
        <value>${filename:toUpper():startsWith('HDP_BASE_QUALIFICATIONS_EDC')}</value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_OVL</key>
        <value>${filename:toUpper():startsWith('HDP_BASE_QUALIFICATIONS_OVL')}</value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_PCM</key>
        <value>${filename:toUpper():startsWith('HDP_BASE_QUALIFICATIONS_PCM')}</value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_TEMPTATION</key>
        <value>${filename:toUpper():startsWith('HDP_BASE_QUALIFICATIONS_TEMPTATION')}</value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_TRACING_COMP</key>
        <value>${filename:toUpper():startsWith('HDP_BASE_QUALIFICATIONS_TRACING_COMP')}</value>
    </entry>
    <entry>
        <key>HDP_BASE_QUALIFICATIONS_TRACING_EQP</key>
        <value>${filename:toUpper():startsWith('HDP_BASE_QUALIFICATIONS_TRACING_EQP')}</value>
    </entry>
    <entry>
        <key>HDP_BASE_WAFER_PRODUCTION_STEPS</key>
        <value>${filename:toUpper():startsWith('HDP_BASE_WAFER_PRODUCTION_STEPS')}</value>
    </entry>
    <entry>
        <key>HDP_DEFECTIVITY_RAW</key>
        <value>${filename:toUpper():endsWith('KLARF')}</value>
    </entry>
    <entry>
        <key>HDP_DIAMOND_COMPONENTS</key>
        <value>${filename:toUpper():startsWith('HDP_DIAMOND_COMPONENTS')}</value>
    </entry>
    <entry>
        <key>HDP_DIAMOND_RAW</key>
        <value>${filename:toUpper():startsWith('HDP_DIAMOND_RAW')}</value>
    </entry>
    <entry>
        <key>HDP_E3_SUM</key>
        <value>${filename:toUpper():startsWith('HDP_E3_SUM')}</value>
    </entry>
    <entry>
        <key>HDP_E3_UVA</key>
        <value>${filename:toUpper():startsWith('HDP_E3_UVA')}</value>
    </entry>
    <entry>
        <key>HDP_EXPERIMENTS</key>
        <value>${filename:toUpper():startsWith('HDP_EXPERIMENTS')}</value>
    </entry>
    <entry>
        <key>HDP_GENERIC_DIMENSIONS</key>
        <value>${filename:toUpper():startsWith('HDP_GENERIC_DIMENSIONS')}</value>
    </entry>
    <entry>
        <key>HDP_LOT_STATUS</key>
        <value>${filename:toUpper():startsWith('HDP_LOTSTATUS')}</value>
    </entry>
    <entry>
        <key>HDP_METROLOGY_RAW</key>
        <value>${filename:toUpper():startsWith('HDP_METROLOGY_RAW')}</value>
    </entry>
    <entry>
        <key>HDP_OTHER_QUALIFICATIONS</key>
        <value>${filename:toUpper():startsWith('HDP_OQ')}</value>
    </entry>
    <entry>
        <key>HDP_PCM_RAW</key>
        <value>${filename:toUpper():startsWith('HDP_PCM_RAW')}</value>
    </entry>
    <entry>
        <key>HDP_PMIVIEW_BACKUP</key>
        <value>${filename:toUpper():startsWith('HDP_PMIVIEW_BACKUP')}</value>
    </entry>
    <entry>
        <key>HDP_PMIVIEW_BATCH</key>
        <value>${filename:toUpper():startsWith('HDP_PMIVIEW_BATCH')}</value>
    </entry>
    <entry>
        <key>HDP_PMIVIEW_DIM_FILES</key>
        <value>${filename:toUpper():startsWith('HDP_PMIVIEW_DIM_FILES')}</value>
    </entry>
    <entry>
        <key>HDP_PMIVIEW_DIMS</key>
        <value>${filename:toUpper():startsWith('HDP_PMIVIEW_DIMS')}</value>
    </entry>
    <entry>
        <key>HDP_PMIVIEW_PROGRESS_DIMS</key>
        <value>${filename:toUpper():startsWith('HDP_PMIVIEW_PROGRESS_DIMS')}</value>
    </entry>
    <entry>
        <key>HDP_PROCESS_RUNCARDS</key>
        <value>${filename:toUpper():startsWith('HDP_PROCESS_RUNCARDS')}</value>
    </entry>
    <entry>
        <key>HDP_PRODUCTION_STEPS</key>
        <value>${filename:toUpper():startsWith('HDP_PRODUCTION_STEPS')}</value>
    </entry>
    <entry>
        <key>HDP_PRODUCTS</key>
        <value>${filename:toUpper():startsWith('HDP_PRODUCTS')}</value>
    </entry>
    <entry>
        <key>HDP_SCRAP</key>
        <value>${filename:toUpper():startsWith('HDP_SCRAP')}</value>
    </entry>
    <entry>
        <key>HDP_SINGLE_WAFER_SCRAP</key>
        <value>${filename:toUpper():startsWith('HDP_SINGLE_WAFER_SCRAP')}</value>
    </entry>
    <entry>
        <key>HDP_TEMPTATION_SUM</key>
        <value>${filename:toUpper():startsWith('HDP_TEMPTATION_SUM')}</value>
    </entry>
    <entry>
        <key>HDP_TEST</key>
        <value>${filename:toUpper():startsWith('HDP_TEST')}</value>
    </entry>
    <entry>
        <key>HDP_TOOL_OVERLAY_RAW</key>
        <value>${filename:toUpper():startsWith('HDP_TOOL_OVERLAY_RAW')}</value>
    </entry>
    <entry>
        <key>HDP_XSITE_STATES_RAW</key>
        <value>${filename:toUpper():startsWith('HDP_XSITE_STATES_RAW')}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Route on filetype</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_BASE_QUALIFICATIONS_DIAMOND_TIMES</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_BASE_QUALIFICATIONS_E3</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_BASE_QUALIFICATIONS_E3_UVA</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_BASE_QUALIFICATIONS_EDC</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_BASE_QUALIFICATIONS_OVL</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_BASE_QUALIFICATIONS_PCM</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_BASE_QUALIFICATIONS_TEMPTATION</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_BASE_QUALIFICATIONS_TRACING_COMP</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_BASE_QUALIFICATIONS_TRACING_EQP</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_BASE_WAFER_PRODUCTION_STEPS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_DEFECTIVITY_RAW</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_DIAMOND_COMPONENTS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_DIAMOND_RAW</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_E3_SUM</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_E3_UVA</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_EXPERIMENTS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_GENERIC_DIMENSIONS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_LOT_STATUS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_METROLOGY_RAW</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_OTHER_QUALIFICATIONS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_PCM_RAW</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_PMIVIEW_BACKUP</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_PMIVIEW_BATCH</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_PMIVIEW_DIM_FILES</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_PMIVIEW_DIMS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_PMIVIEW_PROGRESS_DIMS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_PROCESS_RUNCARDS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_PRODUCTION_STEPS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_PRODUCTS</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_SCRAP</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_SINGLE_WAFER_SCRAP</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_TEMPTATION_SUM</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_TEST</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_TOOL_OVERLAY_RAW</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>HDP_XSITE_STATES_RAW</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>6f704c5e-c0e7-3fdb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3861.2843076451</x>
<y>-226.16233122384153</y>
                            </position>
                            <versionedComponentId>6f704c5e-c0e7-3fdb-8757-29634613106e</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Scrap", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_scrap</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_dummy_partition</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/scrap/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/scrap/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>SCRAP</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_scrap</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_scrap</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_scrap</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_scrap</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Scrap - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>7069637a-9b70-3925-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4799.821488209142</x>
<y>241.1272770274751</y>
                            </position>
                            <versionedComponentId>7069637a-9b70-3925-af56-00ca37e16931</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Process Runcards" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Process Runcards file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>71be92db-3cc3-382b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10861.712515232508</x>
<y>607.7264970219965</y>
                            </position>
                            <versionedComponentId>71be92db-3cc3-382b-8f2b-1582900e78fc</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "PMI-View Progress Dims" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/PMIprogrdims/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/PMIprogrdims/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_dummy &lt;&gt; '');

REFRESH ${staging_table};

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/PMIprogrdims/q4/InsStgTab

truncate table ${staging_table};

-- ICN8/NiFi/PMIprogrdims/q4/InsStgTab
insert into
  ${staging_table}
  ( product
  , flowstage
  , step
  , equipment
  , template_recipe
  , flowstage_seq
  , step_seq
  )
partition
  ( p_dummy  /* Partition DUMMY is needed for the partition swap mechanism! */
  )
  select
    subq1.*
  , nvl (prf.flowstage_seq, 999999999)  flowstage_seq
  , nvl (prs.step_seq     , 999999999)  step_seq
  , 'DUMMY'                             p_dummy
  from
              (
                select distinct
                  bqa.product
                , bqa.flowstage
                , bqa.step
                , bqa.equipment
                , bqa.template_recipe
                from
                  mfg_icn8_apps.nifi_base_qualifications  bqa
                where
                  bqa.p_parameter_type = 'TRACING_EQP'
              )                                                             subq1
    left join ( select
                  flowstage
                , min (technical_stage_seq + flowstage_seq)  flowstage_seq
                from
                  mfg_icn8_data.process_runcards
                group by
                  flowstage
              )                                                             prf   on ( prf.flowstage = subq1.flowstage
                                                                                     )
    left join ( select
                  step
                , min (technical_stage_seq + flowstage_seq)  step_seq
                from
                  mfg_icn8_data.process_runcards
                group by
                  step
              )                                                             prs   on ( prs.step      = subq1.step
                                                                                     )
;

refresh ${staging_table};
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/PMIprogrdims/q5/AnalyStg

REFRESH ${staging_table};

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT ('p_dummy=', p_dummy) as par
    FROM ${prod_table}
    GROUP BY p_dummy
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT ('p_dummy=', p_dummy) as par
    FROM ${staging_table}
    GROUP BY p_dummy
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PMI-View Progress Dims - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>7303d586-c8fc-3ddb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1044.7342514674572</x>
<y>208.68501593510655</y>
                            </position>
                            <versionedComponentId>7303d586-c8fc-3ddb-be50-c19a29363201</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Diamond_RAW" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Diamond Raw file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>7b5f5754-7ee4-333f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-279.3891172203257</x>
<y>592.213834675641</y>
                            </position>
                            <versionedComponentId>7b5f5754-7ee4-333f-8f67-4df19df2f091</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Production Steps" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/ProdStep/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/ProdStep/q2/ValExtTab

refresh ${external_table};

select
  '${valid_from}'                            valid_from
, '${valid_to}'                              valid_to
, sum (t.before)                             sum_before
, sum (t.after)                              sum_after
, case
    when sum (t.before) + sum (t.after) &gt; 0
    then 'isFalse'
    else 'isTrue'
  end                                        isvalid
from 
  (
    select
      case when trackout_cet_ts  &lt; '${valid_from}' then 1 else 0 end  before
    , case when trackout_cet_ts &gt;= '${valid_to}'   then 1 else 0 end  after 
    from
      ${external_table}
  ) t
;</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/ProdStep/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/ProdStep/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/ProdStep/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_from_trackout_cet_ts, p_to_trackout_cet_ts, p_loh_suffix)
    select
      lot
    , loh_key
    , to_loh_to_ind
    , ti_loh_ti_ind
    , step_start_cet_ts
    , step_close_cet_ts
    , trackin_cet_ts
    , trackout_cet_ts
    , num_wafers_in
    , num_wafers_out
    , loc_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment_type
    , equipment
    , step_handle
    , template_recipe
    , recipe
    , equipment_recipe
    , physical_reticle
    , layer
    , btf_key
    , trackout_too_soon_ind
    , rework_step_ind
    , rework_ind
    , litho_rework_ind
    , rework_all_ind
    , prev_trackout_cet_ts
    , wait_time
    , proc_time
    , hold_time
    , waferbank_time
    , hibernate_time
    , runcard_step
    , lot_state
    , process_order
    , customer
    , lot_type
    , product
    , lot_priority
    , process
    , owner
    , process_speed
    , backend_route
    , start_material
    , wafer_supplier
    , wafer_type
    , wafer_code
    , material_batch
    , trackin_operator
    , trackout_operator
    , wafer_in_slot_01
    , wafer_in_slot_02
    , wafer_in_slot_03
    , wafer_in_slot_04
    , wafer_in_slot_05
    , wafer_in_slot_06
    , wafer_in_slot_07
    , wafer_in_slot_08
    , wafer_in_slot_09
    , wafer_in_slot_10
    , wafer_in_slot_11
    , wafer_in_slot_12
    , wafer_in_slot_13
    , wafer_in_slot_14
    , wafer_in_slot_15
    , wafer_in_slot_16
    , wafer_in_slot_17
    , wafer_in_slot_18
    , wafer_in_slot_19
    , wafer_in_slot_20
    , wafer_in_slot_21
    , wafer_in_slot_22
    , wafer_in_slot_23
    , wafer_in_slot_24
    , wafer_in_slot_25
    , from_timestamp (          trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
      ${prod_table}
    where
                cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
       and      cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
       and (    trackout_cet_ts                             &lt; '${valid_from}'
             or trackout_cet_ts                            &gt;= '${valid_to}'
           )
  union all
    select
      lot
    , loh_key
    , to_loh_to_ind
    , ti_loh_ti_ind
    , step_start_cet_ts
    , step_close_cet_ts
    , trackin_cet_ts
    , trackout_cet_ts
    , num_wafers_in
    , num_wafers_out
    , loc_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment_type
    , equipment
    , step_handle
    , template_recipe
    , recipe
    , equipment_recipe
    , physical_reticle
    , layer
    , btf_key
    , trackout_too_soon_ind
    , rework_step_ind
    , rework_ind
    , litho_rework_ind
    , rework_all_ind
    , prev_trackout_cet_ts
    , wait_time
    , proc_time
    , hold_time
    , waferbank_time
    , hibernate_time
    , runcard_step
    , lot_state
    , process_order
    , customer
    , lot_type
    , product
    , lot_priority
    , process
    , owner
    , process_speed
    , backend_route
    , start_material
    , wafer_supplier
    , wafer_type
    , wafer_code
    , material_batch
    , trackin_operator
    , trackout_operator
    , wafer_in_slot_01
    , wafer_in_slot_02
    , wafer_in_slot_03
    , wafer_in_slot_04
    , wafer_in_slot_05
    , wafer_in_slot_06
    , wafer_in_slot_07
    , wafer_in_slot_08
    , wafer_in_slot_09
    , wafer_in_slot_10
    , wafer_in_slot_11
    , wafer_in_slot_12
    , wafer_in_slot_13
    , wafer_in_slot_14
    , wafer_in_slot_15
    , wafer_in_slot_16
    , wafer_in_slot_17
    , wafer_in_slot_18
    , wafer_in_slot_19
    , wafer_in_slot_20
    , wafer_in_slot_21
    , wafer_in_slot_22
    , wafer_in_slot_23
    , wafer_in_slot_24
    , wafer_in_slot_25
    , from_timestamp (          trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , ''                                                            p_loh_suffix
    from
      ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/ProdStep/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Production Steps - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>7d958297-f712-3fb7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1891.8268593028927</x>
<y>216.09794963489696</y>
                            </position>
                            <versionedComponentId>7d958297-f712-3fb7-860b-23613632bdf5</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Temptation sum" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Temptation sum file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>7da79f03-47a2-3089-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8155.469556829052</x>
<y>611.0429514969301</y>
                            </position>
                            <versionedComponentId>7da79f03-47a2-3089-b917-3241b7721a7c</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Base Qualifications PCM" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/BQPCM/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BQPCM/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'PCM', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = 'PCM' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/BQPCM/q4/InsStgTab

alter table ${staging_table} drop partition (p_parameter_type = 'PCM');

-- ICN8/NiFi/BQPCM/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , loh_trackout_cet_ts
  , lot
  , process
  , process_speed
  , product
  , lot_priority
  , lot_type
  , material_batch
  , start_material
  , wafer_info
  , slot
  , step_valid_from_cet_ts
  , step_valid_to_cet_ts
  , step_trackin_cet_ts
  , step_trackout_cet_ts
  , step_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment
  , equipment_type
  , template_recipe
  , recipe
  , proc_equipment
  , proc_cet_ts
  , program
  , parameter
  , pcm_parameter_type
  , in_run_dimension
  , component
  , ttn_sub_recipe
  , ttn_recipe_process_step
  , meas_cet_ts
  , wafer
  , site
  , x
  , y
  , measured_value
  , num_obs
  , lower_control_limit
  , upper_control_limit
  , target_control_limit
  , lower_spec_limit
  , upper_spec_limit
  , lower_nonsense_limit
  , upper_nonsense_limit
  , lower_hold_limit
  , upper_hold_limit  
  , measurement
  , measurement_version
  , tester
  , probe_card
  , unit_of_measure
  , meas_start_cet_ts
  , source_data_filename
  , die_x
  , die_y
  , lot_std_fmt
  , wafer_std_fmt
  )
partition
  ( p_parameter_type
  , p_aggregation_type
  , p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , loh_trackout_cet_ts
    , lot
    , process
    , process_speed
    , product
    , lot_priority
    , lot_type
    , material_batch
    , start_material
    , wafer_info
    , slot
    , step_valid_from_cet_ts
    , step_valid_to_cet_ts
    , step_trackin_cet_ts
    , step_trackout_cet_ts
    , step_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment
    , equipment_type
    , template_recipe
    , recipe
    , proc_equipment
    , proc_cet_ts
    , program
    , parameter
    , pcm_parameter_type
    , in_run_dimension
    , component
    , ttn_sub_recipe
    , ttn_recipe_process_step
    , meas_cet_ts
    , wafer
    , site
    , x
    , y
    , measured_value
    , num_obs
    , lower_control_limit
    , upper_control_limit
    , target_control_limit
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , lower_hold_limit
    , upper_hold_limit  
    , measurement
    , measurement_version
    , tester
    , probe_card
    , unit_of_measure
    , meas_start_cet_ts
    , source_data_filename
    , die_x
    , die_y
    , lot_std_fmt
    , wafer_std_fmt
    , p_parameter_type
    , p_aggregation_type
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
      ${prod_table}
    where
                   p_parameter_type                           =  'PCM'
          and      cast (p_from_trackout_cet_ts as timestamp) &lt;  '${valid_to}'
          and      cast (p_to_trackout_cet_ts   as timestamp) &gt;  '${valid_from}'
          and (    loh_trackout_cet_ts                        &lt;  '${valid_from}'
                or loh_trackout_cet_ts                        &gt;= '${valid_to}'
              )
  union all
    select
      'ICN8'                                                                                 fab
    , pcm.loh_key                                                                            loh_key
    , pcm.loh_trackout_cet_ts                                                                loh_trackout_cet_ts
    , min (pcm.lot                   )                                                       lot
    , min (pcm.process               )                                                       process
    , null                                                                                   process_speed
    , min (pcm.product               )                                                       product
    , null                                                                                   lot_priority
    , min (pcm.lot_type              )                                                       lot_type
    , min (pcm.material_batch		 )                                                       material_batch
    , min (pcm.start_material		 )                                                       start_material
    , min (pcm.wafer_type            )                                                       wafer_info
    , null                                                                                   slot_nr
    , min (pcm.start_cet_ts          )                                                       step_valid_from_dt
    , min (pcm.end_cet_ts            )                                                       step_valid_to_dt
    , min (pcm.start_cet_ts          )                                                       step_trackin_dt
    , min (pcm.loh_trackout_cet_ts   )                                                       step_trackout_dt
    , min (pcm.num_wafers            )                                                       step_nr_wafers
    , min (pcm.technical_stage       )                                                       technical_stage
    , min (pcm.flow_stage            )                                                       flowstage
    , min (pcm.step                  )                                                       step
    , min (pcm.equipment             )                                                       equipment
    , null                                                                                   equipment_type
    , min (pcm.template_recipe       )                                                       template_recipe
    , min (pcm.recipe                )                                                       recipe
    , null                                                                                   proc_equipment
    , null                                                                                   proc_cet_ts
    , pcm.program                                                                            program
    , pcm.parameter_config_name                                                              parameter
    , pcm.pcm_parameter_type                                                                 pcm_parameter_type
    , mref.in_run_dimension                                                                  in_run_dimension
    , NULL                                                                                   comp
    , NULL                                                                                   subrcp
    , NULL                                                                                   rcpstp
    , min (pcm.end_cet_ts)                                                                   meas_cet_ts
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or mref.aggregation_type = 'site'
        then lower (pcm.wafer)
      end                                                                                    wafer
    , case when mref.aggregation_type = 'site'  then  pcm.site   end                         site
    , case when mref.aggregation_type = 'site'  then  pcm.x      end                         x
    , case when mref.aggregation_type = 'site'  then  pcm.y      end                         y
    , case
        when mref.aggregation_type like '%min'   then min    (pcm.parameter_value)
        when mref.aggregation_type like '%max'   then max    (pcm.parameter_value)
        when mref.aggregation_type like '%avg'   then avg    (pcm.parameter_value)
        when mref.aggregation_type like '%std'   then stddev (pcm.parameter_value)
        else                                          min    (pcm.parameter_value)  /* Raw measurement: the min() of exactly 1 record */
      end                                                                                    measured_value
    , count (*)                                                                              num_obs
    , null                                                                                   lower_control_limit
    , null                                                                                   upper_control_limit
    , null                                                                                   target_control_limit
    , min(pcm.lower_spec_limit)                                                              lower_spec_limit
    , min(pcm.upper_spec_limit)                                                              upper_spec_limit
    , min(pcm.lower_nonsense_limit)                                                          lower_nonsense_limit
    , min(pcm.upper_nonsense_limit)                                                          upper_nonsense_limit
    , null	   									                                             lower_hold_limit
    , null										                                             upper_hold_limit  
    , pcm.measurement								                                         measurement
    , pcm.measurement_version						                                         measurement_version
    , pcm.tester									                                         tester
    , pcm.probecard								                                             probe_card
    , pcm.unit_of_measure							                                         unit_of_measure
    , pcm.start_cet_ts							                                             meas_start_cet_ts
    , concat('BRS/PCM_PLR_MEASUREMENT_RUNS/',cast(pcm.measurement_run AS STRING))			 source_data_filename
    , case when mref.aggregation_type = 'site' then pcm.die_x end                            die_x 
    , case when mref.aggregation_type = 'site' then pcm.die_y end                            die_y
    , substr (upper (min (pcm.lot)), 1, 6)                                                   lot_std_fmt
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or mref.aggregation_type = 'site'
        then substr (upper (pcm.wafer), -2, 2)
      end                                                                                    wafer_std_fmt
    , mref.parameter_type                                                                    p_parameter_type
    , mref.aggregation_type                                                                  p_aggregation_type
    , from_timestamp (         pcm.loh_trackout_cet_ts    , 'yyyy-MM-dd')                    p_from_trackout_cet_ts
    , from_timestamp (days_add(pcm.loh_trackout_cet_ts, 1), 'yyyy-MM-dd')                    p_to_trackout_cet_ts
    , ''                                                                                     p_loh_suffix
    from
          mfg_icn8_data.nifi_pcm_raw                 pcm
      join mfg_icn8_apps.base_parameter_type_levels   mref  on (     mref.parameter_type    = 'PCM'
                                                                 and mref.aggregation_type in ('site', 'waf_avg', 'waf_min', 'waf_max', 'waf_std')
                                                               )
    where 
          pcm.p_to_trackout_cet_ts    &gt; '${valid_from}'
      and pcm.p_from_trackout_cet_ts  &lt; '${valid_to}'
      and pcm.loh_trackout_cet_ts    &gt;= '${valid_from}'
      and pcm.loh_trackout_cet_ts     &lt; '${valid_to}'
    group by
      pcm.loh_key   
    , pcm.loh_trackout_cet_ts
    , pcm.parameter  /* 2020-04-24 This is needed because program + parameter_config_name is not always unique!! */
    , pcm.parameter_config_name
    , pcm.program                                                                                       
    , pcm.pcm_parameter_type                                                                                     
    , mref.in_run_dimension                                                                             
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or mref.aggregation_type = 'site'
        then lower (pcm.wafer)
      end                                                                                                
    , case when mref.aggregation_type = 'site'  then  pcm.site   end                                   
    , case when mref.aggregation_type = 'site'  then  pcm.x      end                                  
    , case when mref.aggregation_type = 'site'  then  pcm.y      end                                  
    , pcm.measurement
    , pcm.measurement_version
    , pcm.tester
    , pcm.probecard
    , pcm.unit_of_measure
    , pcm.start_cet_ts
    , concat('BRS/PCM_PLR_MEASUREMENT_RUNS/',cast(pcm.measurement_run AS STRING))
    , case when mref.aggregation_type = 'site' then pcm.die_x end
    , case when mref.aggregation_type = 'site' then pcm.die_y end
    , mref.parameter_type   
    , mref.aggregation_type  
    , from_timestamp (pcm.loh_trackout_cet_ts, 'yyyy-MM-dd') 
    , from_timestamp (days_add(pcm.loh_trackout_cet_ts, 1), 'yyyy-MM-dd') 
    , cast (pmod (pcm.loh_key, 100) as string) 
    /* 2020-08-13 FvH: In case of non-aggregated site measurements (lowest level), don't group at all: */
    , case when mref.aggregation_type = 'site' then uuid() else '0' end
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or mref.aggregation_type = 'site'
        then substr (upper (pcm.wafer), -2, 2)
      end
;

select
  '${staging_table}'   staging
, case
    when count(*) &gt; 0
    then 'isTrue'
    else 'isFalse'
  end                  hasdata
from
  (
    select * from ${staging_table} where p_parameter_type = 'PCM' limit 1
  ) x
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/BQPCM/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = 'PCM' 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = 'PCM'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ PCM - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>7eb2088c-9b2b-349b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14725.393780172442</x>
<y>-40.668947587887715</y>
                            </position>
                            <versionedComponentId>7eb2088c-9b2b-349b-863a-081bf4266de4</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the TEST trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Test - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>7f3204ad-807c-394a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1057.0834015979294</x>
<y>1439.0523849261176</y>
                            </position>
                            <versionedComponentId>7f3204ad-807c-394a-8fdb-735500e14d13</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If this loader type is configured to not need a token, the flow part for acquiring a token can be skipped.
Several files of this type can be loaded concurrently in that case.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>no</key>
        <value>
            <name>no</name>
        </value>
    </entry>
    <entry>
        <key>yes</key>
        <value>
            <name>yes</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>no</key>
        <value>${token_needed:equals('N')}</value>
    </entry>
    <entry>
        <key>yes</key>
        <value>${token_needed:equals('Y')}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check if loader type needs token</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>no</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>yes</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>8056a87c-687b-3fa3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>629.4799823966787</x>
<y>611.7182444656801</y>
                            </position>
                            <versionedComponentId>8056a87c-687b-3fa3-a6c0-ea29a2167d6c</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "PCM Raw" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/PCMRaw/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/PCMRaw/q2/ValExtTab

refresh ${external_table};

select
  '${valid_from}'                            valid_from
, '${valid_to}'                              valid_to
, sum (t.before)                             sum_before
, sum (t.after)                              sum_after
, case
    when sum (t.before) + sum (t.after) &gt; 0
    then 'isFalse'
    else 'isTrue'
  end                                        isvalid
from 
  (
    select
      case when loh_trackout_cet_ts  &lt; '${valid_from}' then 1 else 0 end  before
    , case when loh_trackout_cet_ts &gt;= '${valid_to}'   then 1 else 0 end  after 
    from
      ${external_table}
  ) t
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/PCMRaw/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/PCMRaw/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/PCMRaw/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_from_trackout_cet_ts, p_to_trackout_cet_ts, p_loh_suffix)
    select
      measurement_run
    , lot
    , loh_key
    , loh_trackout_cet_ts
    , start_cet_ts
    , end_cet_ts
    , run_type
    , lot_type
    , start_material
    , wafer_supplier
    , wafer_type
    , wafer_code
    , material_batch
    , technical_stage
    , flow_stage
    , step
    , template_recipe
    , recipe
    , equipment
    , measurement_version
    , product
    , num_reticles_product
    , process
    , limitfile
    , measurement_quality
    , tester
    , prober
    , probecard
    , loadboard
    , probecard_current_touch_count
    , probecard_touch_count
    , operator
    , ncr_active
    , measurement_fault
    , measurement
    , ar_request
    , slotmap_file_cet_ts
    , num_wafers
    , slotmap
    , mosview_comment
    , lot_flag
    , ncr
    , ncr_com
    , wafer
    , site
    , x
    , y
    , parameter_value
    , lower_spec_limit
    , lower_production_limit
    , lower_nonsense_limit
    , upper_spec_limit
    , upper_production_limit
    , upper_nonsense_limit
    , program
    , parameter
    , parameter_config_name
    , pcm_parameter_type
    , unit_of_measure
    , die_x
    , die_y
	/* 2024-02-13 FvH: New columns for LotDispo: */
    , lower_warning_limit
    , upper_warning_limit
    , lower_ooc_limit
    , upper_ooc_limit
    , ooc_hold_cfg
    , ooc_report_sites_cfg
    , ooc_usage_cfg
    , prod_level_lower_ooc_limit
    , prod_level_upper_ooc_limit
    , prod_level_ooc_hold_cfg
    , prod_level_ooc_report_sites_cfg
    , prod_level_ooc_usage_cfg
    , lot_result
    , wafer_result
    , operator_instruction
    , conclusion
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
      ${prod_table}
    where
                 cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
       and       cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
       and  (    loh_trackout_cet_ts                         &lt; '${valid_from}'
              or loh_trackout_cet_ts                        &gt;= '${valid_to}'
            )
  union all
    select
      measurement_run
    , lot
    , loh_key
    , loh_trackout_cet_ts
    , start_cet_ts
    , end_cet_ts
    , run_type
    , lot_type
    , start_material
    , wafer_supplier
    , wafer_type
    , wafer_code
    , material_batch
    , technical_stage
    , flow_stage
    , step
    , template_recipe
    , recipe
    , equipment
    , measurement_version
    , product
    , num_reticles_product
    , process
    , limitfile
    , measurement_quality
    , tester
    , prober
    , probecard
    , loadboard
    , probecard_current_touch_count
    , probecard_touch_count
    , operator
    , ncr_active
    , measurement_fault
    , measurement
    , ar_request
    , slotmap_file_cet_ts
    , num_wafers
    , slotmap
    , mosview_comment
    , lot_flag
    , ncr
    , ncr_com
    , wafer
    , site
    , x
    , y
    , parameter_value
    , lower_spec_limit
    , lower_production_limit
    , lower_nonsense_limit
    , upper_spec_limit
    , upper_production_limit
    , upper_nonsense_limit
    , program
    , parameter
    , parameter_config_name
    , pcm_parameter_type
    , unit_of_measure
    , die_x
    , die_y
	/* 2024-02-13 FvH: New columns for LotDispo: */
    , lower_warning_limit
    , upper_warning_limit
    , lower_ooc_limit
    , upper_ooc_limit
    , ooc_hold_cfg
    , ooc_report_sites_cfg
    , ooc_usage_cfg
    , prod_level_lower_ooc_limit
    , prod_level_upper_ooc_limit
    , prod_level_ooc_hold_cfg
    , prod_level_ooc_report_sites_cfg
    , prod_level_ooc_usage_cfg
    , lot_result
    , wafer_result
    , operator_instruction
    , conclusion
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , ''                                                                p_loh_suffix
    from
      ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/PCMRaw/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast ( p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'  
    AND  cast ( p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PCM Raw - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>821133c8-c85d-3cad-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2756.401598618594</x>
<y>618.3402764265901</y>
                            </position>
                            <versionedComponentId>821133c8-c85d-3cad-83ec-7498a8089735</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "E3 UVA" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/E3UVA/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/E3UVA/q2/ValExtTab

refresh ${external_table};

select
  '${valid_from}'                            valid_from
, '${valid_to}'                              valid_to
, sum (t.before)                             sum_before
, sum (t.after)                              sum_after
, case
    when sum (t.before) + sum (t.after) &gt; 0
    then 'isFalse'
    else 'isTrue'
  end                                        isvalid
from 
  (
    select
      case when loh_trackout_cet_ts  &lt; '${valid_from}' then 1 else 0 end  before
    , case when loh_trackout_cet_ts &gt;= '${valid_to}'   then 1 else 0 end  after 
    from
      ${external_table}
  ) t
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/E3UVA/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/E3UVA/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/E3UVA/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_from_trackout_cet_ts, p_to_trackout_cet_ts, p_loh_suffix)
    select 
      controljob
    , equipment
    , run
    , run_start_cet_ts
    , collection_name
    , collection_type
    , context_group
    , uva_cet_ts
    , meas_window
    , sensor
    , statistic	
    , measured_value
    , region
    , uva_status
    , lower_outlier_limit
    , upper_outlier_limit
    , lower_critical_limit
    , upper_critical_limit
    , lower_warning_limit
    , upper_warning_limit
    , target
    , category	
    , window_start_cet_ts
    , window_end_cet_ts
    , error_msg
    , controljob_cet_ts
    , controljob_lot
    , loh_key
    , loh_trackout_cet_ts
    , component
    , uva_url
    , wafer
    , slot
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
  	  ${prod_table}
    where
               cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
      and      cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
      and (    loh_trackout_cet_ts                         &lt; '${valid_from}'
            or loh_trackout_cet_ts                        &gt;= '${valid_to}'
          )
  union all
    select
      controljob
    , equipment
    , run
    , run_start_cet_ts
    , collection_name
    , collection_type
    , context_group
    , uva_cet_ts
    , meas_window
    , sensor
    , statistic	
    , measured_value
    , region
    , uva_status
    , lower_outlier_limit
    , upper_outlier_limit
    , lower_critical_limit
    , upper_critical_limit
    , lower_warning_limit
    , upper_warning_limit
    , target
    , category	
    , window_start_cet_ts
    , window_end_cet_ts
    , error_msg
    , controljob_cet_ts
    , controljob_lot
    , loh_key
    , loh_trackout_cet_ts
    , component
    , uva_url
    , wafer
    , slot
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , ''                                                                p_loh_suffix
    from
      ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/E3UVA/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts=' , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}' 
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts=' , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>E3 UVA - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>83ea9788-db23-383d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3468.3461464122674</x>
<y>225.3451267589204</y>
                            </position>
                            <versionedComponentId>83ea9788-db23-383d-be0d-a39e68815b5e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Experiments" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Experiments file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>866d9ad3-4b78-3b92-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7720.246168157177</x>
<y>-3.84114445755165</y>
                            </position>
                            <versionedComponentId>866d9ad3-4b78-3b92-af44-be54d1ef6752</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Base Qualifications EDC trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ EDC - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>86d698e2-8642-339b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3860.924352867035</x>
<y>4.87594693376866</y>
                            </position>
                            <versionedComponentId>86d698e2-8642-339b-ac9f-0e1ade66ddfa</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Scrap file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Scrap - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>8714dc28-1a1f-3c5b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12585.624588509654</x>
<y>-503.6099114244357</y>
                            </position>
                            <versionedComponentId>8714dc28-1a1f-3c5b-ac20-2e149b4baf30</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>To speed up the Single Wafer scrap query, we first determine the lots that were scrapped in the given period.
The string containing the comma-separated lot ids can be used in the SWS query (e.g. "where lots in ${sws_lots}").</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
-- ICN8/NiFi/SWS/DetLots
select
  nvl (concat ('(', group_concat (subq1.lot, ', '), ')')
      , '(\'\')'
      )                                                   lots
from
  (
    select distinct
      concat ('\'', substr (scp.lot, 1, 6), '\'')  lot
    from
      mfg_icn8_data.nifi_scrap  scp
    where
          scp.scrap_cet_ts &gt;= '${valid_from}'
      and scp.scrap_cet_ts  &lt; '${valid_to}'
  )  subq1
;
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>sws_lots</value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>8192</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Determine SWS lots</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>8795df0b-090b-32a2-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9053.237962783449</x>
<y>218.23702141406943</y>
                            </position>
                            <versionedComponentId>8795df0b-090b-32a2-9f01-b114e318d369</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "BASE_QUALIFICATIONS_TRACING_COMP" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous BQ Tracing Comp aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>8df4f67e-505a-31fd-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1896.0206357701</x>
<y>-235.10926115548216</y>
                            </position>
                            <versionedComponentId>8df4f67e-505a-31fd-9c36-0b25bf6786c8</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Temptation sum", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>
            <name>override_hist_data_route_yn</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_temptation_sum</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/temptation_sum/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/temptation_sum/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>TEMPTATION_SUM</value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_temptation_sum</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_temptation_sum</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_temptation_sum</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_temptation_sum</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Temptation sum - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>91d2bd4b-2009-3c1f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>445.0711991424365</x>
<y>1959.9118964022</y>
                            </position>
                            <versionedComponentId>91d2bd4b-2009-3c1f-9c66-765d698cd0fa</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Token was not acquired for file ${filename}. Previous file still running.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log that token was not acquired</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>97c713db-8d08-335e-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11275.891510071293</x>
<y>-263.5459650819532</y>
                            </position>
                            <versionedComponentId>97c713db-8d08-335e-a61c-0c5a3a8dd53f</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Base Qualifications TEMPTATION", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>
            <name>override_hist_data_route_yn</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>15</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>BASE_QUALIFICATIONS_TEMPTATION</value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=TEMPTATION</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ TEMPTATION - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>9b45637c-1a22-3ad8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1062.8295912345184</x>
<y>604.9952596168987</y>
                            </position>
                            <versionedComponentId>9b45637c-1a22-3ad8-ba47-fd3da39a6e07</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Diamond Raw" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/DiaRaw/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/DiaRaw/q2/ValExtTab

refresh ${external_table};

select
  '${valid_from}'                            valid_from
, '${valid_to}'                              valid_to
, sum (t.before)                             sum_before
, sum (t.after)                              sum_after
, case
    when sum (t.before) + sum (t.after) &gt; 0
    then 'isFalse'
    else 'isTrue'
  end                                        isvalid
from 
  (
    select
      case when run_trackout_cet_ts  &lt; '${valid_from}' then 1 else 0 end  before
    , case when run_trackout_cet_ts &gt;= '${valid_to}'   then 1 else 0 end  after 
    from
      ${external_table}
  ) t
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/DiaRaw/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/DiaRaw/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/DiaRaw/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_from_trackout_cet_ts, p_to_trackout_cet_ts, p_loh_suffix)
    select 
    component ,  
    valid_from_cet_ts ,  
    valid_to_cet_ts ,  
    state_1 ,  
    state_2 ,  
    comp_up_ind ,  
    state_final ,  
    exception_ind ,  
    component_recipe ,  
    slot ,  
    wafer ,  
    counter_value ,  
    counter ,
    delta_evt_ts_pcc_ts ,  
    delta_evt_ts_func_ts ,  
    delta_func_ts_used_ts ,  
    delta_used_ts_proc_ts ,  
    last_modified_cet_ts ,  
    run_key ,  
    run_equipment ,  
    run_start_component ,  
    run_start_cet_ts ,  
    run_end_cet_ts ,  
    run_lot ,  
    run_recipe ,  
    run_exception_ind ,  
    run_loading_time ,  
    run_processing_time ,  
    run_unloading_time ,  
    run_empty_run_ind ,  
    run_last_modified_cet_ts ,  
    run_loh_key  ,
    run_trackout_cet_ts 
    , from_timestamp (          run_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (run_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
  	  ${prod_table}
    where
               cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
      and      cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
      and (    run_trackout_cet_ts                         &lt; '${valid_from}'
            or run_trackout_cet_ts                        &gt;= '${valid_to}'
          )
  union all
    select
    component ,  
    valid_from_cet_ts ,  
    valid_to_cet_ts ,  
    state_1 ,  
    state_2 ,  
    comp_up_ind ,  
    state_final ,  
    exception_ind ,  
    component_recipe ,  
    slot ,  
    wafer ,  
    counter_value ,  
    counter ,
    delta_evt_ts_pcc_ts ,  
    delta_evt_ts_func_ts ,  
    delta_func_ts_used_ts ,  
    delta_used_ts_proc_ts ,  
    last_modified_cet_ts ,  
    run_key ,  
    run_equipment ,  
    run_start_component ,  
    run_start_cet_ts ,  
    run_end_cet_ts ,  
    run_lot ,  
    run_recipe ,  
    run_exception_ind ,  
    run_loading_time ,  
    run_processing_time ,  
    run_unloading_time ,  
    run_empty_run_ind ,  
    run_last_modified_cet_ts ,  
    run_loh_key  ,
    run_trackout_cet_ts 
    , from_timestamp (          run_trackout_cet_ts     , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (run_trackout_cet_ts , 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , ''                                                                     p_loh_suffix
    from
      ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/DiaRaw/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'  
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Diamond Raw - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>9c74f9af-bab6-359f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3431.7864863139066</x>
<y>615.1908928816682</y>
                            </position>
                            <versionedComponentId>9c74f9af-bab6-359f-bdf7-8cdff2c076d2</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Experiments" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/Exp/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/Exp/q2/ValExtTab

refresh ${external_table};

select
  case
    when count(*) = 0
    then 'isFalse'
    else 'isTrue'
  end                  isvalid
from 
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/Exp/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_dummy_partition, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/Exp/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/Exp/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_dummy_partition)
select
  experiment_key
, experiment
, description
, exp_cet_ts
, exp_user
, pcm_user
, esort_user
, epe_user
, request_cet_ts
, pcm_analysis
, pcm_comments
, pcm_report
, esort_analysis
, esort_comments
, esort_report
, qualplan_nr
, qualplan_report
, priority
, lot_class
, probable_number_of_scrap
, lot_flag
, technical_stage
, flowstage
, step
, next_technical_stage
, next_flowstage
, next_step
, exp_comment
, epe_comment
, sort_wafers
, sort_wafers_instructions
, time_critical
, time_critical_instructions
, monitor_equipment
, monitor_equipment_instructions
, set_ncr
, set_ncr_instructions
, hold_before
, hold_before_instructions
, hold_after
, hold_after_instructions
, set_comment
, set_comment_instructions
, keyin_nr
, lot
, customer
, product
, maverick
, commercial_name
, process
, current_wafer_qty
, split_group
, split_equipment
, split_recipe
, split_standard
, wafer_01
, wafer_02
, wafer_03
, wafer_04
, wafer_05
, wafer_06
, wafer_07
, wafer_08
, wafer_09
, wafer_10
, wafer_11
, wafer_12
, wafer_13
, wafer_14
, wafer_15
, wafer_16
, wafer_17
, wafer_18
, wafer_19
, wafer_20
, wafer_21
, wafer_22
, wafer_23
, wafer_24
, wafer_25
, 'DUMMY'                         p_dummy_partition
from
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/Exp/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    'p_dummy_partition=DUMMY' as par
    
    UNION ALL
    
    SELECT 
    2 as source, 
    'p_dummy_partition=DUMMY' as par
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Experiments - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>9c9dbab5-b605-3d77-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12126.687247981245</x>
<y>593.0866606888626</y>
                            </position>
                            <versionedComponentId>9c9dbab5-b605-3d77-b531-8f9904e92e80</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Base Qualifications E3 UVA" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/BQE3UVA/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BQE3UVA/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'E3_UVA', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = 'E3_UVA' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/BQE3UVA/q4/InsStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'E3_UVA', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

-- ICN8/NiFi/BQE3UVA/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , loh_trackout_cet_ts
  , lot
  , lot_std_fmt
  , process
  , process_speed
  , product
  , lot_priority
  , lot_type
  , material_batch
  , start_material
  , wafer_info
  , slot
  , step_valid_from_cet_ts
  , step_valid_to_cet_ts
  , step_trackin_cet_ts
  , step_trackout_cet_ts
  , step_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment
  , equipment_type
  , template_recipe
  , recipe
  , proc_equipment
  , proc_cet_ts
  , program
  , parameter
  , in_run_dimension
  , component
  , ttn_sub_recipe
  , ttn_recipe_process_step
  , meas_cet_ts
  , wafer
  , wafer_std_fmt
  , site
  , x
  , y
  , measured_value
  , num_obs
  , lower_control_limit
  , upper_control_limit
  , target_control_limit
  , lower_spec_limit
  , upper_spec_limit
  , lower_nonsense_limit
  , upper_nonsense_limit
  , btf_key
  , event
  )
partition
  ( p_parameter_type
  , p_aggregation_type
  , p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , loh_trackout_cet_ts
    , lot
	, lot_std_fmt
    , process
    , process_speed
    , product
    , lot_priority
    , lot_type
    , material_batch
    , start_material
    , wafer_info
    , slot
    , step_valid_from_cet_ts
    , step_valid_to_cet_ts
    , step_trackin_cet_ts
    , step_trackout_cet_ts
    , step_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment
    , equipment_type
    , template_recipe
    , recipe
    , proc_equipment
    , proc_cet_ts
    , program
    , parameter
    , in_run_dimension
    , component
    , ttn_sub_recipe
    , ttn_recipe_process_step
    , meas_cet_ts
    , wafer
	, wafer_std_fmt
    , site
    , x
    , y
    , measured_value
    , num_obs
    , lower_control_limit
    , upper_control_limit
    , target_control_limit
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , btf_key
    , event
    , p_parameter_type
    , p_aggregation_type
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
           ${prod_table}
    where
               p_parameter_type                            = 'E3_UVA'
      and      cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
      and      cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
      and (    loh_trackout_cet_ts                         &lt; '${valid_from}'
            or loh_trackout_cet_ts                        &gt;= '${valid_to}'
         )
  union all
    select
      'ICN8'                                                                    fab
    , e3u.loh_key
    , substr (e3u.loh_trackout_cet_ts, 1,19)                                    loh_trackout_cet_ts
    , min (bws.lot)                                                             lot
	, upper (left( min (bws.lot), 6))		                                    lot_std_fmt
    , min (nvl (bws.process               , 'None' ))                           process
    , min (nvl (bws.process_speed         , 'None' ))                           process_speed
    , min (nvl (bws.product               , 'None' ))                           product
    , min (nvl (bws.lot_priority          , 'None' ))                           lot_priority
    , min (nvl (bws.lot_type              , 'None' ))                           lot_type
    , min (nvl (bws.material_batch        , 'None' ))                           material_batch
    , min (nvl (bws.start_material        , 'None' ))                           start_material
    , min (nvl (bws.wafer_type            , 'None' ))                           wafer_info
    , min (     bws.slot                            )                           slot_nr
    , min (     bws.step_start_cet_ts               )                           step_valid_from_dt
    , min (     bws.step_close_cet_ts               )                           step_valid_to_dt
    , min (     bws.trackin_cet_ts                  )                           step_trackin_dt
    , min (     bws.trackout_cet_ts                 )                           step_trackout_dt
    , min (     bws.loc_num_wafers                  )                           step_nr_wafers
    , min (nvl (bws.technical_stage       , 'None' ))                           technical_stage
    , min (nvl (bws.flowstage             , 'None' ))                           flow_stage
    , min (nvl (bws.step                  , 'None' ))                           step
    ,      nvl (e3u.equipment             , 'None' )                            equipment
    , min (nvl (bws.equipment_type        , 'None' ))                           equipment_type
    , min (nvl (bws.template_recipe       , 'None' ))                           template_recipe
    , min (nvl (bws.recipe                , 'None' ))                           recipe
    , null                                                                      proc_equipment
    , null                                                                      proc_cet_ts
    , null                                                                      program
    , concat (      e3u.collection_name
             , '_', e3u.meas_window
             , '_', e3u.sensor
             , '_', e3u.statistic
			 )                                                                  parameter
    , null                                                                      in_run_dimension
    , e3u.component                                                             component
    , null                                                                      subrcp
    , null                                                                      rcpstp
       /* When aggregating the different measurements of 1 wafer or 1 lot, take the lowest measurement_dt of the individual measurements: */
    , min (e3u.uva_cet_ts)                                                      meas_cet_ts
    , case
        when ptl.aggregation_type like 'waf%'
        then bws.wafer
        else null
      end                                                                       wafer
	, case
        when ptl.aggregation_type like 'waf%'
        then right (bws.wafer, 2)
        else null															 
      end                                                                       wafer_std_fmt
    , null                                                                      site
    , null                                                                      x
    , null                                                                      y
    , case
        when ptl.aggregation_type like '%avg' then avg    (e3u.measured_value)
        when ptl.aggregation_type like '%std' then stddev (e3u.measured_value)
        when ptl.aggregation_type like '%min' then min    (e3u.measured_value)
        when ptl.aggregation_type like '%max' then max    (e3u.measured_value)
        else                                       min    (e3u.measured_value)
      end                                                                       measured_value
    , count (*)                                                                 num_obs
    , null                                                                      lower_control_limit
    , null                                                                      upper_control_limit
    , null                                                                      target_control_limit
    , null                                                                      lower_spec_limit
    , null                                                                      upper_spec_limit
    , null                                                                      lower_nonsense_limit
    , null                                                                      upper_nonsense_limit
    , min (bws.btf_key)                                                         btf_key
      /* Fill column event with a fake event containing the controljob id, UVA-URL and original wafer id. This is needed for the cross check statistics (to make the original waf-level records unique) */
    ,  case
         when ptl.aggregation_type = 'waf'
         then concat ('Cross_check_', e3u.controljob
                     , '_', e3u.uva_url
                     , '_', e3u.wafer
                     )
         else null
       end                                                                      event
    , 'E3_UVA'                                                                  p_parameter_type
    , ptl.aggregation_type                                                      p_aggregation_type
    , from_timestamp (           e3u.loh_trackout_cet_ts    , 'yyyy-MM-dd')     p_from_trackout_dt
    , from_timestamp ( date_add (e3u.loh_trackout_cet_ts, 1), 'yyyy-MM-dd')     p_to_trackout_dt
    , ''                                                                        p_loh_suffix
    from
                mfg_icn8_data.nifi_e3_uva                       e3u
      left join mfg_icn8_apps.nifi_base_wafer_production_steps  bws on (     bws.loh_key                                = e3u.loh_key
                                                                         and (    bws.wafer                             = e3u.wafer
                                                                               or lower (nvl (e3u.wafer, '&lt;none&gt;'))  like '%none%'
                                                                             )
                                                                         and substr (bws.trackout_cet_ts, 1, 19)        = substr (e3u.loh_trackout_cet_ts, 1, 19)
                                                                         and bws.p_to_trackout_cet_ts                   &gt; '${valid_from}'
                                                                         and bws.p_from_trackout_cet_ts                 &lt; '${valid_to}'
                                                                         and bws.trackout_cet_ts                       &gt;= '${valid_from}'
                                                                         and bws.trackout_cet_ts                        &lt; '${valid_to}'
                                                                       )
           join mfg_icn8_apps.base_parameter_type_levels        ptl on (     ptl.parameter_type                         = 'E3_UVA'
                                                                         and ptl.active_yn                              = 'Y'
                                                                         and ptl.aggregation_type                not like '%q1'
                                                                         and ptl.aggregation_type                not like '%q2'
                                                                         and ptl.aggregation_type                not like '%q3'
                                                                       )
    where
          e3u.p_to_trackout_cet_ts    &gt; '${valid_from}'
      and e3u.p_from_trackout_cet_ts  &lt; '${valid_to}'
      and e3u.loh_trackout_cet_ts    &gt;= '${valid_from}'
      and e3u.loh_trackout_cet_ts     &lt; '${valid_to}'
   group by
      e3u.loh_key
    , e3u.loh_trackout_cet_ts
    , nvl (e3u.equipment, 'None')
    , concat (      e3u.collection_name
             , '_', e3u.meas_window
             , '_', e3u.sensor
             , '_', e3u.statistic
			 )
    , e3u.component
    , case
        when ptl.aggregation_type = 'waf'
        then e3u.uva_cet_ts
        else null
      end
    , case
        when ptl.aggregation_type like 'waf%'
        then bws.wafer
        else null
      end
	, case
        when ptl.aggregation_type like 'waf%'
        then right (bws.wafer, 2)
        else null
      end
    ,  case
         when ptl.aggregation_type = 'waf'
         then concat ('Cross_check_', e3u.controljob
                     , '_', e3u.uva_url
                     , '_', e3u.wafer
                     )
         else null
       end
    , ptl.aggregation_type
    , from_timestamp (           e3u.loh_trackout_cet_ts    , 'yyyy-MM-dd')
    , from_timestamp ( date_add (e3u.loh_trackout_cet_ts, 1), 'yyyy-MM-dd')
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/E3Tempt/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts='  , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = 'E3_UVA'
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts='  , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = 'E3_UVA'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ E3 UVA - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>9e42ed97-1cb2-39a1-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>616.4467792716787</x>
<y>-6.2744769007889545</y>
                            </position>
                            <versionedComponentId>9e42ed97-1cb2-39a1-95a1-a77b12c0ea3a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the PCM-raw file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PCM Raw - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>9e57d216-bd2f-3783-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>13456.223028348224</x>
<y>-275.66216337716185</y>
                            </position>
                            <versionedComponentId>9e57d216-bd2f-3783-80fa-8200debd9ad5</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "PMI-View batch", define several properties that will be used in the remainder of the flow:
* alternative_load_script: the script that should be called to load the file.
* alternative_load_script_arguments: the arguments to be passed to the script.
* logtype: the data type that will be used in the NiFi logging.
* token_needed = "N": several files of this type can be loaded at the same time. No token is needed before loading can start

The dimension files generated by this flow are used by the PMI-View application to quickly load all available parameters/progress steps at the start of the program. Loading from these files is much faster than loading from the Hive database.

</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>
            <name>alternative_load_script</name>
        </value>
    </entry>
    <entry>
        <key>alternative_load_script_arguments</key>
        <value>
            <name>alternative_load_script_arguments</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>token_needed</key>
        <value>
            <name>token_needed</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>/bin/ssh</value>
    </entry>
    <entry>
        <key>alternative_load_script_arguments</key>
        <value>nardc02hdpep013;"~/scripts/icn8/pmiview_batch/pmiview_batch.sh"</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/pmiview_batch/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>PMIVIEW_BATCH</value>
    </entry>
    <entry>
        <key>token_needed</key>
        <value>N</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PMI-View batch - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>9eea18ca-c05d-39b9-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1472.94600192709</x>
<y>600.7622085819597</y>
                            </position>
                            <versionedComponentId>9eea18ca-c05d-39b9-974c-dca4946be386</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Tool Overlay Raw" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/OvlRaw/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/OvlRaw/q2/ValExtTab

refresh ${external_table};

select
  '${valid_from}'                            valid_from
, '${valid_to}'                              valid_to
, sum (t.before)                             sum_before
, sum (t.after)                              sum_after
, case
    when sum (t.before) + sum (t.after) &gt; 0
    then 'isFalse'
    else 'isTrue'
  end                                        isvalid
from 
  (
    select
      case when trackout_cet_ts  &lt; '${valid_from}' then 1 else 0 end  before
    , case when trackout_cet_ts &gt;= '${valid_to}'   then 1 else 0 end  after 
    from
      ${external_table}
  ) t
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/OvlRaw/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/OvlRaw/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/OvlRaw/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_from_trackout_cet_ts, p_to_trackout_cet_ts, p_loh_suffix)
    select 
  measurement_run          
, lot                      
, loh_key                  
, trackout_cet_ts          
, valid_from_cet_ts        
, trackin_cet_ts           
, valid_to_cet_ts          
, process                  
, product                  
, toy_start_cet_ts         
, toy_inspect_equipment    
, toy_process_equipment   
, toy_program              
, toy_program_type         
, toy_parameter            
, toy_wafer                
, toy_die_x_size           
, toy_die_y_size           
, toy_value
, toy_x
, toy_y
, toy_site           
    , from_timestamp (          trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
  	  ${prod_table}
    where
           cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
       and cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
       and (    trackout_cet_ts                        &lt; '${valid_from}'
             or trackout_cet_ts                       &gt;= '${valid_to}'
           )
  union all
    select
  measurement_run          
, lot                      
, loh_key                  
, trackout_cet_ts          
, valid_from_cet_ts        
, trackin_cet_ts           
, valid_to_cet_ts          
, process                  
, product                  
, toy_start_cet_ts         
, toy_inspect_equipment    
, toy_process_equipment   
, toy_program              
, toy_program_type         
, toy_parameter            
, toy_wafer                
, toy_die_x_size           
, toy_die_y_size           
, toy_value 
, toy_x
, toy_y
, toy_site              
    , from_timestamp (          trackout_cet_ts     , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (trackout_cet_ts , 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , ''                                                                     p_loh_suffix
    from
      ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/OvlRaw/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}' 
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Tool Overlay Raw - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>a0594799-3185-315d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11691.293853821293</x>
<y>-265.5459650819532</y>
                            </position>
                            <versionedComponentId>a0594799-3185-315d-90de-5b66fd882e30</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Base Qualifications E3", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>
            <name>override_hist_data_route_yn</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>15</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>BASE_QUALIFICATIONS_E3</value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=E3</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ E3 - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>a21c3f27-94bf-3dda-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9043.26381865772</x>
<y>-240.27967803543402</y>
                            </position>
                            <versionedComponentId>a21c3f27-94bf-3dda-8e4c-11ee8116e4e7</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Base Qualifications Tracing Comp", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>
            <name>override_hist_data_route_yn</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>BASE_QUALIFICATIONS_TRACING_COMP</value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=TRACING_COMP</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ Tracing Comp - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>a402bd88-0197-3992-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>13029.958379910724</x>
<y>-288.9153524640759</y>
                            </position>
                            <versionedComponentId>a402bd88-0197-3992-8d5c-5e87808350d6</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "PMI-View dimension tables", define several properties that will be used in the remainder of the flow:
* alternative_load_script: the script that should be called to load the file.
* alternative_load_script_arguments: the arguments to be passed to the script.
* logtype: the data type that will be used in the NiFi logging.
* token_needed = "N": several files of this type can be loaded at the same time. No token is needed before loading can start

The dimension files generated by this flow are used by the PMI-View application to quickly load all available parameters/progress steps at the start of the program. Loading from these files is much faster than loading from the Hive database.

</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>
            <name>alternative_load_script</name>
        </value>
    </entry>
    <entry>
        <key>alternative_load_script_arguments</key>
        <value>
            <name>alternative_load_script_arguments</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>token_needed</key>
        <value>
            <name>token_needed</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>/bin/ssh</value>
    </entry>
    <entry>
        <key>alternative_load_script_arguments</key>
        <value>nardc02hdpep013;"/users/hadoop_nifi_svc/scripts/icn8/pmiview/pmiview_cron.sh"</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/pmiview_dim_files/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>PMIVIEW_DIM_FILES</value>
    </entry>
    <entry>
        <key>token_needed</key>
        <value>N</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PMI-View dimension files - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>a4c4f8e7-edad-30fe-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5687.483770535725</x>
<y>-223.79976713692747</y>
                            </position>
                            <versionedComponentId>a4c4f8e7-edad-30fe-88b9-3c6d7b15848a</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Diamond Components", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_products</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_dummy_partition</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/products/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/products/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>PRODUCTS</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_products</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_products</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_products</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_products</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Products - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>a6a1a03d-685b-385b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7272.649549504833</x>
<y>-229.42625912776475</y>
                            </position>
                            <versionedComponentId>a6a1a03d-685b-385b-9f4a-396e0f0f83d9</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Base wafer production steps", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>BASE_WAFER_PRODUCTION_STEPS</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_wafer_production_steps</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_wafer_production_steps</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_wafer_production_steps</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_wafer_production_steps</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Base Waf Prod Steps - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>a8ec5f60-a870-3538-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5705.727249927892</x>
<y>233.1405826915376</y>
                            </position>
                            <versionedComponentId>a8ec5f60-a870-3538-b88a-b45d1e321f27</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Diamond Components" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Products file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>a944b5e5-2d0e-340a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1046.9016552177236</x>
<y>2398.4534436314375</y>
                            </position>
                            <versionedComponentId>a944b5e5-2d0e-340a-ae28-048fa31a65fa</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log if direct insert is possible</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Direct insert flag for file '${filename}': ${direct_insert_possible_yn}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log if direct insert is possible</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>a991dd3c-28bc-3c07-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7271.105665227489</x>
<y>212.06739235788496</y>
                            </position>
                            <versionedComponentId>a991dd3c-28bc-3c07-b5f4-6e7fdb2e1895</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "BASE_WAFER_PRODUCTION_STEPS" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Base Waf Prod Steps aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>ab5f6d23-d0ad-3853-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1053.2053608825834</x>
<y>1966.0389681989527</y>
                            </position>
                            <versionedComponentId>ab5f6d23-d0ad-3853-9632-53191af4971a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the token for this file type was acquired, the flowfile can continue.
Otherwise, the NiFi WAIT/NOTIFY mechanism has failed, and several flowfiles of the same type were released at once.
In that case, redirect this flowfile back to the entrence of the lobby.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>token_not_acquired</key>
        <value>
            <name>token_not_acquired</name>
        </value>
    </entry>
    <entry>
        <key>token_succesfully_acquired</key>
        <value>
            <name>token_succesfully_acquired</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>token_not_acquired</key>
        <value>${token_acquired:startsWith('isFalse')}</value>
    </entry>
    <entry>
        <key>token_succesfully_acquired</key>
        <value>${token_acquired:startsWith('isTrue')}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check if token was acquired</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>token_not_acquired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>token_succesfully_acquired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>ad7d1a78-c19e-3c52-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>417.4729357393553</x>
<y>1061.071609035427</y>
                            </position>
                            <versionedComponentId>ad7d1a78-c19e-3c52-a0e2-6ac0b1db88a0</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<annotationData>&lt;criteria&gt;
    &lt;flowFilePolicy&gt;USE_CLONE&lt;/flowFilePolicy&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;override_hist_data_route_yn&lt;/attribute&gt;
            &lt;id&gt;bd8d97c9-9aa2-494a-a6ba-e03f07482f6f&lt;/id&gt;
            &lt;value&gt;N&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${override_hist_data_route_yn:isEmpty()}&lt;/expression&gt;
            &lt;id&gt;18cb7f9b-e1dd-4498-a344-1cc4c8f9304f&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;57365ab2-ddfb-47a0-a667-f1c0ed081e47&lt;/id&gt;
        &lt;name&gt;Validate_Override&lt;/name&gt;
    &lt;/rules&gt;
&lt;/criteria&gt;</annotationData>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Processor to check whether attribute "override_hist_data_route_yn" is present in flow file, if not, then attribute will be added to file with value "N"
NOTE: This is done in the Advanced tab (on the lower left)</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>UpdateAttribute</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>aef4b39b-37f0-34fa-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1051.4969665613635</x>
<y>2174.1973777077915</y>
                            </position>
                            <versionedComponentId>aef4b39b-37f0-34fa-92ab-91b0371199e9</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>To save time on the initial load of a time period, we can skip the mechanism that first rebuilds the current day partition in a staging table and then swaps the staging partition and production partition.
When this mechanism is skipped, data are directly inserted into the production table.
Direct inserting is only possible when:
* The entity is configured with ${direct_insert_allowed} = "Y", AND
* No earlier file was loaded / aggregation was done for (part of) the current load/aggregation period, AND
* The current time period doesn't include the last part of day (to keep day partitions as small as possible, we always need to rebuild them at the end of the day).</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
-- ICN8/NiFi/SelDirectInsertYN
select
  case
    when '${direct_insert_allowed_yn}' = 'Y'
    then case
           when
                 '${logtype}'               not in ('TEMPTATION_SUM', 'BASE_QUALIFICATIONS_TEMPTATION')
             and substr ('${valid_from}', 1, 10)     &lt;&gt; substr ('${valid_to}'  , 1, 10)
             and substr ('${valid_from}', 12, 8)     &lt;&gt; '00:00:00' 
           then 'N'                   /* At the end of each day, use the staging + swap mechanism to force an as small as possible day partition */
                                      /* (but not for full day runs!) */
           when
                 '${logtype}'                   in ('TEMPTATION_SUM', 'BASE_QUALIFICATIONS_TEMPTATION')
             and    from_unixtime (cast (floor    (extract ('${valid_from}', 'EPOCH') / (6*60*60)) * (6*60*60) as bigint))
                 &lt;&gt; from_unixtime (cast (floor    (extract ('${valid_to}'  , 'EPOCH') / (6*60*60)) * (6*60*60) as bigint))
             and substr ('${valid_from}', 12, 8) not in ('00:00:00', '06:00:00', '12:00:00', '18:00:00')
           then 'N'                   /* For Temptation loaders/aggregators, 1/4 day partitions are used! */
           else nvl (max ('N'), 'Y')  /* Only if nothing was loaded before for this timeframe, direct insert is possible! */
         end
    else 'N'                          /* This target entity is not configured by the developers to allow direct inserts */
  end                                               direct_insert_possible_yn
from
  mfg_icn8_data.nifi_load_log  nll
where
      nll.target_entity               = '${logtype}'
  and nll.period_from_cet_ts          &lt; '${valid_to}'
  and nll.period_to_cet_ts            &gt; '${valid_from}'
  and nvl (nll.processed_cet_ts, '') &lt;&gt; ''
;
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>direct_insert_possible_yn</value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Determine if direct insert is possible</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>af9e7277-9e53-3f85-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4795.703649742035</x>
<y>10.838121349357039</y>
                            </position>
                            <versionedComponentId>af9e7277-9e53-3f85-abb8-7c5607b8a4f2</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Process Runcards file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Process Runcards - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>b144c816-7a43-3fc8-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9917.370435735302</x>
<y>-18.81035889694374</y>
                            </position>
                            <versionedComponentId>b144c816-7a43-3fc8-97c2-04cb765de0d5</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Base Qualifications OVL trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ OVL - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>b1f60d05-1961-3784-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>187.17624094160055</x>
<y>596.8767985428285</y>
                            </position>
                            <versionedComponentId>b1f60d05-1961-3784-adca-ebf8e733f24b</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Metrology Raw" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/MetroRaw/q1/ConfExtTab

REFRESH ${external_table};</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/MetroRaw/q2/ValExtTab

refresh ${external_table};

select
  '${valid_from}'                            valid_from
, '${valid_to}'                              valid_to
, sum (t.before)                             sum_before
, sum (t.after)                              sum_after
, case
    when sum (t.before) + sum (t.after) &gt; 0
    then 'isFalse'
    else 'isTrue'
  end                                        isvalid
from 
  (
    select
      case when meas_loh_trackout_cet_ts  &lt; '${valid_from}' then 1 else 0 end  before
    , case when meas_loh_trackout_cet_ts &gt;= '${valid_to}'   then 1 else 0 end  after 
    from
      ${external_table}
  ) t
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/MetroRaw/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/MetroRaw/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/MetroRaw/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_from_trackout_cet_ts, p_to_trackout_cet_ts, p_loh_suffix)
    select 
      meas_cet_ts
    , meas_ref_cet_ts
    , program
    , parameter
    , lot
    , meas_lot
    , meas_equipment
    , proc_equipment
    , proc_step
    , meas_employee
    , val_sum
    , val_avg
    , val_stdev
    , val_stdev_within_wafers
    , val_stdev_between_wafers
    , val_min
	, val_max
    , val_count
	, val_perc_10
    , val_perc_25
    , val_perc_50
    , val_perc_75
    , val_perc_90
    , val_count_low_nons_outl
    , val_count_upp_nons_outl
    , val_count_low_spec_outl
    , val_count_upp_spec_outl
    , val_count_in_spec
    , val_mean_sum_squares
    , val_sum_count_squares
    , val_sum_squares
    , num_valid_wafers
    , num_meas_wafers
    , meas_excluded_ind
    , meas_type
    , rework_ind
    , edc_collection_mode
    , pre_post_diff_plan_ind
    , batch_ind
    , edc_concern
    , production_run_ind
    , exclude_obs_ind
    , reason_exclude_obs
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , lower_control_limit
    , upper_control_limit
    , target_control_limit
    , meas_loh_key
    , meas_loh_trackout_cet_ts
    , proc_loh_key
    , proc_loh_trackout_cet_ts
    , obs_rank
    , obs_wafer
    , obs_site
    , obs_value
    , obs_error_ind 
    , from_timestamp (          meas_loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (meas_loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
  	  ${prod_table}
    where
                cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
       and      cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
       and (    meas_loh_trackout_cet_ts                    &lt; '${valid_from}'
             or meas_loh_trackout_cet_ts                   &gt;= '${valid_to}'
           )
  union all
    select
      meas_cet_ts
    , meas_ref_cet_ts
    , program
    , parameter
    , lot
    , meas_lot
    , meas_equipment
    , proc_equipment
    , proc_step
    , meas_employee
    , val_sum
    , val_avg
    , val_stdev
    , val_stdev_within_wafers
    , val_stdev_between_wafers
    , val_min
	, val_max
    , val_count
	, val_perc_10
    , val_perc_25
    , val_perc_50
    , val_perc_75
    , val_perc_90
    , val_count_low_nons_outl
    , val_count_upp_nons_outl
    , val_count_low_spec_outl
    , val_count_upp_spec_outl
    , val_count_in_spec
    , val_mean_sum_squares
    , val_sum_count_squares
    , val_sum_squares
    , num_valid_wafers
    , num_meas_wafers
    , meas_excluded_ind
    , meas_type
    , rework_ind
    , edc_collection_mode
    , pre_post_diff_plan_ind
    , batch_ind
    , edc_concern
    , production_run_ind
    , exclude_obs_ind
    , reason_exclude_obs
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , lower_control_limit
    , upper_control_limit
    , target_control_limit
    , meas_loh_key
    , meas_loh_trackout_cet_ts
    , proc_loh_key
    , proc_loh_trackout_cet_ts
    , obs_rank
    , obs_wafer
    , obs_site
    , obs_value
    , obs_error_ind 
    , from_timestamp (          meas_loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (meas_loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , ''                                                                     p_loh_suffix
    from
      ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/MetroRaw/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'   
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}' 
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Metrology Raw - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>b29fa9a9-c222-3c7f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6512.324028333913</x>
<y>232.58292270965376</y>
                            </position>
                            <versionedComponentId>b29fa9a9-c222-3c7f-bfa1-66e143291ddd</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Xsite States" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Xsite States file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>b6d06529-fc99-3b8d-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>13856.223028348224</x>
<y>-275.66216337716185</y>
                            </position>
                            <versionedComponentId>b6d06529-fc99-3b8d-9186-1ad7dc6611df</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "PMI-View Back-up User Data", define several properties that will be used in the remainder of the flow:
* alternative_load_script: the script that should be called to load the file.
* alternative_load_script_arguments: the arguments to be passed to the script.
* logtype: the data type that will be used in the NiFi logging.
* token_needed = "N": several files of this type can be loaded at the same time. No token is needed before loading can start

The dimension files generated by this flow are used by the PMI-View application to quickly load all available parameters/progress steps at the start of the program. Loading from these files is much faster than loading from the Hive database.

</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>
            <name>alternative_load_script</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>token_needed</key>
        <value>
            <name>token_needed</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/pmiview_backup/Backup_PMIView_user_data.sh</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/pmiview_backup/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>PMIVIEW_BACKUP</value>
    </entry>
    <entry>
        <key>token_needed</key>
        <value>N</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PMI-View Back-up User Data</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>ba65e09e-9d2b-374f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14300.614782554534</x>
<y>-44.639156883217424</y>
                            </position>
                            <versionedComponentId>ba65e09e-9d2b-374f-ac48-7698705099fb</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Temptation-sum file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Other Qualifications - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>bc2848cb-49e9-392a-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10407.084032996503</x>
<y>211.14145155849894</y>
                            </position>
                            <versionedComponentId>bc2848cb-49e9-392a-843c-dfa72594c3d2</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "PMIVIEW_DIMS" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous PMI-View Dims aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>bf86600c-67b7-37bb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11707.291458387128</x>
<y>219.852020150037</y>
                            </position>
                            <versionedComponentId>bf86600c-67b7-37bb-ae15-d445cdbb9cd1</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "BASE_QUALIFICATIONS_E3" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous BQ E3 aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>c09c1f01-c022-30e7-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14725.225445211505</x>
<y>217.78256513010626</y>
                            </position>
                            <versionedComponentId>c09c1f01-c022-30e7-8076-8e40f89d5eab</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "TEST" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Test aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>c1970421-7b62-3c53-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1060.8645536167735</x>
<y>1704.097247924777</y>
                            </position>
                            <versionedComponentId>c1970421-7b62-3c53-ad04-93cdf459dac4</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Because NiFi's WAIT/NOTIFY system sometimes releases several files of the same type (why???!!!) we need to add a check of ourselves too to make sure only 1 file of a certain type is processed at once.
We do this by inserting a token in table NIFI_LOAD_TOKENS.
The steps involved are:
(1) Insert a token record if it is not yet present.
(2) Check if the currently present token is owned by the current flowfile. If not, the next processor will re-direct the current flowfile to the waiting queue again.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"

set mem_limit=100M;
set request_pool = root.default;

-- ICN8/NiFi/Lobby/AcquireToken
insert into
  mfg_icn8_data.nifi_load_tokens
  ( token
  , filename
  , token_cet_ts
  )
  select
    '${logtype}'                                                token
  , '${filename}'                                               filename
  , '${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}'  token_cet_ts
  from
    (select 'X' dummy)  dual
  where
    not exists (
                 select
                   1
                 from
                   mfg_icn8_data.nifi_load_tokens
                 where
                   token = '${logtype}'
               )
;

-- ICN8/NiFi/Lobby/CheckToken
select
  case
    when max (filename) = '${filename}' then 'isTrue'
    else                                     'isFalse'
  end                                                   token_acquired
from
  mfg_icn8_data.nifi_load_tokens
where
  token = '${logtype}'
;
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>token_acquired</value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Acquire Token</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>c20a474b-19b1-3fbf-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>3466.713415367035</x>
<y>1.8166856117471752</y>
                            </position>
                            <versionedComponentId>c20a474b-19b1-3fbf-8f17-e20462732e33</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Experiments file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Experiments - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>c2a87aac-427d-3e62-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9493.247240127199</x>
<y>220.57240959766318</y>
                            </position>
                            <versionedComponentId>c2a87aac-427d-3e62-a224-f7b2cb399ef2</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "BASE_QUALIFICATIONS_DIAMOND_TIMES" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous BQ Diamond Times aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>c593fe10-3e1a-37c2-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12598.249466199628</x>
<y>200.7979430015995</y>
                            </position>
                            <versionedComponentId>c593fe10-3e1a-37c2-83f2-405454e620a4</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "Single Wafer Scrap" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous SWS aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>c6b000f8-0183-3093-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>5279.815801785725</x>
<y>-226.9179159406384</y>
                            </position>
                            <versionedComponentId>c6b000f8-0183-3093-bcc4-50cff6b9ddf0</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Diamond Components", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_diamond_components</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_dummy_partition</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/diamond_components/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/diamond_components/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>DIAMOND_COMPONENTS</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_diamond_components</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_diamond_components</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_diamond_components</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_diamond_components</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Diamond Components - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>ca19458c-71bc-3176-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6518.192391475799</x>
<y>635.3176487927358</y>
                            </position>
                            <versionedComponentId>ca19458c-71bc-3176-8dcc-046326f37f7a</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Xsite States" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/XsiteStates/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/XsiteStates/q2/ValExtTab

refresh ${external_table};

select
  '${valid_from}'                            valid_from
, '${valid_to}'                              valid_to
, sum (t.before)                             sum_before
, sum (t.after)                              sum_after
, case
    when sum (t.before) + sum (t.after) &gt; 0
    then 'isFalse'
    else 'isTrue'
  end                                        isvalid
from 
  (
    select
      case when from_cet_ts  &lt; '${valid_from}' then 1 else 0 end  before
    , case when from_cet_ts &gt;= '${valid_to}'   then 1 else 0 end  after 
    from
      ${external_table}
  ) t
;</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/XsiteStates/q3/InitStgTab


ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_start_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;
</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/XsiteStates/q4/InsStgTab


refresh ${external_table};

truncate table ${staging_table};

insert into
  ${staging_table}
partition
  ( p_from_start_cet_ts,    p_to_start_cet_ts)
    select 
        from_cet_ts
    ,   to_cet_ts
    ,   equipment
    ,   component
    ,   prv_state
    ,   prv_state_prod_grp
    ,   prv_state_semi10_grp
    ,   cur_state
    ,   cur_state_prod_grp
    ,   cur_state_semi10_grp
    ,   nxt_state
    ,   nxt_state_prod_grp
    ,   nxt_state_semi10_grp
    ,   state_open
    ,   state_event
	,   maint_job
    ,   duration_sec
    , from_timestamp (          from_cet_ts    , 'yyyy-MM-dd')  p_from_start_cet_ts
    , from_timestamp (date_add (from_cet_ts, 1), 'yyyy-MM-dd')  p_to_start_cet_ts
    from
  	  ${prod_table}
    where
               cast (p_from_start_cet_ts as timestamp)  &lt; '${valid_to}'
      and      cast (p_to_start_cet_ts   as timestamp)  &gt; '${valid_from}'
      and (    from_cet_ts                              &lt; '${valid_from}'
            or from_cet_ts                             &gt;= '${valid_to}'
          )
  union all
    select 
        from_cet_ts
    ,   to_cet_ts
    ,   equipment
    ,   component
    ,   prv_state
    ,   prv_state_prod_grp
    ,   prv_state_semi10_grp
    ,   cur_state
    ,   cur_state_prod_grp
    ,   cur_state_semi10_grp
    ,   nxt_state
    ,   nxt_state_prod_grp
    ,   nxt_state_semi10_grp
    ,   state_open
    ,   state_event
	,   maint_job
    ,   duration_sec
    , from_timestamp (          from_cet_ts    , 'yyyy-MM-dd')  p_from_start_cet_ts
    , from_timestamp (date_add (from_cet_ts, 1), 'yyyy-MM-dd')  p_to_start_cet_ts
    from
      ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/XsiteStates/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_start_cet_ts=', CAST (p_from_start_cet_ts as string),
    '/p_to_start_cet_ts=', CAST (p_to_start_cet_ts as string) 
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast (p_from_start_cet_ts as timestamp) &lt; '${valid_to}'   
    AND  cast (p_to_start_cet_ts   as timestamp) &gt; '${valid_from}' 
    GROUP BY p_to_start_cet_ts,  p_from_start_cet_ts
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_start_cet_ts=', CAST (p_from_start_cet_ts as string),
    '/p_to_start_cet_ts=', CAST (p_to_start_cet_ts as string)
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_start_cet_ts,  p_from_start_cet_ts
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Xsite States - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>cbd7b663-a804-3699-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>7729.826734563427</x>
<y>610.9631785477113</y>
                            </position>
                            <versionedComponentId>cbd7b663-a804-3699-b7ea-7bcb4a13a441</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Base Qualifications EDC" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/BQEDC/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BQEDC/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'EDC', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = 'EDC' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/BQEDC/q4/InsStgTab

alter table ${staging_table} drop partition (p_parameter_type = 'EDC');

-- ICN8/NiFi/BQEDC/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , loh_trackout_cet_ts
  , lot
  , process
  , process_speed
  , product
  , lot_priority
  , lot_type
  , material_batch
  , start_material
  , wafer_info
  , slot
  , step_valid_from_cet_ts
  , step_valid_to_cet_ts
  , step_trackin_cet_ts
  , step_trackout_cet_ts
  , step_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment
  , equipment_type
  , template_recipe
  , recipe
  , proc_equipment
  , proc_cet_ts
  , proc_step
  , proc_template_recipe
  , proc_recipe
  , program
  , parameter
  , in_run_dimension
  , component
  , ttn_sub_recipe
  , ttn_recipe_process_step
  , meas_cet_ts
  , wafer
  , site
  , x
  , y
  , measured_value
  , num_obs
  , lower_control_limit
  , upper_control_limit
  , target_control_limit
  , lower_spec_limit
  , upper_spec_limit
  , lower_nonsense_limit
  , upper_nonsense_limit
  , btf_key
  , lot_std_fmt
  , wafer_std_fmt
  )
partition
  ( p_parameter_type
  , p_aggregation_type
  , p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , loh_trackout_cet_ts
    , lot
    , process
    , process_speed
    , product
    , lot_priority
    , lot_type
    , material_batch
    , start_material
    , wafer_info
    , slot
    , step_valid_from_cet_ts
    , step_valid_to_cet_ts
    , step_trackin_cet_ts
    , step_trackout_cet_ts
    , step_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment
    , equipment_type
    , template_recipe
    , recipe
    , proc_equipment
    , proc_cet_ts
    , proc_step
    , proc_template_recipe
    , proc_recipe
    , program
    , parameter
    , in_run_dimension
    , component
    , ttn_sub_recipe
    , ttn_recipe_process_step
    , meas_cet_ts
    , wafer
    , site
    , x
    , y
    , measured_value
    , num_obs
    , lower_control_limit
    , upper_control_limit
    , target_control_limit
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , btf_key
    , lot_std_fmt
    , wafer_std_fmt
    , p_parameter_type
    , p_aggregation_type
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
      ${prod_table}
    where
                   p_parameter_type                           =  'EDC'
          and      cast (p_from_trackout_cet_ts as timestamp) &lt;  '${valid_to}'
          and      cast (p_to_trackout_cet_ts   as timestamp) &gt;  '${valid_from}'
          and (    loh_trackout_cet_ts                        &lt;  '${valid_from}'
                or loh_trackout_cet_ts                        &gt;= '${valid_to}'
              )
  union all
    select
      'ICN8'                                                                                                 fab
    , edc.meas_loh_key
    , edc.meas_loh_trackout_cet_ts
    , min (nvl (bws.lot, edc.lot))                                                                           lot
    , min (case when nvl (bws.process             , '') = '' then 'None' else bws.process              end)  process
    , min (case when nvl (bws.process_speed       , '') = '' then 'None' else bws.process_speed        end)  process_speed
    , min (case when nvl (bws.product             , '') = '' then 'None' else bws.product              end)  product
    , min (case when nvl (bws.lot_priority        , '') = '' then 'None' else bws.lot_priority         end)  lot_priority
    , min (case when nvl (bws.lot_type            , '') = '' then 'None' else bws.lot_type             end)  lot_type
    , min (case when nvl (bws.material_batch      , '') = '' then 'None' else bws.material_batch       end)  material_batch
    , min (case when nvl (bws.start_material      , '') = '' then 'None' else bws.start_material       end)  start_material
    , min (case when nvl (bws.wafer_type          , '') = '' then 'None' else bws.wafer_type           end)  wafer_info
    , min (cast(bws.slot as integer                ))                                                        slot_nr
    , min (               bws.step_start_cet_ts                                                           )  step_valid_from_dt
    , min (               bws.step_close_cet_ts                                                           )  step_valid_to_dt
    , min (               bws.trackin_cet_ts                                                              )  step_trackin_dt
    , min (               bws.trackout_cet_ts                                                             )  step_trackout_dt
    , min (               bws.loc_num_wafers                                                              )  step_nr_wafers
    , min (case when nvl (bws.technical_stage     , '') = '' then 'None' else bws.technical_stage      end)  technical_stage
    , min (case when nvl (bws.flowstage           , '') = '' then 'None' else bws.flowstage            end)  flow_stage
    , min (case when nvl (bws.step                , '') = '' then 'None' else bws.step                 end)  step
    /* 2020-05-08 FvH: Use measurement equipment from nifi_metrology_raw instead of nifi_wafer_production_steps, because for some measurements, the loh_key was
                       not properly determined:
    */
    ,      case when nvl (edc.meas_equipment      , '') = '' then 'None' else edc.meas_equipment       end   equipment
    , min (case when nvl (bws.equipment_type      , '') = '' then 'None' else bws.equipment_type       end)  equipment_type
    , min (case when nvl (bws.template_recipe     , '') = '' then 'None' else bws.template_recipe      end)  template_recipe
    , min (case when nvl (bws.recipe              , '') = '' then 'None' else bws.recipe               end)  recipe
    ,      case when nvl (edc.proc_equipment      , '') = '' then 'None' else edc.proc_equipment       end   proc_equipment
    , min (               proc_bws.trackout_cet_ts                                                        )  proc_cet_ts
    , min (case when nvl (proc_bws.step           , '') = '' then 'None' else proc_bws.step            end)  proc_step
    , min (case when nvl (proc_bws.template_recipe, '') = '' then 'None' else proc_bws.template_recipe end)  proc_template_recipe
    , min (case when nvl (proc_bws.recipe         , '') = '' then 'None' else proc_bws.recipe          end)  proc_recipe
    , edc.program
    , edc.parameter
    , null                                                                                                   in_run_dimension
    , null                                                                                                   comp
    , null                                                                                                   subrcp
    , null                                                                                                   rcpstp
      /* When aggregating the measurements of several wafers within a lot, take the highest measurement_dt of the individual wafers: */
    , case   /* Added 2020-04-23 for raw measurements. Is this appropriate for lot/waf aggregations too? */
        when edc.lot = 'Offline'
        then edc.meas_ref_cet_ts
        else edc.meas_cet_ts
      end                                                                                                    meas_cet_ts
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or substr (mref.aggregation_type, 1, 4) = 'site'
        then edc.obs_wafer
      end                                                                                                    wafer
    , case
        when substr (mref.aggregation_type, 1, 4) = 'site'
        then edc.obs_site
      end                                                                                                    site
    , null                                                                                                   x
    , null                                                                                                   y
    , case
        when mref.aggregation_type like '%min'   then min    (edc.obs_value    )
        when mref.aggregation_type like '%max'   then max    (edc.obs_value    )
        when mref.aggregation_type like '%avg'   then avg    (edc.obs_value    )
        when mref.aggregation_type like '%std'   then stddev (edc.obs_value    )
        else                                          min    (edc.obs_value    )  /* Raw measurement: the min() of exactly 1 record */
      end                                                                                                    measured_value
    , count (*)                                                                                              num_obs
    , edc.lower_control_limit                                                                                lower_control_limit
    , edc.upper_control_limit                                                                                upper_control_limit
    , edc.target_control_limit                                                                               target_control_limit
    , edc.lower_spec_limit                                                                                   lower_spec_limit
    , edc.upper_spec_limit                                                                                   upper_spec_limit
    , edc.lower_nonsense_limit                                                                               lower_nonsense_limit
    , edc.upper_nonsense_limit                                                                               upper_nonsense_limit
    , min (bws.btf_key)                                                                                      btf_key
    , substr(min (nvl (upper (bws.lot), edc.lot)),1,6)                                                       lot_std_fmt
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or substr (mref.aggregation_type, 1, 4) = 'site'
        then substr (upper (edc.obs_wafer), -2, 2)
      end                                                                                                     wafer_std_fmt
    , 'EDC'                                                                                                   p_parameter_type
    , mref.aggregation_type                                                                                   p_aggregation_type
    , from_timestamp (           edc.meas_loh_trackout_cet_ts    , 'yyyy-MM-dd')                              p_from_trackout_dt
    , from_timestamp ( date_add (edc.meas_loh_trackout_cet_ts, 1), 'yyyy-MM-dd')                              p_to_trackout_dt
    , ''                                                                                                      p_loh_suffix
    from
                mfg_icn8_data.nifi_metrology_raw                edc
           join mfg_icn8_apps.base_parameter_type_levels        mref     on (                mref.parameter_type    = 'EDC'
                                                                              and            mref.aggregation_type in ('site', 'lot', 'waf_avg')
                                                                              and (    (     mref.aggregation_type  = 'site'
                                                                                         and edc.obs_wafer         &lt;&gt; '-'
                                                                                       )
                                                                                    or (     mref.aggregation_type  = 'lot'
                                                                                         and edc.obs_wafer          = '-'
                                                                                       )
                                                                                    or (     mref.aggregation_type  = 'waf_avg'
                                                                                         and edc.obs_wafer         &lt;&gt; '-'
                                                                                       )
                                                                                  )
                                                                            )
      left join mfg_icn8_apps.nifi_base_wafer_production_steps  bws      on (     bws.lot                          = edc.lot
                                                                              and bws.wafer_rank                   = 1
                                                                              and bws.loh_key                      = edc.meas_loh_key
                                                                              and bws.trackout_cet_ts              = edc.meas_loh_trackout_cet_ts
  				     												         and bws.p_to_trackout_cet_ts         &gt; '${valid_from}'
  					     												     and bws.p_from_trackout_cet_ts       &lt; '${valid_to}'
  						     											     and bws.trackout_cet_ts             &gt;= '${valid_from}'
  							     										     and bws.trackout_cet_ts              &lt; '${valid_to}'
                                                                            )
      left join mfg_icn8_apps.nifi_base_wafer_production_steps  proc_bws on (     proc_bws.lot                     = edc.lot
                                                                              and proc_bws.wafer_rank              = 1
                                                                              and proc_bws.loh_key                 = edc.proc_loh_key
                                                                              and proc_bws.trackout_cet_ts         = edc.proc_loh_trackout_cet_ts
  					                                                          and proc_bws.p_to_trackout_cet_ts    &gt; from_timestamp (add_months ('${valid_from}'    , -2), 'yyyy-MM-dd HH:mm:ss') 
  							                                                  and proc_bws.p_from_trackout_cet_ts  &lt; from_timestamp (add_months ('${valid_to}'      ,  1), 'yyyy-MM-dd HH:mm:ss') /* 2022-03-09 FvH: '${valid_to  }' --&gt; '${valid_to}' to fix missing proc step data */
                                                                           )
    where
          edc.p_to_trackout_cet_ts      &gt; '${valid_from}'
      and edc.p_from_trackout_cet_ts    &lt; '${valid_to}'
      and edc.meas_loh_trackout_cet_ts &gt;= '${valid_from}'
      and edc.meas_loh_trackout_cet_ts  &lt; '${valid_to}'
   group by
      edc.meas_loh_key
    , edc.meas_loh_trackout_cet_ts
    /* 2020-04-29: Equipment and proc-equipment are needed in the GROUP BY because sometimes a pre-measurement is linked to the wrong LOH_KEY
                   This happens because for pre-measurements, a LOH on the measurement equipment cannot always be found. Therefore, in BRS,
                   the LOH_KEY for pre-measurements is searched without taking the measurement equipment into account
    */
    , case when nvl (edc.meas_equipment, '') = '' then 'None' else edc.meas_equipment end
    , case when nvl (edc.proc_equipment, '') = '' then 'None' else edc.proc_equipment end
    , edc.program
    , edc.parameter
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or substr (mref.aggregation_type, 1, 4) = 'site'
        then edc.obs_wafer
      end                                          
    , case
        when substr (mref.aggregation_type, 1, 4) = 'site'
        then edc.obs_site
      end                                         
    , edc.lower_control_limit
    , edc.upper_control_limit
    , edc.target_control_limit
    , edc.lower_spec_limit                                                                          
    , edc.upper_spec_limit                                                                        
    , edc.lower_nonsense_limit                                                                    
    , edc.upper_nonsense_limit
    , mref.aggregation_type                                        
    , from_timestamp (          bws.trackout_cet_ts    , 'yyyy-MM-dd')                                   
    , from_timestamp (date_add (bws.trackout_cet_ts, 1), 'yyyy-MM-dd')
    , ''
    , case   /* Added 2020-04-23 for raw measurements. Is this appropriate for lot/waf aggregations too? */
        when edc.lot = 'Offline'
        then edc.meas_ref_cet_ts
        else edc.meas_cet_ts
      end
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or substr (mref.aggregation_type, 1, 4) = 'site'
        then substr (upper (edc.obs_wafer), -2, 2)
      end
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/BQEDC/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = 'EDC' 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast ( p_to_trackout_cet_ts  as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = 'EDC'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ EDC - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>cc5fafa2-4d78-300f-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12589.680982610302</x>
<y>573.917203816266</y>
                            </position>
                            <versionedComponentId>cc5fafa2-4d78-300f-9a8a-4dadf6fe7f21</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Single Wafer Scrap" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/SWS/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/SWS/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_from_scrap_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/SWS/q4/InsStgTab

truncate table ${staging_table};

-- ICN8/NiFi/SWS/q4/InsStgTab
insert into
  ${staging_table}
  ( lot
  , num_wafers
  , wafers
  , component
  , object
  , object_type
  , num_wafers_step
  , num_bad
  , num_good
  , outlier
  , min_bad
  , max_bad
  , min_good
  , max_good
  , distance
  , avg_good
  , std_good
  , state
  , proc_state
  , scrap_type
  , prod_period
  , scrap_cet_ts
  , terminate_cet_ts
  , admin_scrap_cet_ts
  , product
  , process
  , esort_scrap_code
  , maverick
  , scrap_suspect_technical_stage
  , scrap_suspect_flow_stage
  , scrap_suspect_process_step
  , cause_contained
  , incident
  , scrap_code
  , proc_key
  , rec_owner
  , cause_code
  , section_cause_code
  , ccd_description
  , detailed_description
  , loh_trackout_cet_ts
  , loh_technical_stage
  , loh_flow_stage
  , loh_step
  , loh_equipment
  , scrap_key
  , total
  , scrap_correlate_type
  , good_wafers
  , avg_bad
  , distance_percent
  )
partition
  ( p_from_scrap_cet_ts
  , p_to_scrap_cet_ts
  )
    select
      lot
    , num_wafers
    , wafers
    , component
    , object
    , object_type
    , num_wafers_step
    , num_bad
    , num_good
    , outlier
    , min_bad
    , max_bad
    , min_good
    , max_good
    , distance
    , avg_good
    , std_good
    , state
    , proc_state
    , scrap_type
    , prod_period
    , scrap_cet_ts
    , terminate_cet_ts
    , admin_scrap_cet_ts
    , product
    , process
    , esort_scrap_code
    , maverick
    , scrap_suspect_technical_stage
    , scrap_suspect_flow_stage
    , scrap_suspect_process_step
    , cause_contained
    , incident
    , scrap_code
    , proc_key
    , rec_owner
    , cause_code
    , section_cause_code
    , ccd_description
    , detailed_description
    , loh_trackout_cet_ts
    , loh_technical_stage
    , loh_flow_stage
    , loh_step
    , loh_equipment
    , scrap_key
    , total
    , scrap_correlate_type
    , good_wafers
    , avg_bad
    , distance_percent
    , from_timestamp (          scrap_cet_ts    , 'yyyy-MM-dd')  p_from_scrap_cet_ts
    , from_timestamp (date_add (scrap_cet_ts, 1), 'yyyy-MM-dd')  p_to_scrap_cet_ts
    from
      ${prod_table}
    where
                    cast (p_from_scrap_cet_ts as timestamp)   &lt;  '${valid_to}'
           and      cast (p_to_scrap_cet_ts   as timestamp)   &gt;  '${valid_from}'
           and (    scrap_cet_ts                              &lt;  '${valid_from}'
                 or scrap_cet_ts                              &gt;= '${valid_to}' 
               )
  union all
select lot
  , num_wafers
  , wafers
  , component
  , object
  , object_type
  , num_wafers_step
  , num_bad
  , num_good
  , outlier
  , min_bad
  , max_bad
  , min_good
  , max_good
  , distance
  , avg_good
  , std_good
  , state
  , proc_state
  , scrap_type
  , prod_period
  , scrap_cet_ts
  , terminate_cet_ts
  , admin_scrap_cet_ts
  , product
  , process
  , esort_scrap_code
  , maverick
  , scrap_suspect_technical_stage
  , scrap_suspect_flow_stage
  , scrap_suspect_process_step
  , cause_contained
  , incident
  , scrap_code
  , proc_key
  , rec_owner
  , cause_code
  , section_cause_code
  , ccd_description
  , detailed_description
  , loh_trackout_cet_ts
  , loh_technical_stage
  , loh_flow_stage
  , loh_step
  , loh_equipment
  , scrap_key
  , total
  , scrap_correlate_type
  , good_wafers
  , avg_bad
  , distance_percent
  , from_timestamp (          scrap_cet_ts    , 'yyyy-MM-dd')  p_from_scrap_cet_ts
  , from_timestamp (date_add (scrap_cet_ts, 1), 'yyyy-MM-dd')  p_to_scrap_cet_ts
from   
(
     select
       waferscrap.lot                                       lot
     , WaferScrap.num_wafers                                num_wafers
     , waferscrap.scrapped_waferids                         wafers
     , p.component                                          component 
      , case when p.p_parameter_type  like 'TRACING_COMP%'    then ' '
             when p.p_parameter_type  like 'DIAMOND%'    then concat(p.program , '_', p.parameter,'_',p.in_run_dimension,'-',p.component)
             when p.p_parameter_type  like 'EDC%'        then concat(p.program , '_', p.parameter)
             when p.p_parameter_type  like 'PCM%'        then concat(p.program , '_', p.parameter)
             when p.p_parameter_type  like 'TEMPTATION%' then case when p.in_run_dimension = 'sbr_rps' then concat(p.parameter,'_',p.in_run_dimension,'-',p.ttn_recipe_process_step , '-' ,p.ttn_sub_recipe )
                                                              else  concat(p.parameter,'_',p.in_run_dimension,'-',p.ttn_recipe_process_step , '-' , p.ttn_sub_recipe, '-', p.component )
                                                         end
        end      object
      , case when p.p_parameter_type  like 'DIAMOND%'         then 'DIAMOND' 
             when p.p_parameter_type  like 'TRACING_COMP%'    then 'TRACING'
             else p.p_parameter_type end                     object_type
      , p.step_num_wafers                                     num_wafers_step

      , count (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then 1
                    when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then 1
              end )                                                                                                               num_bad
      , count (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then 1
                    when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then 1
              end )                                                                                                               num_good
         ,      case when stddev_pop ( case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is     null then p.measured_value
                                         when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                                    end
                                  ) &gt; 0  /* if there is std in good */
             then /* if there is std in good */

                  abs ((   avg (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is     null then p.measured_value
                                     when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                                 end )  /* good */
                        -  avg (case when p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                end ) /* bad */
                      )
                      / stddev_pop ( case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is     null then p.measured_value
                                            when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                                      end
                         )
                 )
            else /* if there is no std in good */
                 abs ( avg (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then p.measured_value
                                 when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                             end ) /* avg good */
                      -
                      avg (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                 when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                            end ) /* avg bad */
                     )
                     /  max( spvd.value_std)
            end  distance
      , 
           case when max(p.p_parameter_type)  like 'TRACING_COMP%'
                     and count (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then 1
                                when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then 1
                                end ) =  WaferScrap.num_wafers
                     and  count (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then 1
                                 when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then 1  
                                 end ) = 0                                                                                                     
                                                                                                                                                then '1_full outlier'
                when ( max (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                      when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                      end
                                )  /* max bad */
                        &lt;  min (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then p.measured_value
                                     when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                                     end
                                ) /* min good */
                          )
                    or    ( min (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                     when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                     end
                                ) /* min_bad */
                        &gt;   max (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then p.measured_value
                                    when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                                     end
                                ) /* max_good */
                        )                                                                                                                             then '1_full outlier'
                  when  avg (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                  when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                  end
                              ) /* avg_bad */
                        &lt; min (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                    when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                    end
                              ) /* min_good */
                      or avg (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                    when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                    end
                              ) /* avg_bad */
                      &gt;  max (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                    when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                    end /* max_good */
                              ) /* max_good */
                                                                                                                                                      then '2_average outlier'
                  when    min (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                    when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                    end
                              ) /* min_bad */
                      &lt;  min (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then p.measured_value
                                  when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                                  end
                             ) /* min_good */
                    or   max (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                  when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                  end
                             ) /* max_bad */
                     &gt;  max (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then p.measured_value
                                  when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                                  end
                            ) /* max_good */
                                                                                                                                                     then '3_partial outlier'
                     else                                                                                                                                 '4_not outlier'
        end  outlier
      , min (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                    when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
              end )                                                                                                               min_bad
      , max (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                    when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
              end )                                                                                                               max_bad
      , min (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then p.measured_value
                  when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
              end )                                                                                                               min_good
      , max (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then p.measured_value
                    when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
              end )                                                                                                               max_good

     , avg (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then p.measured_value
                 when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
              end )                                                                                                               avg_good
      , stddev_pop (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then p.measured_value
                         when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
              end )                                                                                                               std_good
      , waferscrap.state
      , waferscrap.proc_state
      , waferscrap.scrap_type
      , substr(waferscrap.scrap_cet_ts, 1, 10) prod_period
      , waferscrap.scrap_cet_ts  scrap_cet_ts
      , waferscrap.terminate_cet_ts terminate_cet_ts
      , waferscrap.admin_scrap_cet_ts admin_scrap_cet_ts
      , p.product 
      , p.process
      , WaferScrap.esort_scrap_code  
      , waferscrap.maverick
      , waferscrap.suspect_technical_stage  scrap_suspect_technical_stage
      , waferscrap.suspect_flow_stage  scrap_suspect_flow_stage
      , waferscrap.suspect_step  scrap_suspect_process_step
/* !!!!!!!!     , waferscrap.suspect_eqp */
      , waferscrap.cause_contained
      , waferscrap.incident
      , waferscrap.scrap_code
      , waferscrap.proc_key
      , waferscrap.rec_owner
      , WaferScrap.cause_code
      , WaferScrap.section_cause_code
      , WaferScrap.ccd_description
      , WaferScrap.detailed_description
      , p.loh_trackout_cet_ts
      , p.technical_stage loh_technical_stage
      , p.flowstage loh_flow_stage
      , p.step loh_step
      , p.equipment loh_equipment
      , WaferScrap.scrap_key
      , count(p.wafer) total
      , case when WaferScrap.good_flag &gt; 0 then 'ScrapGood' else 'ScrapAll' end scrap_correlate_type
      , waferscrap.good_waferids good_wafers
      , avg (case when p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value end )              avg_bad
      ,      case when stddev_pop ( case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is     null then p.measured_value
                                         when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                                    end
                                  ) &gt; 0  /* if there is std in good */
             then /* if there is std in good */

                  abs ((   avg (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is     null then p.measured_value
                                     when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                                 end )  /* good */
                        -  avg (case when p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                end ) /* bad */
                      )
                      / stddev_pop ( case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is     null then p.measured_value
                                            when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                                      end
                         )
                 )
            else /* if there is no std in good */
                 abs ( avg (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is null then p.measured_value
                                 when good_flag = 1 and p.wafer is not null and WaferScrap.good_wafer  is not null then p.measured_value
                             end ) /* avg good */
                      -
                      avg (case when good_flag = 0 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                                 when good_flag = 1 and p.wafer is not null and WaferScrap.scrap_wafer is not null then p.measured_value
                            end ) /* avg bad */
                     )
                     /  max( spvd.value_std)
            end  distance_percent
           from
                 mfg_icn8_apps.nifi_base_qualifications   p
                 left join (
                  select
                      y.lot
                    , max(y.scrap_cet_ts ) over (partition by scrap_key) scrap_cet_ts 
                    , max(y.terminate_cet_ts ) over (partition by scrap_key) terminate_cet_ts 
                    , max(y.admin_scrap_cet_ts ) over (partition by scrap_key) admin_scrap_cet_ts 
                    , max(case when y.w01  = 'G'
                              or y.w02  = 'G'
                              or y.w03  = 'G'
                              or y.w04  = 'G'
                              or y.w05  = 'G'
                              or y.w06  = 'G'
                              or y.w07  = 'G'
                              or y.w08  = 'G'
                              or y.w09  = 'G'
                              or y.w10  = 'G'
                              or y.w11  = 'G'
                              or y.w12  = 'G'
                              or y.w13  = 'G'
                              or y.w14  = 'G'
                              or y.w15  = 'G'
                              or y.w16  = 'G'
                              or y.w17  = 'G'
                              or y.w18  = 'G'
                              or y.w19  = 'G'
                              or y.w20  = 'G'
                              or y.w21  = 'G'
                              or y.w22  = 'G'
                              or y.w23  = 'G'
                              or y.w24  = 'G'
                              or y.w25  = 'G' then 1 else 0 end
                          ) over (partition by scrap_key)
                         good_flag
                    , y.scrap_key
                    , y.state
                    , y.proc_state
                    , y.product
                    , y.process
                    , y.customer
                    , y.scrap_type
                    , y.scrap_code
                    , y.cause_code
                    , y.section_cause_code
                    , y.cause_contained
                    , y.incident
                    , y.esort_scrap_code
                    , y.suspect_technical_stage
                    , y.suspect_flow_stage
                    , y.suspect_step
                    , y.suspect_eqp
                    , y.proc_key
                    , y.rec_owner
                    , y.ccd_description
                    , y.detailed_description
                    , y.maverick
                    , y.num_wafers
                    , w.wafer_suffix
                    , case when w.wafer_suffix = 'w01' then concat (substr (y.lot, 1 ,6 ),'w01')
                           when w.wafer_suffix = 'w02' then concat (substr (y.lot, 1 ,6 ),'w02')
                           when w.wafer_suffix = 'w03' then concat (substr (y.lot, 1 ,6 ),'w03')
                           when w.wafer_suffix = 'w04' then concat (substr (y.lot, 1 ,6 ),'w04')
                           when w.wafer_suffix = 'w05' then concat (substr (y.lot, 1 ,6 ),'w05')
                           when w.wafer_suffix = 'w06' then concat (substr (y.lot, 1 ,6 ),'w06')
                           when w.wafer_suffix = 'w07' then concat (substr (y.lot, 1 ,6 ),'w07')
                           when w.wafer_suffix = 'w08' then concat (substr (y.lot, 1 ,6 ),'w08')
                           when w.wafer_suffix = 'w09' then concat (substr (y.lot, 1 ,6 ),'w09')
                           when w.wafer_suffix = 'w10' then concat (substr (y.lot, 1 ,6 ),'w10')
                           when w.wafer_suffix = 'w11' then concat (substr (y.lot, 1 ,6 ),'w11')
                           when w.wafer_suffix = 'w12' then concat (substr (y.lot, 1 ,6 ),'w12')
                           when w.wafer_suffix = 'w13' then concat (substr (y.lot, 1 ,6 ),'w13')
                           when w.wafer_suffix = 'w14' then concat (substr (y.lot, 1 ,6 ),'w14')
                           when w.wafer_suffix = 'w15' then concat (substr (y.lot, 1 ,6 ),'w15')
                           when w.wafer_suffix = 'w16' then concat (substr (y.lot, 1 ,6 ),'w16')
                           when w.wafer_suffix = 'w17' then concat (substr (y.lot, 1 ,6 ),'w17')
                           when w.wafer_suffix = 'w18' then concat (substr (y.lot, 1 ,6 ),'w18')
                           when w.wafer_suffix = 'w19' then concat (substr (y.lot, 1 ,6 ),'w19')
                           when w.wafer_suffix = 'w20' then concat (substr (y.lot, 1 ,6 ),'w20')
                           when w.wafer_suffix = 'w21' then concat (substr (y.lot, 1 ,6 ),'w21')
                           when w.wafer_suffix = 'w22' then concat (substr (y.lot, 1 ,6 ),'w22')
                           when w.wafer_suffix = 'w23' then concat (substr (y.lot, 1 ,6 ),'w23')
                           when w.wafer_suffix = 'w24' then concat (substr (y.lot, 1 ,6 ),'w24')
                           when w.wafer_suffix = 'w25' then concat (substr (y.lot, 1 ,6 ),'w25')
                           else NULL
                      end  wafer
                    , concat(
                                  case when y.w01  = 'S' then '01;'  else '' end
                                , case when y.w02  = 'S' then '02;'  else '' end
                                , case when y.w03  = 'S' then '03;'  else '' end
                                , case when y.w04  = 'S' then '04;'  else '' end
                                , case when y.w05  = 'S' then '05;'  else '' end
                                , case when y.w06  = 'S' then '06;'  else '' end
                                , case when y.w07  = 'S' then '07;'  else '' end
                                , case when y.w08  = 'S' then '08;'  else '' end
                                , case when y.w09  = 'S' then '09;'  else '' end
                                , case when y.w10  = 'S' then '10;'  else '' end
                                , case when y.w11  = 'S' then '11;'  else '' end
                                , case when y.w12  = 'S' then '12;'  else '' end
                                , case when y.w13  = 'S' then '13;'  else '' end
                                , case when y.w14  = 'S' then '14;'  else '' end
                                , case when y.w15  = 'S' then '15;'  else '' end
                                , case when y.w16  = 'S' then '16;'  else '' end
                                , case when y.w17  = 'S' then '17;'  else '' end
                                , case when y.w18  = 'S' then '18;'  else '' end
                                , case when y.w19  = 'S' then '19;'  else '' end
                                , case when y.w20  = 'S' then '20;'  else '' end
                                , case when y.w21  = 'S' then '21;'  else '' end
                                , case when y.w22  = 'S' then '22;'  else '' end
                                , case when y.w23  = 'S' then '23;'  else '' end
                                , case when y.w24  = 'S' then '24;'  else '' end
                                , case when y.w25  = 'S' then '25;'  else '' end
                          ) scrapped_waferids
                         , case when y.w01  = 'S' and w.wafer_suffix = 'w01' then concat (substr (y.lot, 1 ,6 ),'w01')
                                when y.w02  = 'S' and w.wafer_suffix = 'w02' then concat (substr (y.lot, 1 ,6 ),'w02')
                                when y.w03  = 'S' and w.wafer_suffix = 'w03' then concat (substr (y.lot, 1 ,6 ),'w03')
                                when y.w04  = 'S' and w.wafer_suffix = 'w04' then concat (substr (y.lot, 1 ,6 ),'w04')
                                when y.w05  = 'S' and w.wafer_suffix = 'w05' then concat (substr (y.lot, 1 ,6 ),'w05')
                                when y.w06  = 'S' and w.wafer_suffix = 'w06' then concat (substr (y.lot, 1 ,6 ),'w06')
                                when y.w07  = 'S' and w.wafer_suffix = 'w07' then concat (substr (y.lot, 1 ,6 ),'w07')
                                when y.w08  = 'S' and w.wafer_suffix = 'w08' then concat (substr (y.lot, 1 ,6 ),'w08')
                                when y.w09  = 'S' and w.wafer_suffix = 'w09' then concat (substr (y.lot, 1 ,6 ),'w09')
                                when y.w10  = 'S' and w.wafer_suffix = 'w10' then concat (substr (y.lot, 1 ,6 ),'w10')
                                when y.w11  = 'S' and w.wafer_suffix = 'w11' then concat (substr (y.lot, 1 ,6 ),'w11')
                                when y.w12  = 'S' and w.wafer_suffix = 'w12' then concat (substr (y.lot, 1 ,6 ),'w12')
                                when y.w13  = 'S' and w.wafer_suffix = 'w13' then concat (substr (y.lot, 1 ,6 ),'w13')
                                when y.w14  = 'S' and w.wafer_suffix = 'w14' then concat (substr (y.lot, 1 ,6 ),'w14')
                                when y.w15  = 'S' and w.wafer_suffix = 'w15' then concat (substr (y.lot, 1 ,6 ),'w15')
                                when y.w16  = 'S' and w.wafer_suffix = 'w16' then concat (substr (y.lot, 1 ,6 ),'w16')
                                when y.w17  = 'S' and w.wafer_suffix = 'w17' then concat (substr (y.lot, 1 ,6 ),'w17')
                                when y.w18  = 'S' and w.wafer_suffix = 'w18' then concat (substr (y.lot, 1 ,6 ),'w18')
                                when y.w19  = 'S' and w.wafer_suffix = 'w19' then concat (substr (y.lot, 1 ,6 ),'w19')
                                when y.w20  = 'S' and w.wafer_suffix = 'w20' then concat (substr (y.lot, 1 ,6 ),'w20')
                                when y.w21  = 'S' and w.wafer_suffix = 'w21' then concat (substr (y.lot, 1 ,6 ),'w21')
                                when y.w22  = 'S' and w.wafer_suffix = 'w22' then concat (substr (y.lot, 1 ,6 ),'w22')
                                when y.w23  = 'S' and w.wafer_suffix = 'w23' then concat (substr (y.lot, 1 ,6 ),'w23')
                                when y.w24  = 'S' and w.wafer_suffix = 'w24' then concat (substr (y.lot, 1 ,6 ),'w24')
                                when y.w25  = 'S' and w.wafer_suffix = 'w25' then concat (substr (y.lot, 1 ,6 ),'w25')
                                else NULL
                          end  scrap_wafer
                          , length(concat(
                                  case when y.w01  = 'G' then '01;'  else '' end
                                , case when y.w02  = 'G' then '02;'  else '' end
                                , case when y.w03  = 'G' then '03;'  else '' end
                                , case when y.w04  = 'G' then '04;'  else '' end
                                , case when y.w05  = 'G' then '05;'  else '' end
                                , case when y.w06  = 'G' then '06;'  else '' end
                                , case when y.w07  = 'G' then '07;'  else '' end
                                , case when y.w08  = 'G' then '08;'  else '' end
                                , case when y.w09  = 'G' then '09;'  else '' end
                                , case when y.w10  = 'G' then '10;'  else '' end
                                , case when y.w11  = 'G' then '11;'  else '' end
                                , case when y.w12  = 'G' then '12;'  else '' end
                                , case when y.w13  = 'G' then '13;'  else '' end
                                , case when y.w14  = 'G' then '14;'  else '' end
                                , case when y.w15  = 'G' then '15;'  else '' end
                                , case when y.w16  = 'G' then '16;'  else '' end
                                , case when y.w17  = 'G' then '17;'  else '' end
                                , case when y.w18  = 'G' then '18;'  else '' end
                                , case when y.w19  = 'G' then '19;'  else '' end
                                , case when y.w20  = 'G' then '20;'  else '' end
                                , case when y.w21  = 'G' then '21;'  else '' end
                                , case when y.w22  = 'G' then '22;'  else '' end
                                , case when y.w23  = 'G' then '23;'  else '' end
                                , case when y.w24  = 'G' then '24;'  else '' end
                                , case when y.w25  = 'G' then '25;'  else '' end
                          ))/3                                                                                                                         n_good_wafers
                          , concat(
                                  case when y.w01  = 'G' then '01;'  else '' end
                                , case when y.w02  = 'G' then '02;'  else '' end
                                , case when y.w03  = 'G' then '03;'  else '' end
                                , case when y.w04  = 'G' then '04;'  else '' end
                                , case when y.w05  = 'G' then '05;'  else '' end
                                , case when y.w06  = 'G' then '06;'  else '' end
                                , case when y.w07  = 'G' then '07;'  else '' end
                                , case when y.w08  = 'G' then '08;'  else '' end
                                , case when y.w09  = 'G' then '09;'  else '' end
                                , case when y.w10  = 'G' then '10;'  else '' end
                                , case when y.w11  = 'G' then '11;'  else '' end
                                , case when y.w12  = 'G' then '12;'  else '' end
                                , case when y.w13  = 'G' then '13;'  else '' end
                                , case when y.w14  = 'G' then '14;'  else '' end
                                , case when y.w15  = 'G' then '15;'  else '' end
                                , case when y.w16  = 'G' then '16;'  else '' end
                                , case when y.w17  = 'G' then '17;'  else '' end
                                , case when y.w18  = 'G' then '18;'  else '' end
                                , case when y.w19  = 'G' then '19;'  else '' end
                                , case when y.w20  = 'G' then '20;'  else '' end
                                , case when y.w21  = 'G' then '21;'  else '' end
                                , case when y.w22  = 'G' then '22;'  else '' end
                                , case when y.w23  = 'G' then '23;'  else '' end
                                , case when y.w24  = 'G' then '24;'  else '' end
                                , case when y.w25  = 'G' then '25;'  else '' end
                             )                                                                                                                         good_waferids
                         , case when y.w01  = 'G' and w.wafer_suffix = 'w01' then concat (substr (y.lot, 1 ,6 ),'w01')
                                when y.w02  = 'G' and w.wafer_suffix = 'w02' then concat (substr (y.lot, 1 ,6 ),'w02')
                                when y.w03  = 'G' and w.wafer_suffix = 'w03' then concat (substr (y.lot, 1 ,6 ),'w03')
                                when y.w04  = 'G' and w.wafer_suffix = 'w04' then concat (substr (y.lot, 1 ,6 ),'w04')
                                when y.w05  = 'G' and w.wafer_suffix = 'w05' then concat (substr (y.lot, 1 ,6 ),'w05')
                                when y.w06  = 'G' and w.wafer_suffix = 'w06' then concat (substr (y.lot, 1 ,6 ),'w06')
                                when y.w07  = 'G' and w.wafer_suffix = 'w07' then concat (substr (y.lot, 1 ,6 ),'w07')
                                when y.w08  = 'G' and w.wafer_suffix = 'w08' then concat (substr (y.lot, 1 ,6 ),'w08')
                                when y.w09  = 'G' and w.wafer_suffix = 'w09' then concat (substr (y.lot, 1 ,6 ),'w09')
                                when y.w10  = 'G' and w.wafer_suffix = 'w10' then concat (substr (y.lot, 1 ,6 ),'w10')
                                when y.w11  = 'G' and w.wafer_suffix = 'w11' then concat (substr (y.lot, 1 ,6 ),'w11')
                                when y.w12  = 'G' and w.wafer_suffix = 'w12' then concat (substr (y.lot, 1 ,6 ),'w12')
                                when y.w13  = 'G' and w.wafer_suffix = 'w13' then concat (substr (y.lot, 1 ,6 ),'w13')
                                when y.w14  = 'G' and w.wafer_suffix = 'w14' then concat (substr (y.lot, 1 ,6 ),'w14')
                                when y.w15  = 'G' and w.wafer_suffix = 'w15' then concat (substr (y.lot, 1 ,6 ),'w15')
                                when y.w16  = 'G' and w.wafer_suffix = 'w16' then concat (substr (y.lot, 1 ,6 ),'w16')
                                when y.w17  = 'G' and w.wafer_suffix = 'w17' then concat (substr (y.lot, 1 ,6 ),'w17')
                                when y.w18  = 'G' and w.wafer_suffix = 'w18' then concat (substr (y.lot, 1 ,6 ),'w18')
                                when y.w19  = 'G' and w.wafer_suffix = 'w19' then concat (substr (y.lot, 1 ,6 ),'w19')
                                when y.w20  = 'G' and w.wafer_suffix = 'w20' then concat (substr (y.lot, 1 ,6 ),'w20')
                                when y.w21  = 'G' and w.wafer_suffix = 'w21' then concat (substr (y.lot, 1 ,6 ),'w21')
                                when y.w22  = 'G' and w.wafer_suffix = 'w22' then concat (substr (y.lot, 1 ,6 ),'w22')
                                when y.w23  = 'G' and w.wafer_suffix = 'w23' then concat (substr (y.lot, 1 ,6 ),'w23')
                                when y.w24  = 'G' and w.wafer_suffix = 'w24' then concat (substr (y.lot, 1 ,6 ),'w24')
                                when y.w25  = 'G' and w.wafer_suffix = 'w25' then concat (substr (y.lot, 1 ,6 ),'w25')
                                else NULL
                          end                                                                                                                           good_wafer
                   from
                          mfg_icn8_data.nifi_scrap  y
                      join mfg_icn8_data.wafer_suffixes  w on 1=1
                  where
                          y.lot                     like   'c%'
                      and y.state                      = 'Scrap'
                       and y.scrap_cet_ts                &gt;= '${valid_from}'
                       and y.scrap_cet_ts                &lt;  '${valid_to}'
              ) WaferScrap on (WaferScrap.wafer = p.wafer )
            left join mfg_icn8_apps.sws_parameter_value_deviation spvd on
                                  (      spvd.parameter_type          = p.p_parameter_type
                                     and  spvd.aggregation_type        = p.p_aggregation_type
                                     and case when p.in_run_dimension is not NULL then p.in_run_dimension else 'X' end
                                          = case when p.in_run_dimension is not NULL then spvd.in_run_dimension else 'X'    end
                                     and  spvd.program                 = p.program
                                     and  spvd.parameter               = p.parameter
                                     and  spvd.process                 = p.process
                                     and  spvd.technical_stage         = p.technical_stage
                                     and  spvd.flowstage               = p.flowstage
                                     and  spvd.step                    = p.step
                                     and  spvd.template_recipe         = p.template_recipe
                                     and  case when p.component is not NULL then p.component else 'X' end
                                                 = case when p.component is not NULL then spvd.component else 'X' end
                                     and  case when p.ttn_sub_recipe is not NULL then p.ttn_sub_recipe else 'X' end
                                                 = case when p.ttn_sub_recipe is not NULL then spvd.ttn_sub_recipe else 'X' end
                                     and  case when p.ttn_recipe_process_step is not NULL then p.ttn_recipe_process_step else 'X' end
                                                 = case when p.ttn_recipe_process_step is not NULL then spvd.ttn_recipe_process_step else 'X' end
                              )
        where      
                  substr(p.wafer,1,6) in ${sws_lots}
              and (    (     p.p_parameter_type   in ('TRACING_COMP', 'DIAMOND_TIMES', 'TEMPTATION' ) 
                         and p.p_aggregation_type  = 'waf'
                       )
                    or (     p.p_parameter_type   in ('EDC', 'PCM', 'TEMPTATION' ) 
                         and p.p_aggregation_type  = 'waf_avg'
                       )
                  )
              and (    p.p_parameter_type &lt;&gt; 'DIAMOND_TIMES'
                    or p.parameter        not in ('IDLE_TIME', 'DOWN_TIME')
                  )
              and p.loh_trackout_cet_ts    &lt; WaferScrap.scrap_cet_ts
              and p.loh_trackout_cet_ts    &lt; '${valid_to}'
              and p.p_from_trackout_cet_ts &lt; '${valid_to}'
 group by
        cast( p.loh_key as int)
      ,  waferscrap.lot  
      , p.process
      , p.product
      , p.step_num_wafers
      , p.technical_stage
      , p.flowstage
      , p.step
      , p.equipment
      , p.loh_trackout_cet_ts
      , WaferScrap.scrap_key
      , WaferScrap.scrap_type
      , waferscrap.scrap_code
      , WaferScrap.cause_code
      , WaferScrap.section_cause_code
      , WaferScrap.esort_scrap_code
      , waferscrap.maverick
      , waferscrap.cause_contained
      , waferscrap.incident
      , WaferScrap.detailed_description
      , waferscrap.proc_key
      , waferscrap.rec_owner
      , waferscrap.ccd_description
      , WaferScrap.num_wafers 
      , WaferScrap.scrapped_waferids
      , case when WaferScrap.good_flag &gt; 0 then 'ScrapGood' else 'ScrapAll' end 
      , WaferScrap.good_waferids
      , case when p.p_parameter_type  like 'TRACING_COMP%' then ' '
             when p.p_parameter_type  like 'DIAMOND%'    then concat(p.program , '_', p.parameter,'_',p.in_run_dimension,'-',p.component)
             when p.p_parameter_type  like 'EDC%'        then concat(p.program , '_', p.parameter)
             when p.p_parameter_type  like 'PCM%'        then concat(p.program , '_', p.parameter)
             when p.p_parameter_type  like 'TEMPTATION%' then case when p.in_run_dimension = 'sbr_rps' then concat(p.parameter,'_',p.in_run_dimension,'-',p.ttn_recipe_process_step , '-' ,p.ttn_sub_recipe )
             else  concat(p.parameter,'_',p.in_run_dimension,'-',p.ttn_recipe_process_step , '-' , p.ttn_sub_recipe, '-', p.component )
                                                         end
        end
      ,  case when p.p_parameter_type  like 'DIAMOND%'         then 'DIAMOND' 
             when p.p_parameter_type  like 'TRACING_COMP%'    then 'TRACING'
             else p.p_parameter_type end          
      , p.component
      , p.step_num_wafers
      , waferscrap.scrap_type
      , waferscrap.state
      , waferscrap.proc_state
      , waferscrap.scrap_cet_ts
      , waferscrap.terminate_cet_ts 
      , waferscrap.admin_scrap_cet_ts
      , waferscrap.suspect_technical_stage
      , waferscrap.suspect_flow_stage
      , waferscrap.suspect_step
     , waferscrap.suspect_eqp
) aaa
  where outlier = '1_full outlier'
    and num_bad           &gt;=num_wafers
    and (object_type = 'TRACING' 
         or   distance + 0 &gt; case
                             when num_wafers = 1  then 2
                             when num_wafers = 2  then 1
                              else 0
                            end
    )
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/SWS/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_from_scrap_cet_ts=', CAST (p_from_scrap_cet_ts as string),
    '/p_to_scrap_cet_ts=', CAST (p_to_scrap_cet_ts as string)
    ) as par
    FROM ${prod_table}
    WHERE 1=1 
    AND  cast (p_from_scrap_cet_ts as timestamp) &lt; '${valid_to}'  
    AND  cast (p_to_scrap_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_to_scrap_cet_ts,  p_from_scrap_cet_ts
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_from_scrap_cet_ts=', CAST (p_from_scrap_cet_ts as string),
    '/p_to_scrap_cet_ts=', CAST (p_to_scrap_cet_ts as string)
    ) as par
    FROM ${staging_table}
    GROUP BY p_to_scrap_cet_ts,  p_from_scrap_cet_ts
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>SWS - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>ce4de929-0b1f-37d5-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9062.684812294649</x>
<y>-8.234108318601102</y>
                            </position>
                            <versionedComponentId>ce4de929-0b1f-37d5-bd3d-c2957ad6d6a1</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Base Qualifications Tracing Comp trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ Tracing Comp - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>cf521920-0b16-3003-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14717.821026266192</x>
<y>550.3842119347092</y>
                            </position>
                            <versionedComponentId>cf521920-0b16-3003-a38a-80456022665a</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "TEST" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/Test/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/Test/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'EDC', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = 'EDC' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/Test/q4/InsStgTab

alter table ${staging_table} drop partition (p_parameter_type = 'EDC');

-- ICN8/NiFi/Test/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , loh_trackout_cet_ts
  , lot
  , process
  , process_speed
  , product
  , lot_priority
  , lot_type
  , material_batch
  , start_material
  , wafer_info
  , slot
  , step_valid_from_cet_ts
  , step_valid_to_cet_ts
  , step_trackin_cet_ts
  , step_trackout_cet_ts
  , step_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment
  , equipment_type
  , template_recipe
  , recipe
  , proc_equipment
  , proc_cet_ts
  , proc_step
  , proc_template_recipe
  , proc_recipe
  , program
  , parameter
  , in_run_dimension
  , component
  , ttn_sub_recipe
  , ttn_recipe_process_step
  , meas_cet_ts
  , wafer
  , site
  , x
  , y
  , measured_value
  , num_obs
  , lower_control_limit
  , upper_control_limit
  , target_control_limit
  , lower_spec_limit
  , upper_spec_limit
  , lower_nonsense_limit
  , upper_nonsense_limit
  , btf_key
  , lot_std_fmt
  , wafer_std_fmt
  )
partition
  ( p_parameter_type
  , p_aggregation_type
  , p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , loh_trackout_cet_ts
    , lot
    , process
    , process_speed
    , product
    , lot_priority
    , lot_type
    , material_batch
    , start_material
    , wafer_info
    , slot
    , step_valid_from_cet_ts
    , step_valid_to_cet_ts
    , step_trackin_cet_ts
    , step_trackout_cet_ts
    , step_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment
    , equipment_type
    , template_recipe
    , recipe
    , proc_equipment
    , proc_cet_ts
    , proc_step
    , proc_template_recipe
    , proc_recipe
    , program
    , parameter
    , in_run_dimension
    , component
    , ttn_sub_recipe
    , ttn_recipe_process_step
    , meas_cet_ts
    , wafer
    , site
    , x
    , y
    , measured_value
    , num_obs
    , lower_control_limit
    , upper_control_limit
    , target_control_limit
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , btf_key
    , lot_std_fmt
    , wafer_std_fmt
    , p_parameter_type
    , p_aggregation_type
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
      ${prod_table}
    where
                   p_parameter_type                           =  'EDC'
          and      cast (p_from_trackout_cet_ts as timestamp) &lt;  '${valid_to}'
          and      cast (p_to_trackout_cet_ts   as timestamp) &gt;  '${valid_from}'
          and (    loh_trackout_cet_ts                        &lt;  '${valid_from}'
                or loh_trackout_cet_ts                        &gt;= '${valid_to}'
              )
  union all
    select
      'ICN8'                                                                                             fab
    , edc.meas_loh_key
    , edc.meas_loh_trackout_cet_ts
    , min (nvl (bws.lot                   , edc.lot))                                                    lot
    , min (nvl (bws.process               , 'None' ))                                                    process
    , min (nvl (bws.process_speed         , 'None' ))                                                    process_speed
    , min (nvl (bws.product               , 'None' ))                                                    product
    , min (nvl (bws.lot_priority          , 'None' ))                                                    lot_priority
    , min (nvl (bws.lot_type              , 'None' ))                                                    lot_type
    , min (nvl (bws.material_batch        , 'None' ))                                                    material_batch
    , min (nvl (bws.start_material        , 'None' ))                                                    start_material
    , min (nvl (bws.wafer_type            , 'None' ))                                                    wafer_info
    , min (cast(bws.slot as integer                ))                                                    slot_nr
    , min (     bws.step_start_cet_ts               )                                                    step_valid_from_dt
    , min (     bws.step_close_cet_ts               )                                                    step_valid_to_dt
    , min (     bws.trackin_cet_ts                  )                                                    step_trackin_dt
    , min (     bws.trackout_cet_ts                 )                                                    step_trackout_dt
    , min (     bws.loc_num_wafers                  )                                                    step_nr_wafers
    , min (nvl (bws.technical_stage       , 'None' ))                                                    technical_stage
    , min (nvl (bws.flowstage             , 'None' ))                                                    flow_stage
    , min (nvl (bws.step                  , 'None' ))                                                    step
    /* 2020-05-08 FvH: Use measurement equipment from nifi_metrology_raw instead of nifi_wafer_production_steps, because for some measurements, the loh_key was
                       not properly determined:
    */
    ,      nvl (edc.meas_equipment        , 'None' )                                                     equipment
    , min (nvl (bws.equipment_type        , 'None' ))                                                    equipment_type
    , min (nvl (bws.template_recipe       , 'None' ))                                                    template_recipe
    , min (nvl (bws.recipe                , 'None' ))                                                    recipe
    ,      nvl (edc.proc_equipment        , 'None' )                                                     proc_equipment
    , min (proc_bws.trackout_cet_ts                 )                                                    proc_cet_ts
    , min (nvl (proc_bws.step             , 'None' ))                                                    proc_step
    , min (nvl (proc_bws.template_recipe  , 'None' ))                                                    proc_template_recipe
    , min (nvl (proc_bws.recipe           , 'None' ))                                                    proc_recipe
    , edc.program
    , edc.parameter
    , null                                                                                               in_run_dimension
    , null                                                                                               comp
    , null                                                                                               subrcp
    , null                                                                                               rcpstp
      /* When aggregating the measurements of several wafers within a lot, take the highest measurement_dt of the individual wafers: */
    , case   /* Added 2020-04-23 for raw measurements. Is this appropriate for lot/waf aggregations too? */
        when edc.lot = 'Offline'
        then edc.meas_ref_cet_ts
        else edc.meas_cet_ts
      end                                                                                                meas_cet_ts
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or substr (mref.aggregation_type, 1, 4) = 'site'
        then edc.obs_wafer
      end                                                                                                wafer
    , case
        when substr (mref.aggregation_type, 1, 4) = 'site'
        then edc.obs_site
      end                                                                                                site
    , null                                                                                               x
    , null                                                                                               y
    , case
        when mref.aggregation_type like '%min'   then min    (edc.obs_value    )
        when mref.aggregation_type like '%max'   then max    (edc.obs_value    )
        when mref.aggregation_type like '%avg'   then avg    (edc.obs_value    )
        when mref.aggregation_type like '%std'   then stddev (edc.obs_value    )
        else                                          min    (edc.obs_value    )  /* Raw measurement: the min() of exactly 1 record */
      end                                                                                                measured_value
    , count (*)                                                                                          num_obs
    , edc.lower_control_limit                                                                            lower_control_limit
    , edc.upper_control_limit                                                                            upper_control_limit
    , edc.target_control_limit                                                                           target_control_limit
    , edc.lower_spec_limit                                                                               lower_spec_limit
    , edc.upper_spec_limit                                                                               upper_spec_limit
    , edc.lower_nonsense_limit                                                                           lower_nonsense_limit
    , edc.upper_nonsense_limit                                                                           upper_nonsense_limit
    , min (bws.btf_key)                                                                                  btf_key
    , substr(min (nvl (upper (bws.lot), edc.lot)),1,6)                                                   lot_std_fmt
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or substr (mref.aggregation_type, 1, 4) = 'site'
        then substr (upper (edc.obs_wafer), -2, 2)
      end                                                                                                wafer_std_fmt
    , 'EDC'                                                                                              p_parameter_type
    , mref.aggregation_type                                                                              p_aggregation_type
    , from_timestamp (           edc.meas_loh_trackout_cet_ts    , 'yyyy-MM-dd')                         p_from_trackout_dt
    , from_timestamp ( date_add (edc.meas_loh_trackout_cet_ts, 1), 'yyyy-MM-dd')                         p_to_trackout_dt
    , ''                                                                                                 p_loh_suffix
    from
                mfg_icn8_data.nifi_metrology_raw                edc
           join mfg_icn8_apps.base_parameter_type_levels        mref     on (                mref.parameter_type    = 'EDC'
                                                                              and            mref.aggregation_type in ('site', 'lot', 'waf_avg')
                                                                              and (    (     mref.aggregation_type  = 'site'
                                                                                         and edc.obs_wafer         &lt;&gt; '-'
                                                                                       )
                                                                                    or (     mref.aggregation_type  = 'lot'
                                                                                         and edc.obs_wafer          = '-'
                                                                                       )
                                                                                    or (     mref.aggregation_type  = 'waf_avg'
                                                                                         and edc.obs_wafer         &lt;&gt; '-'
                                                                                       )
                                                                                  )
                                                                            )
      left join mfg_icn8_apps.nifi_base_wafer_production_steps  bws      on (     bws.lot                          = edc.lot
                                                                              and bws.wafer_rank                   = 1
                                                                              and bws.loh_key                      = edc.meas_loh_key
                                                                              and bws.trackout_cet_ts              = edc.meas_loh_trackout_cet_ts
  				     												         and bws.p_to_trackout_cet_ts         &gt; '${valid_from}'
  					     												     and bws.p_from_trackout_cet_ts       &lt; '${valid_to}'
  						     											     and bws.trackout_cet_ts             &gt;= '${valid_from}'
  							     										     and bws.trackout_cet_ts              &lt; '${valid_to}'
                                                                            )
      left join mfg_icn8_apps.nifi_base_wafer_production_steps  proc_bws on (     proc_bws.lot                     = edc.lot
                                                                              and proc_bws.wafer_rank              = 1
                                                                              and proc_bws.loh_key                 = edc.proc_loh_key
                                                                              and proc_bws.trackout_cet_ts         = edc.proc_loh_trackout_cet_ts
  					                                                          and proc_bws.p_to_trackout_cet_ts    &gt; from_timestamp (add_months ('${valid_from}'    , -2), 'yyyy-MM-dd HH:mm:ss') 
  							                                                  and proc_bws.p_from_trackout_cet_ts  &lt; from_timestamp (add_months ('${valid_to}'      ,  1), 'yyyy-MM-dd HH:mm:ss') /* 2022-03-09 FvH: '${valid_to  }' --&gt; '${valid_to}' to fix missing proc step data */
                                                                           )
    where
          edc.p_to_trackout_cet_ts      &gt; '${valid_from}'
      and edc.p_from_trackout_cet_ts    &lt; '${valid_to}'
      and edc.meas_loh_trackout_cet_ts &gt;= '${valid_from}'
      and edc.meas_loh_trackout_cet_ts  &lt; '${valid_to}'
and 1=0
   group by
      edc.meas_loh_key
    , edc.meas_loh_trackout_cet_ts
    /* 2020-04-29: Equipment and proc-equipment are needed in the GROUP BY because sometimes a pre-measurement is linked to the wrong LOH_KEY
                   This happens because for pre-measurements, a LOH on the measurement equipment cannot always be found. Therefore, in BRS,
                   the LOH_KEY for pre-measurements is searched without taking the measurement equipment into account
    */
    , nvl (edc.meas_equipment, 'None' )
    , nvl (edc.proc_equipment, 'None' )
    , edc.program
    , edc.parameter
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or substr (mref.aggregation_type, 1, 4) = 'site'
        then edc.obs_wafer
      end                                          
    , case
        when substr (mref.aggregation_type, 1, 4) = 'site'
        then edc.obs_site
      end                                         
    , edc.lower_control_limit
    , edc.upper_control_limit
    , edc.target_control_limit
    , edc.lower_spec_limit                                                                          
    , edc.upper_spec_limit                                                                        
    , edc.lower_nonsense_limit                                                                    
    , edc.upper_nonsense_limit
    , mref.aggregation_type                                        
    , from_timestamp (          bws.trackout_cet_ts    , 'yyyy-MM-dd')                                   
    , from_timestamp (date_add (bws.trackout_cet_ts, 1), 'yyyy-MM-dd')
    , ''
    , case   /* Added 2020-04-23 for raw measurements. Is this appropriate for lot/waf aggregations too? */
        when edc.lot = 'Offline'
        then edc.meas_ref_cet_ts
        else edc.meas_cet_ts
      end
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf' or substr (mref.aggregation_type, 1, 4) = 'site'
        then substr (upper (edc.obs_wafer), -2, 2)
      end
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/Test/q5/AnalyStg

REFRESH ${staging_table};

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = 'EDC' 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast ( p_to_trackout_cet_ts  as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = 'EDC'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Test - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>d08d94d8-9ac7-3a32-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>14733.991741598224</x>
<y>-262.7130046714309</y>
                            </position>
                            <versionedComponentId>d08d94d8-9ac7-3a32-a984-086b5750c075</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "TEST", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* inner_partition: the name of the innermost partition of the partition tree. Needed for the new partition swap script.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they 
 are actually moved to the destination table.
* swap_main_partition: the part of the partition tree that will remain fixed when swapping partitions (= "sub-table")
* use_new_swap_script_yn: If "Y", the improved swap script swap_partitions_new.sh is used for files of this type.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>TEST</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8_temp.db/nifi_bq_test</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_temp.nifi_bq_test</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8_temp.db/nifi_stg_bq_test</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_temp.nifi_stg_bq_test</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=EDC</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Test - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>d1e7f36c-0c0b-37fb-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2584.8140284026786</x>
<y>-925.7690557261191</y>
                            </position>
                            <versionedComponentId>d1e7f36c-0c0b-37fb-a6c5-d9130a4ef147</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
    </entry>
    <entry>
        <key>log-message</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>d236a919-d2ac-3310-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6111.263292954532</x>
<y>628.4402825301057</y>
                            </position>
                            <versionedComponentId>d236a919-d2ac-3310-a458-9050689ab5b4</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Diamond Components" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>-- ICN8/NiFi/Ged/q1/ConfExtTab

REFRESH ${external_table};
</value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/Ged/q2/ValExtTab

refresh ${external_table};

select
  case
    when count(*) = 0
    then 'isFalse'
    else 'isTrue'
  end                  isvalid
from 
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/Ged/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (coalesce (p_dummy_partition, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/Ged/q4/InsStgTab

refresh ${external_table};

truncate table ${staging_table};

-- ICN8/NiFi/Ged/q4/InsStgTab
insert into
  ${staging_table}
partition
  (p_dummy_partition)
select
  FINAL_CATEGORY
, FINAL_STEP
, FINAL_RECIPE
, STEP_ADDON
, RECIPE_ADDON
, COMBINATION_NUMBER
, PROCESS
, TECHNICAL_STAGE
, FLOWSTAGE
, STEP
, TEMPLATE_RECIPE
, EQUIPMENT_TYPE
, HISTORICAL_COMMON_STEP
, HISTORICAL_COMMON_TEMPLATE_RECIPE
, COMMON_STEP
, COMMON_STEP_ALL_PROCESSES
, PASS_PATH_TEMPLATE_RECIPE
, N_LOT
, COLS_SAME
, COLS_DIFF
, LOTS_MISSING
, LOTS
, LOTS_DUPLICATE
, STEP_TYPE
, CHECK_OK
, CHECK_REMARK
, DIFF_EQP
, COMMON_TECHNICAL_STAGE
, COMMON_FLOWSTAGE
, 'DUMMY'                         p_dummy_partition
from
  ${external_table}
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/Ged/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    'p_dummy_partition=DUMMY' as par
    
    UNION ALL
    
    SELECT 
    2 as source, 
    'p_dummy_partition=DUMMY' as par
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Generic dimensions - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>d4d623cf-abf6-38c3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10851.246412297802</x>
<y>-22.901896372529677</y>
                            </position>
                            <versionedComponentId>d4d623cf-abf6-38c3-bce0-4e793ec4f67c</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the PMI-View Progress Dims trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PMI-View Progress Dims - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>d4eba757-c4d2-3c84-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2732.3008793194294</x>
<y>-241.2563221295792</y>
                            </position>
                            <versionedComponentId>d4eba757-c4d2-3c84-826a-25985bc5ba89</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "E3 UVA", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* landingzone: the HDFS location where the file contents are put for importing.
* landingzone-final: the HDFS location where the original file is put once it has been loaded.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>
            <name>external_table</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>
            <name>landingzone</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>
            <name>override_hist_data_route_yn</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>external_table</key>
        <value>mfg_icn8_staging.nifi_imp_e3_uva</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>landingzone</key>
        <value>/landing-zone/icn8/nifi/e3_uva/import</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/e3_uva/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>E3_UVA</value>
    </entry>
    <entry>
        <key>override_hist_data_route_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_data/nifi_e3_uva</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_e3_uva</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_e3_uva</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_e3_uva</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>E3 UVA - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>da5fbca6-367a-38de-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11288.196037043745</x>
<y>593.1158354935501</y>
                            </position>
                            <versionedComponentId>da5fbca6-367a-38de-93ae-acd20e798283</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Base Qualifications TEMPTATION" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/BQTempt/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BQTempt/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'TEMPTATION', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = 'TEMPTATION' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/BQTempt/q4/InsStgTab

alter table ${staging_table} drop partition (p_parameter_type = 'TEMPTATION');

-- ICN8/NiFi/BQTempt/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , loh_trackout_cet_ts
  , lot
  , lot_std_fmt
  , process
  , process_speed
  , product
  , lot_priority
  , lot_type
  , material_batch
  , start_material
  , wafer_info
  , slot
  , step_valid_from_cet_ts
  , step_valid_to_cet_ts
  , step_trackin_cet_ts
  , step_trackout_cet_ts
  , step_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment
  , equipment_type
  , template_recipe
  , recipe
  , proc_equipment
  , proc_cet_ts
  , program
  , parameter
  , in_run_dimension
  , component
  , ttn_sub_recipe
  , ttn_recipe_process_step
  , meas_cet_ts
  , wafer
  , wafer_std_fmt
  , site
  , x
  , y
  , measured_value
  , num_obs
  , lower_control_limit
  , upper_control_limit
  , target_control_limit
  , lower_spec_limit
  , upper_spec_limit
  , lower_nonsense_limit
  , upper_nonsense_limit
  , btf_key
  , event
  )
partition
  ( p_parameter_type
  , p_aggregation_type
  , p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , loh_trackout_cet_ts
    , lot
	, lot_std_fmt
    , process
    , process_speed
    , product
    , lot_priority
    , lot_type
    , material_batch
    , start_material
    , wafer_info
    , slot
    , step_valid_from_cet_ts
    , step_valid_to_cet_ts
    , step_trackin_cet_ts
    , step_trackout_cet_ts
    , step_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment
    , equipment_type
    , template_recipe
    , recipe
    , proc_equipment
    , proc_cet_ts
    , program
    , parameter
    , in_run_dimension
    , component
    , ttn_sub_recipe
    , ttn_recipe_process_step
    , meas_cet_ts
    , wafer
	, wafer_std_fmt
    , site
    , x
    , y
    , measured_value
    , num_obs
    , lower_control_limit
    , upper_control_limit
    , target_control_limit
    , lower_spec_limit
    , upper_spec_limit
    , lower_nonsense_limit
    , upper_nonsense_limit
    , btf_key
    , event
    , p_parameter_type
    , p_aggregation_type
    /* , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts */
    /* , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts   */
    /* 2021-07-06 FvH: For Temptation, use 6 hour partitions instead of 1 day partitions: */
    , from_unixtime (cast (floor    (extract (loh_trackout_cet_ts, 'EPOCH')      / (6*60*60)) * (6*60*60) as bigint))  p_from_trackout_cet_ts
    , from_unixtime (cast (ceiling ((extract (loh_trackout_cet_ts, 'EPOCH') + 1) / (6*60*60)) * (6*60*60) as bigint))  p_to_trackout_cet_ts
    , p_loh_suffix
    from
           ${prod_table}
    where
               p_parameter_type                            = 'TEMPTATION'  /* 2024-01-15 FvH: E3/E3_UVA were removed */
      and      cast (p_from_trackout_cet_ts as timestamp)  &lt; '${valid_to}'
      and      cast (p_to_trackout_cet_ts   as timestamp)  &gt; '${valid_from}'
      and (    loh_trackout_cet_ts                         &lt; '${valid_from}'
            or loh_trackout_cet_ts                        &gt;= '${valid_to}'
         )
  union all
    select
      'ICN8'                                                                 fab
    , ttt.loh_key
    , substr (ttt.loh_trackout_cet_ts, 1,19)                                 loh_trackout_cet_ts
    , min (nvl (bws.lot                   , ttt.lot))                        lot
	, upper(left(min (nvl (bws.lot        , ttt.lot)),6))				     lot_std_fmt
    , min (nvl (bws.process               , 'None' ))                        process
    , min (nvl (bws.process_speed         , 'None' ))                        process_speed
    , min (nvl (bws.product               , 'None' ))                        product
    , min (nvl (bws.lot_priority          , 'None' ))                        lot_priority
    , min (nvl (bws.lot_type              , 'None' ))                        lot_type
    , min (nvl (bws.material_batch        , 'None' ))                        material_batch
    , min (nvl (bws.start_material        , 'None' ))                        start_material
    , min (nvl (bws.wafer_type            , 'None' ))                        wafer_info
    , min (     bws.slot                            )                        slot_nr
    , min (     bws.step_start_cet_ts               )                        step_valid_from_dt
    , min (     bws.step_close_cet_ts               )                        step_valid_to_dt
    , min (     bws.trackin_cet_ts                  )                        step_trackin_dt
    , min (     bws.trackout_cet_ts                 )                        step_trackout_dt
    , min (     bws.loc_num_wafers                  )                        step_nr_wafers
    , min (nvl (bws.technical_stage       , 'None' ))                        technical_stage
    , min (nvl (bws.flowstage             , 'None' ))                        flow_stage
    , min (nvl (bws.step                  , 'None' ))                        step
    ,      nvl (ttt.equipment             , 'None' )                         equipment
    , min (nvl (bws.equipment_type        , 'None' ))                        equipment_type
    , min (nvl (bws.template_recipe       , 'None' ))                        template_recipe
    , min (nvl (bws.recipe                , 'None' ))                        recipe
    , null                                                                   proc_equipment
    , null                                                                   proc_cet_ts
    , null                                                                   program
    , ttt.parameter                                                          parameter
    , ptl.in_run_dimension                                                   in_run_dimension
    , case
        when ptl.in_run_dimension like '%cmp%'
        then ttt.sub_equipment
        else null
      end                                                                    comp
    , case
        when ptl.in_run_dimension like '%sbr%'
        then ttt.sub_recipe
        else null
       end                                                                   subrcp
    , case
        when ptl.in_run_dimension like '%rps%'
        then ttt.recipe_process_step
        else null
       end                                                                   rcpstp
       /* When aggregating the different measurements of 1 wafer or 1 lot, take the lowest measurement_dt of the individual measurements: */
    , min (ttt.meas_cet_ts)                                                  meas_cet_ts
    , case
        when ptl.aggregation_type like 'waf%'
        then case when ttt.wafer = '&lt;none&gt;' then bws.wafer else ttt.wafer end
        else null
      end                                                                    wafer
	, case
        when ptl.aggregation_type like 'waf%'
        then right(case when ttt.wafer = '&lt;none&gt;' then bws.wafer else ttt.wafer end,2)
        else null															 
      end                                                                    wafer_std_fmt
    , null                                                                   site
    , null                                                                   x
    , null                                                                   y
    , case
        when ptl.aggregation_type like '%avg' then avg    (ttt.obs_value)
        when ptl.aggregation_type like '%std' then stddev (ttt.obs_value)
        when ptl.aggregation_type like '%min' then min    (ttt.obs_value)
        when ptl.aggregation_type like '%max' then max    (ttt.obs_value)
        else                                       min    (ttt.obs_value)
      end                                                                    measured_value
    , count (*)                                                              num_obs
    , null                                                                   lower_control_limit
    , null                                                                   upper_control_limit
    , null                                                                   target_control_limit
    , null                                                                   lower_spec_limit
    , null                                                                   upper_spec_limit
    , null                                                                   lower_nonsense_limit
    , null                                                                   upper_nonsense_limit
    , min (bws.btf_key)                                                      btf_key
    , case
        when ptl.aggregation_type in ('lot', 'waf', 'site')
        then cast (min (ttt.event) as string)
        else null
      end                                                                    event
    , 'TEMPTATION'                                                           p_parameter_type
    , ptl.aggregation_type                                                   p_aggregation_type
    /* , from_timestamp (           ttt.loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_dt */
    /* , from_timestamp ( date_add (ttt.loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_dt   */
    /* 2021-07-06 FvH: For Temptation, use 6 hour partitions instead of 1 day partitions: */
    , from_unixtime (cast (floor    (extract (ttt.loh_trackout_cet_ts, 'EPOCH')      / (6*60*60)) * (6*60*60) as bigint))  p_from_trackout_cet_ts
    , from_unixtime (cast (ceiling ((extract (ttt.loh_trackout_cet_ts, 'EPOCH') + 1) / (6*60*60)) * (6*60*60) as bigint))  p_to_trackout_cet_ts
    , ''                                                                     p_loh_suffix
    from
                mfg_icn8_data.nifi_Temptation_sum               ttt
      left join mfg_icn8_apps.nifi_base_wafer_production_steps  bws on (     bws.lot                                    = ttt.lot
                                                                         and (    bws.wafer                             = ttt.wafer
                                                                               or lower(ttt.wafer)                      like '%none%'
                                                                             )
                                                                         and bws.loh_key                                = ttt.loh_key
                                                                         and substr (bws.trackout_cet_ts, 1, 19)        = substr (ttt.loh_trackout_cet_ts, 1, 19)
                                                                         and bws.p_to_trackout_cet_ts                   &gt; '${valid_from}'
                                                                         and bws.p_from_trackout_cet_ts                 &lt; '${valid_to}'
                                                                         and bws.trackout_cet_ts                       &gt;= '${valid_from}'
                                                                         and bws.trackout_cet_ts                        &lt; '${valid_to}'
                                                                       )
           join mfg_icn8_apps.base_parameter_type_levels        ptl on (     ptl.parameter_type                         = 'TEMPTATION'
                                                                         and ptl.active_yn                              = 'Y'
                                                                         and ptl.aggregation_type                not like '%q1'
                                                                         and ptl.aggregation_type                not like '%q2'
                                                                         and ptl.aggregation_type                not like '%q3'
                                                                       )
    where
          ttt.p_to_trackout_cet_ts    &gt; '${valid_from}'
      and ttt.p_from_trackout_cet_ts  &lt; '${valid_to}'
      and ttt.loh_trackout_cet_ts    &gt;= '${valid_from}'
      and ttt.loh_trackout_cet_ts     &lt; '${valid_to}'
   group by
      ttt.loh_key
    , ttt.loh_trackout_cet_ts
    , nvl (ttt.equipment, 'None')
    , ttt.parameter
    , ptl.in_run_dimension
    , case
        when ptl.in_run_dimension like '%cmp%'
        then ttt.sub_equipment
        else null
      end
    , case
        when ptl.in_run_dimension like '%sbr%'
        then ttt.sub_recipe
        else null
       end
    , case
        when ptl.in_run_dimension like '%rps%'
        then ttt.recipe_process_step
        else null
       end
    , case
        when ptl.aggregation_type like 'waf%'
        then case when ttt.wafer = '&lt;none&gt;' then bws.wafer else ttt.wafer end
        else null
      end
	, case
        when ptl.aggregation_type like 'waf%'
        then right(case when ttt.wafer = '&lt;none&gt;' then bws.wafer else ttt.wafer end,2)
        else null
      end
    , case
        when ptl.aggregation_type = 'waf'
        then ttt.meas_cet_ts
        else null
      end
    , case
        when ptl.aggregation_type = 'waf'
        then ttt.event
        else null
      end
    , ptl.aggregation_type
    , from_timestamp (           ttt.loh_trackout_cet_ts    , 'yyyy-MM-dd')
    , from_timestamp ( date_add (ttt.loh_trackout_cet_ts, 1), 'yyyy-MM-dd')
;
</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/BQTempt/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts='  , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = 'TEMPTATION'
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', replace (p_from_trackout_cet_ts, ':', '%3A'),
    '/p_to_trackout_cet_ts='  , replace (p_to_trackout_cet_ts  , ':', '%3A'),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = 'TEMPTATION'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ TEMPTATION - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>e0fac7fc-b132-398b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9930.496473332958</x>
<y>-253.73096951594835</y>
                            </position>
                            <versionedComponentId>e0fac7fc-b132-398b-9bb8-a8a06f00a4b8</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Base Qualifications OVL", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>
            <name>inner_partition</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>
            <name>swap_main_partition</name>
        </value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>
            <name>use_new_swap_script_yn</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>Y</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>inner_partition</key>
        <value>p_loh_suffix</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>BASE_QUALIFICATIONS_OVL</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_base_qualifications</value>
    </entry>
    <entry>
        <key>swap_main_partition</key>
        <value>/p_parameter_type=Overlay</value>
    </entry>
    <entry>
        <key>use_new_swap_script_yn</key>
        <value>Y</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ OVL - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>e1e79ded-f572-3163-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>1895.0947630232852</x>
<y>-9.188297336556047</y>
                            </position>
                            <versionedComponentId>e1e79ded-f572-3163-ae90-b3de890f0b58</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Temptation-sum file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Temptation sum - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>e6c808fa-6a4e-3468-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>8155.717725774364</x>
<y>219.09841347604902</y>
                            </position>
                            <versionedComponentId>e6c808fa-6a4e-3468-8518-7568b780332f</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "BASE_QUALIFICATIONS_PCM" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous BQ PCM aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>e9d2eadf-aa6b-3905-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>11273.183749821326</x>
<y>-15.358349352182927</y>
                            </position>
                            <versionedComponentId>e9d2eadf-aa6b-3905-92b8-6a84e074752e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Base Qualifications TEMPTATION trigger file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ TEMPTATION - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>ea452dba-d1ee-3b2b-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>6890.821172879475</x>
<y>-231.92188322579466</y>
                            </position>
                            <versionedComponentId>ea452dba-d1ee-3b2b-addb-6a632488cd39</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "Defectivity Raw", define several properties that will be used in the remainder of the flow:
* alternative_load_script: the script that should be called to load the file.
* alternative_load_script_arguments: the arguments to be passed to the script.
* logtype: the data type that will be used in the NiFi logging.
* token_needed = "N": several files of this type can be loaded at the same time. No token is needed before loading can start

</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>
            <name>alternative_load_script</name>
        </value>
    </entry>
    <entry>
        <key>alternative_load_script_arguments</key>
        <value>
            <name>alternative_load_script_arguments</name>
        </value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>
            <name>landingzone-final</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>token_needed</key>
        <value>
            <name>token_needed</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>alternative_load_script</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/run_klarf_loader.sh</value>
    </entry>
    <entry>
        <key>alternative_load_script_arguments</key>
        <value>/etl/dropzone/icn8/processing/${filename}</value>
    </entry>
    <entry>
        <key>landingzone-final</key>
        <value>/landing-zone/icn8/nifi/defectivity_raw/loaded</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>DEFECTIVITY_RAW</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_data.nifi_defectivity_raw</value>
    </entry>
    <entry>
        <key>token_needed</key>
        <value>N</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Defectivity Raw - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>ea748b5d-b8d4-3443-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-985.6540534217838</x>
<y>1234.9449749348223</y>
                            </position>
                            <versionedComponentId>ea748b5d-b8d4-3443-a711-c3f46cf8dc56</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Notify the wait processor in the 'Configure and wait lobby' of the fact that a file/aggregation of the current log_type was successfully processed, so the next file/aggregation of the same log_type can start</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-delta</key>
        <value>
            <name>signal-counter-delta</name>
        </value>
    </entry>
    <entry>
        <key>signal-buffer-count</key>
        <value>
            <name>signal-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-cache-regex</key>
        <value>
            <name>attribute-cache-regex</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>default</value>
    </entry>
    <entry>
        <key>signal-counter-delta</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-cache-regex</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Release flow for next file/aggregation</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Notify</type>
                        </processors>
                        <processors>
                            <id>eb225a01-d729-3937-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2737.4862831310174</x>
<y>219.6881443370454</y>
                            </position>
                            <versionedComponentId>eb225a01-d729-3937-b215-ce52870fb7e5</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "E3 UVA" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous E3 UVA file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>ed842f31-406c-3fd3-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>12126.019974012128</x>
<y>224.420379525037</y>
                            </position>
                            <versionedComponentId>ed842f31-406c-3fd3-818b-c69cbc44a551</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "BASE_QUALIFICATIONS_E3_UVA" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous BQ E3 UVA aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>ee67c599-67c5-3bb9-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>2327.4862831310174</x>
<y>216.68812907825634</y>
                            </position>
                            <versionedComponentId>ee67c599-67c5-3bb9-8810-ee3a7ae91b75</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "E3 sum" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous E3 sum file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>ee829761-ce0c-3470-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>9479.280435574872</x>
<y>614.5241931677699</y>
                            </position>
                            <versionedComponentId>ee829761-ce0c-3470-972a-29e89b72d7e6</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>As soon as a "Base Qualifications Diamond Times" flowfile is ready to be processed, properties containing all required queries are added.
To minimize memory usage, we don't do this in an earlier stage (for all flowfiles in the queue).
The following queries are specified here:
* query_1_configureExternalTable: Create the external table that will act as a view on the csv data in the incoming file. This is only needed for the very first flowfile of a certain type.
* query_2_validateExternalTable: This query checks if all data in the table is within the time boundaries specified in the filename. The result is returned in column isvalid (value: "isTrue"/"isFalse").
* query_3_initializeStaging: Create the external table in which the new contents of a number of table partitions will be built before they are moved to the destination table. The final query in this script checks if the staging table is really empty (column isEmpty, value "isTrue"/"isFalse").
* query_4_ingestStaging: This query re-creates all the table partitions in the destination table that are overlapped by the data in the external table. It consists of two parts: one part that inserts the new data from the external table, and one part that copies the records in the start and end partition that are not overlapped by the new data, and should remain as-is. The re-creation of the partitions takes place in the staging table. After the staging table is filled, the number of records in the staging table is counted in a query that returns "isTrue" if the number is greater than 0, and "isFalse" otherwise.
* query_5_analyzeStaging: This query returns, for both the destination and staging table, the HDFS storage location, and a concatenated list of all partitions involved in loading the new file. This information will be used by the Linux shell script that will swap the staging and destination partitions.

To make sure the staging table is really empty, an hdfs command can be executed to clear the staging table contents in HDFS.
The arguments for this command are specified in attribute init_staging_hdfs_command_args.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>init_staging_hdfs_command_args</key>
        <value>
            <name>init_staging_hdfs_command_args</name>
        </value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value>
            <name>query_1_configureExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>
            <name>query_2_validateExternalTable</name>
        </value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>
            <name>query_3_initializeStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>
            <name>query_4_ingestStaging</name>
        </value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>
            <name>query_5_analyzeStaging</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>init_staging_hdfs_command_args</key>
        <value>-rm;-r;-f;${staging_location}/p_parameter_type=DIAMOND_TIMES</value>
    </entry>
    <entry>
        <key>query_1_configureExternalTable</key>
        <value> </value>
    </entry>
    <entry>
        <key>query_2_validateExternalTable</key>
        <value>-- ICN8/NiFi/BQDiaTimes/q2/ValExtTab

select 'isTrue'</value>
    </entry>
    <entry>
        <key>query_3_initializeStaging</key>
        <value>-- ICN8/NiFi/BQDiaTimes/q3/InitStgTab

ALTER TABLE ${staging_table} DROP IF EXISTS PARTITION (p_parameter_type = 'DIAMOND_TIMES', coalesce (p_from_trackout_cet_ts, '!') &lt;&gt; '');

SELECT 
'${staging_table}' as staging,
 CASE WHEN COUNT(*) &gt; 0 THEN 'isFalse' ELSE 'isTrue' END AS isEmpty  
FROM 
(
SELECT * FROM ${staging_table} WHERE p_parameter_type = 'DIAMOND_TIMES' LIMIT 1
) X;</value>
    </entry>
    <entry>
        <key>query_4_ingestStaging</key>
        <value>-- ICN8/NiFi/BQDiaTimes/q4/InsStgTab

alter table ${staging_table} drop partition (p_parameter_type = 'DIAMOND_TIMES');

-- ICN8/NiFi/BQDiaTimes/q4/InsStgTab
insert into
  ${staging_table}
  ( fab
  , loh_key
  , loh_trackout_cet_ts
  , lot
  , process
  , process_speed
  , product
  , lot_priority
  , lot_type
  , material_batch
  , start_material
  , wafer_info
  , slot
  , step_valid_from_cet_ts
  , step_valid_to_cet_ts
  , step_trackin_cet_ts
  , step_trackout_cet_ts
  , step_num_wafers
  , technical_stage
  , flowstage
  , step
  , equipment
  , equipment_type
  , template_recipe
  , recipe
  , proc_equipment
  , program
  , parameter
  , in_run_dimension
  , component
  , meas_cet_ts
  , wafer
  , measured_value
  , num_obs
  , btf_key
  , lot_std_fmt
  , wafer_std_fmt
  )
partition
  ( p_parameter_type
  , p_aggregation_type
  , p_from_trackout_cet_ts
  , p_to_trackout_cet_ts
  , p_loh_suffix
  )
    select
      fab
    , loh_key
    , loh_trackout_cet_ts
    , lot
    , process
    , process_speed
    , product
    , lot_priority
    , lot_type
    , material_batch
    , start_material
    , wafer_info
    , slot
    , step_valid_from_cet_ts
    , step_valid_to_cet_ts
    , step_trackin_cet_ts
    , step_trackout_cet_ts
    , step_num_wafers
    , technical_stage
    , flowstage
    , step
    , equipment
    , equipment_type
    , template_recipe
    , recipe
    , proc_equipment
    , program
    , parameter
    , in_run_dimension
    , component
    , meas_cet_ts
    , wafer
    , measured_value
    , num_obs
    , btf_key
	, lot_std_fmt
	, wafer_std_fmt
    , p_parameter_type
    , p_aggregation_type
    , from_timestamp (          loh_trackout_cet_ts    , 'yyyy-MM-dd')  p_from_trackout_cet_ts
    , from_timestamp (date_add (loh_trackout_cet_ts, 1), 'yyyy-MM-dd')  p_to_trackout_cet_ts
    , p_loh_suffix
    from
      ${prod_table}
    where
                         p_parameter_type                           =  'DIAMOND_TIMES'  
                and      cast (p_from_trackout_cet_ts as timestamp) &lt;  '${valid_to}'
                and      cast (p_to_trackout_cet_ts   as timestamp) &gt;  '${valid_from}'
                and (    loh_trackout_cet_ts                        &lt;  '${valid_from}' 
                      or loh_trackout_cet_ts                        &gt;= '${valid_to}'
                    )
  union all
    select
      'ICN8'                                                                           fab
    , dia.run_loh_key                                                                  loh_key
    , bws.trackout_cet_ts                                                              loh_trackout_cet_ts
    , min (bws.lot                   )                                                 lot
    , min (bws.process               )                                                 process
    , min (bws.process_speed         )                                                 process_speed
    , min (bws.product               )                                                 product
    , min (bws.lot_priority          )                                                 lot_priority
    , min (bws.lot_type              )                                                 lot_type
    , min (bws.material_batch        )                                                 material_batch
    , min (bws.start_material        )                                                 start_material
    , min (bws.wafer_type            )                                                 wafer_info
    , null                                                                             slot                    /* slot cannot be determined because we take the wafer step with wafer_rank = 1 */
    , min (bws.step_start_cet_ts     )                                                 step_valid_from_cet_ts
    , min (bws.step_close_cet_ts     )                                                 step_valid_to_cet_ts
    , min (bws.trackin_cet_ts        )                                                 trackin_cet_ts
    , min (bws.trackout_cet_ts       )                                                 trackout_cet_ts
    , min (bws.loc_num_wafers        )                                                 step_num_wafers
    , min (bws.technical_stage       )                                                 technical_stage
    , min (bws.flowstage             )                                                 flowstage
    , min (bws.step                  )                                                 step
    , min (bws.equipment             )                                                 equipment
    , min (bws.equipment_type        )                                                 equipment_type
    , min (bws.template_recipe       )                                                 template_recipe
    , min (bws.recipe                )                                                 recipe
    , min (bws.equipment             )                                                 proc_equipment
    , dia.program                                                                      program
    , dia.parameter                                                                    parameter
    , mref.in_run_dimension                                                            in_run_dimension
    , case
        when mref.in_run_dimension = 'comp'     then dia.component
        when mref.in_run_dimension = 'comptype' then dia.component_type
      end                                                                              component
    , cast (max (measurement_cet_ts) as string)                                        meas_cet_ts
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf'
        then dia.wafer
      end                                                                              wafer
    , case
        when mref.aggregation_type like '%min' then min    (dia.wafer_component_time)
        when mref.aggregation_type like '%max' then max    (dia.wafer_component_time)
        when mref.aggregation_type like '%avg' then avg    (dia.wafer_component_time)
        when mref.aggregation_type like '%std' then stddev (dia.wafer_component_time)
        else                                        min    (dia.wafer_component_time)                          /* Raw measurement: the min() of exactly 1 record */
      end                                                                              measured_value
    , sum(num_events)                                                                  num_obs
    , min (bws.btf_key)                                                                btf_key
	, upper(left(min (bws.lot                   ),6)) lot_std_fmt
	, right( case
        when substr (mref.aggregation_type, 1, 3) = 'waf'
        then dia.wafer
      end    ,2) wafer_std_fmt
    , mref.parameter_type                                                              parameter_type
    , mref.aggregation_type                                                            aggregation_type
    , from_timestamp (          bws.trackout_cet_ts    , 'yyyy-MM-dd')                 p_from_trackout_cet_ts
    , from_timestamp (date_add (bws.trackout_cet_ts, 1), 'yyyy-MM-dd')                 p_to_trackout_cet_ts
    , null                                                                             p_loh_suffix
    from
           (
             select
               'DIAMOND'                                                 program
             , case
                 when state_final like '%PROCESS%'  then 'PROCESS_TIME'
                 when state_final like '%ALIGN%'    then 'PROCESS_TIME'
                 when state_final like '%BUSY%'     then 'PROCESS_TIME'
                 when state_final like '%START%'    then 'PROCESS_TIME'
                 when state_final like '%RETURN%'   then 'PROCESS_TIME'
                 when state_final like '%IDLE%'     then 'IDLE_TIME'
                 when state_final like '%DOWN%'     then 'DOWN_TIME'
                 else                                    'WAIT_TIME'
               end                                                       parameter
             , dia.wafer
             , dia.component
             , concat (dcs.component_type, '_', dcs.component_ipf_type)  component_type
             , dia.run_loh_key                                           run_loh_key
             , dia.run_trackout_cet_ts                                   run_trackout_cet_ts
             , count (*)                                                 num_events
             , max (dia.valid_to_cet_ts)                                 measurement_cet_ts
             , sum (   unix_timestamp (dia.valid_to_cet_ts)
                     - unix_timestamp (dia.valid_from_cet_ts)
                   )  wafer_component_time
             from
                         mfg_icn8_data.nifi_diamond_raw        dia
               left join mfg_icn8_data.nifi_diamond_components dcs on ( dcs.component = dia.component
                                                                      )
             where
                   dia.run_trackout_cet_ts    &gt;= '${valid_from}'
               and dia.run_trackout_cet_ts     &lt; '${valid_to}'
               and dia.p_from_trackout_cet_ts  &lt; '${valid_to}'
               and dia.p_to_trackout_cet_ts    &gt; '${valid_from}'
             group by
               case
                 when state_final like '%PROCESS%'  then 'PROCESS_TIME'
                 when state_final like '%ALIGN%'    then 'PROCESS_TIME'
                 when state_final like '%BUSY%'     then 'PROCESS_TIME'
                 when state_final like '%START%'    then 'PROCESS_TIME'
                 when state_final like '%RETURN%'   then 'PROCESS_TIME'
                 when state_final like '%IDLE%'     then 'IDLE_TIME'
                 when state_final like '%DOWN%'     then 'DOWN_TIME'
                 else                                    'WAIT_TIME'
               end
             , dia.wafer
             , dia.component
             , concat (dcs.component_type, '_', dcs.component_ipf_type)
             , dia.run_loh_key
             , dia.run_trackout_cet_ts
           )                                              dia
      join mfg_icn8_apps.nifi_base_wafer_production_steps bws  on (     bws.wafer_rank             = 1
                                                                    and bws.loh_key                = dia.run_loh_key
                                                                    and bws.trackout_cet_ts        = dia.run_trackout_cet_ts
                                                                    and bws.p_from_trackout_cet_ts &lt; '${valid_to}'
                                                                    and bws.p_to_trackout_cet_ts   &gt; '${valid_from}'
                                                                  )
      join mfg_icn8_apps.base_parameter_type_levels       mref on (     mref.parameter_type        = 'DIAMOND_TIMES'
                                                                    and mref.active_yn             = 'Y'
                                                                  )
    group by
      dia.run_loh_key
    , bws.trackout_cet_ts
    , dia.program
    , dia.parameter
    , mref.in_run_dimension
    , case
        when mref.in_run_dimension = 'comp'     then dia.component
        when mref.in_run_dimension = 'comptype' then dia.component_type
      end
    , case
        when substr (mref.aggregation_type, 1, 3) = 'waf'
        then dia.wafer
      end
    , mref.parameter_type
    , mref.aggregation_type
    , from_timestamp (          bws.trackout_cet_ts    , 'yyyy-MM-dd')
    , from_timestamp (date_add (bws.trackout_cet_ts, 1), 'yyyy-MM-dd')
;

</value>
    </entry>
    <entry>
        <key>query_5_analyzeStaging</key>
        <value>-- ICN8/NiFi/BQDiaTimes/q5/AnalyStg

SELECT CONCAT (
     '${prod_location};'
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 1 THEN par END), 'NONE')
    ,';${staging_location};' 
    ,coalesce(GROUP_CONCAT (CASE WHEN source = 2 THEN par END), 'NONE')
    ,';${logtype}'
    ) as txt
FROM 
(
    SELECT
    1 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${prod_table}
    WHERE p_parameter_type = 'DIAMOND_TIMES' 
    AND  cast (p_from_trackout_cet_ts as timestamp) &lt; '${valid_to}'
    AND  cast (p_to_trackout_cet_ts   as timestamp) &gt; '${valid_from}'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
    UNION ALL
    
    SELECT 
    2 as source, 
    CONCAT (
    'p_parameter_type=', p_parameter_type,
    '/p_aggregation_type=', p_aggregation_type,
    '/p_from_trackout_cet_ts=', CAST (p_from_trackout_cet_ts as string),
    '/p_to_trackout_cet_ts=', CAST (p_to_trackout_cet_ts as string),
    '/p_loh_suffix=', COALESCE (p_loh_suffix, '__HIVE_DEFAULT_PARTITION__') 
    ) as par
    FROM ${staging_table}
    WHERE p_parameter_type = 'DIAMOND_TIMES'
    GROUP BY p_parameter_type, p_aggregation_type, p_to_trackout_cet_ts,  p_from_trackout_cet_ts, p_loh_suffix
    
) B;</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>BQ Diamond Times - Add Queries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>f594c481-e1e8-3696-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4296.174027271642</x>
<y>239.53383220325634</y>
                            </position>
                            <versionedComponentId>f594c481-e1e8-3696-bff7-4cf50687f4b9</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the loading of the previous file of log type "Lot Status" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous Lot Status file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>f654ab95-0b2f-3f81-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10425.049207707958</x>
<y>-262.7627993499327</y>
                            </position>
                            <versionedComponentId>f654ab95-0b2f-3f81-af91-d188bab51357</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>For data type "PMI-View Dims", define several properties that will be used in the remainder of the flow:
* direct_insert_allowed_yn: determines whether the a direct insert into the target table can be used instead of the "rebuild partition in staging / swap partitions" mechanism.
* external table: the external table that is used for importing the file data in csv-format.
* impala_mem_limit: Impala memory limit (in GB) to use in the queries that have a mem_limit statement
* impala_mem_limit_increment: amount by which to increase the memory limit every time the query fails.
* logtype: the data type that will be used in the NiFi logging.
* prod_location: the full name of the HDFS folder in which the contents of the destination table reside.
* prod_table: full name of the destination table.
* staging_location: the full name of the HDFS folder in which the contents of the staging table reside.
* staging_table: full name of the staging table in which the new partition contents of the destination table are built before they are actually moved to the destination table.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>
            <name>direct_insert_allowed_yn</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>
            <name>impala_mem_limit_increment</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>
            <name>prod_location</name>
        </value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>
            <name>prod_table</name>
        </value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>
            <name>staging_location</name>
        </value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>
            <name>staging_table</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>direct_insert_allowed_yn</key>
        <value>N</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>2</value>
    </entry>
    <entry>
        <key>impala_mem_limit_increment</key>
        <value>5</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>PMIVIEW_DIMS</value>
    </entry>
    <entry>
        <key>prod_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_pmiview_dims</value>
    </entry>
    <entry>
        <key>prod_table</key>
        <value>mfg_icn8_apps.nifi_pmiview_dims</value>
    </entry>
    <entry>
        <key>staging_location</key>
        <value>/user/hive/warehouse/mfg_icn8/mfg_icn8_staging/nifi_stg_pmiview_dims</value>
    </entry>
    <entry>
        <key>staging_table</key>
        <value>mfg_icn8_staging.nifi_stg_pmiview_dims</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>PMI-View Dims - Add configuration</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>f7cd0d95-b287-38a4-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>10842.295947059003</x>
<y>219.48014326992472</y>
                            </position>
                            <versionedComponentId>f7cd0d95-b287-38a4-948a-3ec5d4d7cdac</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for the signal that the previous aggregation of log type "PMIVIEW_PROGRESS_DIMS" has finished.
We do this because we don't want concurrent processes to manipulate the same table, as this could lead to inconsistent data.
NOTE: The Wait processor checks if the first flow file in line is allowed to be processed. It doesn't continue to the second file if this isn't the case. Therefore, we can't combine the Wait processors of all different log types in one processor (that would lead to files of type a waiting for a file of type b to be finished).
NOTE 2: The queue in front of the Wait processor is configured to redirect all flowfiles to a single NiFi node. This is needed to prevent the different instances of the Wait processor to each release 1 flowfile at the same time (in case the flowfiles were initiated by different nodes).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>release-signal-id</key>
        <value>
            <name>release-signal-id</name>
        </value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>
            <name>target-signal-count</name>
        </value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
        <value>
            <name>signal-counter-name</name>
        </value>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>
            <name>wait-buffer-count</name>
        </value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>
            <name>releasable-flowfile-count</name>
        </value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>
            <name>expiration-duration</name>
        </value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
            <name>distributed-cache-service</name>
        </value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>
            <name>attribute-copy-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>
            <name>wait-mode</name>
        </value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
        <value>
            <name>wait-penalty-duration</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>release-signal-id</key>
        <value>${logtype}</value>
    </entry>
    <entry>
        <key>target-signal-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>signal-counter-name</key>
    </entry>
    <entry>
        <key>wait-buffer-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>releasable-flowfile-count</key>
        <value>1</value>
    </entry>
    <entry>
        <key>expiration-duration</key>
        <value>31 days</value>
    </entry>
    <entry>
        <key>distributed-cache-service</key>
        <value>df80850f-4cfb-3fe0-0000-000000000000</value>
    </entry>
    <entry>
        <key>attribute-copy-mode</key>
        <value>keeporiginal</value>
    </entry>
    <entry>
        <key>wait-mode</key>
        <value>keep</value>
    </entry>
    <entry>
        <key>wait-penalty-duration</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for previous PMI-View Progress Dims aggregation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>wait</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.Wait</type>
                        </processors>
                        <processors>
                            <id>fd628047-b15f-3807-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>187.17624094160055</x>
<y>-19.47738255569618</y>
                            </position>
                            <versionedComponentId>fd628047-b15f-3807-a4f5-47144dc5e396</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the metrology-raw file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Metrology Raw - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>fdb1d059-7b6a-35dc-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>-275.4062051567271</x>
<y>-28.855413392278365</y>
                            </position>
                            <versionedComponentId>fdb1d059-7b6a-35dc-a67a-76bbd2042518</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the production steps file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Production Steps - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>ff922e19-2a84-30df-0000-000000000000</id>
                            <parentGroupId>20bd500e-6720-370f-0000-000000000000</parentGroupId>
                            <position>
<x>4275.518102867035</x>
<y>2.2194918937906323</y>
                            </position>
                            <versionedComponentId>ff922e19-2a84-30df-b794-2dc0231ddc6c</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the Lot Status file is waiting to be processed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' to waiting list </value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Lot Status - Log wait status</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Configure and wait lobby</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>433f6291-7eea-3900-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>3389.334283600453</x>
                        <y>2200.0985126129585</y>
                    </position>
                    <versionedComponentId>433f6291-7eea-3900-8ab0-5dd67d7b6188</versionedComponentId>
                    <comments>Write information about the loaded or aggregated  timeframe to the Kudu log. This entry will be used to trigger aggregations that depend on the data that were just loaded.</comments>
                    <contents>
                        <connections>
                            <id>08736255-4331-3594-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>08736255-4331-3594-a51f-bdb6514626d9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>a1ad85dc-617c-3a19-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a1ad85dc-617c-3a19-84a0-e9f4e2bf2c13</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>aef16871-d7e8-3a63-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>aef16871-d7e8-3a63-82dd-c4587277a8fe</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0c11d6ac-b7f7-3d8b-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>0c11d6ac-b7f7-3d8b-857a-e207e74f4651</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>54f7bd53-e315-34c5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>54f7bd53-e315-34c5-b810-033586e44649</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>90d28d59-04d1-32c7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>90d28d59-04d1-32c7-ad26-6389c71e9059</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>26e94772-fec9-330f-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>26e94772-fec9-330f-bebd-5c40087a3b2c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>cb6db41f-2509-3119-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>cb6db41f-2509-3119-a31f-2c0cf9c78011</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>4824204f-addf-3ddc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4824204f-addf-3ddc-9410-6808da88daaf</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>30c552ab-fd48-3aad-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>30c552ab-fd48-3aad-8a40-e41295cbf707</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>d39aafbe-aa16-3ac1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d39aafbe-aa16-3ac1-83c7-d598f05d353c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>a1ad85dc-617c-3a19-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a1ad85dc-617c-3a19-84a0-e9f4e2bf2c13</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>41e4c9c3-484f-38e4-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>41e4c9c3-484f-38e4-ac35-98d3d20a8f66</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>aef16871-d7e8-3a63-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>aef16871-d7e8-3a63-82dd-c4587277a8fe</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>4824204f-addf-3ddc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4824204f-addf-3ddc-9410-6808da88daaf</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>772af2d6-b2a2-39f0-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>772af2d6-b2a2-39f0-830d-210292cb0579</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>90d28d59-04d1-32c7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>90d28d59-04d1-32c7-ad26-6389c71e9059</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>a1ad85dc-617c-3a19-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a1ad85dc-617c-3a19-84a0-e9f4e2bf2c13</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>77c454fe-db94-3761-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>77c454fe-db94-3761-976a-b3365bb5b53f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>4824204f-addf-3ddc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4824204f-addf-3ddc-9410-6808da88daaf</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>8a4fbe50-8349-39f2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8a4fbe50-8349-39f2-8425-c05f4df69297</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>87aa3531-ed5c-32d5-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>87aa3531-ed5c-32d5-b923-07490f08fd79</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>bd34cd1c-a28e-3833-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bd34cd1c-a28e-3833-b215-2436fc3669be</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>cb6db41f-2509-3119-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>cb6db41f-2509-3119-a31f-2c0cf9c78011</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e59b92c1-5af2-3b80-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>e59b92c1-5af2-3b80-8e30-673744a77741</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>05ca6456-8748-35b0-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>05ca6456-8748-35b0-9bcb-b34c7b2c21ea</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>d39aafbe-aa16-3ac1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d39aafbe-aa16-3ac1-83c7-d598f05d353c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f0ee6b43-eec4-386d-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>f0ee6b43-eec4-386d-9c3c-f19f0faf761d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>aef16871-d7e8-3a63-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>aef16871-d7e8-3a63-82dd-c4587277a8fe</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>28650b8f-2835-3dc4-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>28650b8f-2835-3dc4-a597-15af7b335f01</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f2c660c4-c752-3044-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <versionedComponentId>f2c660c4-c752-3044-8d02-47308d74c91e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>8a4fbe50-8349-39f2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8a4fbe50-8349-39f2-8425-c05f4df69297</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>433f6291-7eea-3900-0000-000000000000</groupId>
<id>54f7bd53-e315-34c5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>54f7bd53-e315-34c5-b810-033586e44649</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>28650b8f-2835-3dc4-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>381.1212707938387</x>
<y>1898.3376477492884</y>
                            </position>
                            <versionedComponentId>28650b8f-2835-3dc4-a597-15af7b335f01</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>in</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>05ca6456-8748-35b0-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>391.1486755789949</x>
<y>2757.4682782424525</y>
                            </position>
                            <versionedComponentId>05ca6456-8748-35b0-9bcb-b34c7b2c21ea</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>out</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>4824204f-addf-3ddc-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>-126.30684976509247</x>
<y>2083.254720600934</y>
                            </position>
                            <versionedComponentId>4824204f-addf-3ddc-9410-6808da88daaf</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the retry counter has not yet reached it's maximum, start another attempt to insert a record in the Kudu log table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounter7:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>54f7bd53-e315-34c5-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>-577.1518855458576</x>
<y>2300.9938105667543</y>
                            </position>
                            <versionedComponentId>54f7bd53-e315-34c5-b810-033586e44649</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before starting the next attempt to write to the Kudu log table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>8a4fbe50-8349-39f2-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>-580.1053157216388</x>
<y>2080.301351460309</y>
                            </position>
                            <versionedComponentId>8a4fbe50-8349-39f2-8425-c05f4df69297</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps track of the number of Kudu writing retries already performed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounter7</key>
        <value>
            <name>retrycounter7</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounter7</key>
        <value>${retrycounter7:isNull():ifElse(1, ${retrycounter7:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>90d28d59-04d1-32c7-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>-127.78351144722137</x>
<y>2300.9938105667543</y>
                            </position>
                            <versionedComponentId>90d28d59-04d1-32c7-ad26-6389c71e9059</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the NiFi log that the query for inserting data in the Kudu log table has failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on 'Insert log' for file '${filename}' of type ${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Insert into NiFi log</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>a1ad85dc-617c-3a19-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>330.3690395561025</x>
<y>2308.7633418167543</y>
                            </position>
                            <versionedComponentId>a1ad85dc-617c-3a19-84a0-e9f4e2bf2c13</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Add a record to the NiFi log table for the incoming file that was just loaded, or the aggregation that was performed.
This record will be used to derive which dependent aggregations will have to be run next.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"

set mem_limit=100M;
set request_pool = root.default;

-- ICN8/NiFi/InsLog/InsLog
insert into
  mfg_icn8_data.nifi_load_log
  ( target_entity
  , insert_cet_ts
  , period_from_cet_ts
  , period_to_cet_ts
  , filename
  , processed_cet_ts
  , num_retries
  )
values
  ( '${logtype}'
  , '${now():toNumber():format('yyyy-MM-dd HH:mm:ss.SSS', 'CET')}'
  , '${valid_from}'
  , '${valid_to}'
  , '${filename}'
  , '${now():toNumber():format('yyyy-MM-dd HH:mm:ss.SSS', 'CET')}'
  , ${retrycounter}
  )
;
/* refresh ${prod_table}; */
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Insert into NiFi log table (7)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>aef16871-d7e8-3a63-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>326.0564014927015</x>
<y>2044.9948129904578</y>
                            </position>
                            <versionedComponentId>aef16871-d7e8-3a63-82dd-c4587277a8fe</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>From the individual retry counters of all steps in the NiFi Flow, calculate the total number of retries that were needed to process this incoming file / aggregation.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounter</key>
        <value>
            <name>retrycounter</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounter</key>
        <value>${retrycounter7:replaceNull(0):plus(${retrycounter6:replaceNull(0):plus(${retrycounter5:replaceNull(0):plus(${retrycounter4:replaceNull(0):plus(${retrycounter3:replaceNull(0):plus(${retrycounter2:replaceNull(0):plus(${retrycounter1:replaceNull(0):plus(${retrycounterX:replaceNull(0)})})})})})})})}
</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Calculate retries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>bd34cd1c-a28e-3833-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>-721.4926262805926</x>
<y>1865.5649872577073</y>
                            </position>
                            <versionedComponentId>bd34cd1c-a28e-3833-b215-2436fc3669be</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
    </entry>
    <entry>
        <key>log-message</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>cb6db41f-2509-3119-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>-132.21367959907684</x>
<y>1865.448423489836</y>
                            </position>
                            <versionedComponentId>cb6db41f-2509-3119-a31f-2c0cf9c78011</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the NiFi log that the insert in the NiFi loading table permanently failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute 'Insert log' for file '${filename}' of type ${logtype}, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on insert into NiFi log</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>d39aafbe-aa16-3ac1-0000-000000000000</id>
                            <parentGroupId>433f6291-7eea-3900-0000-000000000000</parentGroupId>
                            <position>
<x>331.3633480277822</x>
<y>2546.2081019048633</y>
                            </position>
                            <versionedComponentId>d39aafbe-aa16-3ac1-83c7-d598f05d353c</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the NiFi log that the log table was successfully updated.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Succesfully logged file '${filename}' of type ${logtype} in kudu table, ${file.size} bytes, ${text.line.count} lines, ${retrycounter} retries.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log successful insert into log table</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Insert loader entry into nifi_load_log</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>6334deb8-b3a3-3805-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1674.370613538615</x>
                        <y>1053.4604395950746</y>
                    </position>
                    <versionedComponentId>6334deb8-b3a3-3805-9ac8-ac5aeb6d708f</versionedComponentId>
                    <comments>Put the contents of the file in HDFS, view the data using an external table and validate if the file contains data for the correct time frame,</comments>
                    <contents>
                        <connections>
                            <id>00308d2b-e4b5-3935-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>00308d2b-e4b5-3935-9c83-8f4471164790</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>46f8aed9-6eda-3126-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>46f8aed9-6eda-3126-a9a3-4ba74bf2af88</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>92cd62cd-d8d1-33d9-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>92cd62cd-d8d1-33d9-a531-f45cc8cd10d2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0bee4160-dbe8-3e96-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>0bee4160-dbe8-3e96-98a2-4525c1817afa</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>7602e1b2-5098-319a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7602e1b2-5098-319a-bdb6-b514843c0f63</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>8bb9358f-eb33-31a1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8bb9358f-eb33-31a1-bb88-b1148c72042a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0bfc6ead-5a3b-3fb7-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>0bfc6ead-5a3b-3fb7-83a4-a6b50b7cabef</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>4e9f3c81-07ad-372b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4e9f3c81-07ad-372b-aa3d-3271f98bd2af</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>d5b59091-0ab3-30d3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d5b59091-0ab3-30d3-a476-2128f933f7a5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0cfa8531-e0ee-3c68-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>0cfa8531-e0ee-3c68-9d51-cb1623552c52</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>c1786e27-4c87-3904-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c1786e27-4c87-3904-bb91-d7ba6192ab3c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>89599a04-c4cf-3c0a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>89599a04-c4cf-3c0a-aa87-bf7a879a9339</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>10503f37-5fcf-3dc8-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>10503f37-5fcf-3dc8-b7d7-db774ef427f7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>b136d2e0-b0dc-39fc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b136d2e0-b0dc-39fc-9a1e-1edc7d5cb7cf</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>eed1cdec-ed66-3b90-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>eed1cdec-ed66-3b90-9569-a306c8e93654</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>10c919d6-c8ac-30b0-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>10c919d6-c8ac-30b0-83ed-c9311afeae30</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>0214ec7a-9c1f-3aec-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0214ec7a-9c1f-3aec-ac85-09816038f1de</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>420c0333-e89e-3d6e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>420c0333-e89e-3d6e-9198-41dd27d993b9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>16d74906-1c19-34b7-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>16d74906-1c19-34b7-984f-620161c76262</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f4e9652d-7a4a-308a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f4e9652d-7a4a-308a-afbe-808a7e7cb7d2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>failure</selectedRelationships>
                            <selectedRelationships>not.found</selectedRelationships>
                            <selectedRelationships>permission.denied</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>185b455c-34a7-3732-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>185b455c-34a7-3732-b91e-709f82bbcee0</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1b951284-8067-3242-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>1b951284-8067-3242-9042-3714fdcc7164</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>2796e8e5-31eb-3c0c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2796e8e5-31eb-3c0c-9acb-48d0ee65fe5b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>dcfe2b6c-206f-3106-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dcfe2b6c-206f-3106-9819-b80db5a7e99d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>217d84e6-27ab-3304-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>217d84e6-27ab-3304-ab82-a0915425472e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>65d0e775-7eda-321d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>65d0e775-7eda-321d-935e-1ccc0ee86e4d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>87074334-f0d4-316d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>87074334-f0d4-316d-bece-d6b4df9c9f15</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>23c7aff9-336e-393a-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>23c7aff9-336e-393a-8174-7bef3e67c272</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>a6e09a7d-f253-3181-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a6e09a7d-f253-3181-a124-d92d8398c3a9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>valid</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>6ef8d087-8119-3b4e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ef8d087-8119-3b4e-aafc-de6d33ac8d4d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>249cdcfc-2515-3ace-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>249cdcfc-2515-3ace-9a17-6d79e5b9300d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3438d1bf-1ac3-37e2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3438d1bf-1ac3-37e2-9de0-335eb867a7f8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>valid</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>71a90186-e779-3c5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>71a90186-e779-3c5b-9b15-9ede1836ac30</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>28c98892-168c-3f26-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>28c98892-168c-3f26-bb28-89fd0f5fa16e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>2f094d34-3920-3c67-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2f094d34-3920-3c67-84e3-7dcd289424fa</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3b477703-c44c-3493-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3b477703-c44c-3493-92e8-0fff47363d19</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>293dd6a9-080f-3c38-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>293dd6a9-080f-3c38-a502-a818870df063</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>92cd62cd-d8d1-33d9-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>92cd62cd-d8d1-33d9-a531-f45cc8cd10d2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>ab0c9397-3f6c-3471-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ab0c9397-3f6c-3471-94a5-ab048f1eb415</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2da303da-2fb8-3e03-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>2da303da-2fb8-3e03-aecb-60979414905e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-741.6732635498047</x>
<y>-1254.8236083984375</y>
                            </bends>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>c0dc5adc-c2fb-3a7b-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c0dc5adc-c2fb-3a7b-a86f-b65ab8403212</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>4e9f3c81-07ad-372b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4e9f3c81-07ad-372b-aa3d-3271f98bd2af</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>322ec45a-846b-3d9f-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>322ec45a-846b-3d9f-a5a5-f0d6b0e5a3ed</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3c27cf84-69b7-3830-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3c27cf84-69b7-3830-a8df-aae81fc0af6f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>invalid</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>6ef8d087-8119-3b4e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ef8d087-8119-3b4e-aafc-de6d33ac8d4d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>361a4353-9dec-39c4-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>361a4353-9dec-39c4-b58f-a1c9b0f96813</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f059f2af-2093-3302-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f059f2af-2093-3302-abba-6d973dd9650a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>39fdbca1-f1bf-39a1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>39fdbca1-f1bf-39a1-896a-980e95317a54</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>38d145cc-0496-3805-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>38d145cc-0496-3805-9cb1-9c9fbc99681f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>87074334-f0d4-316d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>87074334-f0d4-316d-bece-d6b4df9c9f15</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>2f094d34-3920-3c67-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2f094d34-3920-3c67-84e3-7dcd289424fa</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3dad7c0c-6ea8-3c3e-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>3dad7c0c-6ea8-3c3e-b28e-2177abe2c11c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f3e0b511-c1d8-38e0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f3e0b511-c1d8-38e0-b755-5a0fb318515a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f8f3e5be-6da2-38c0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f8f3e5be-6da2-38c0-91f7-16460ba5a367</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4034ee20-b50e-3445-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>4034ee20-b50e-3445-b1ed-6dd9820b6d66</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>46f8aed9-6eda-3126-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>46f8aed9-6eda-3126-a9a3-4ba74bf2af88</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>37635306-fd24-35b0-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>37635306-fd24-35b0-a86b-a44d3cb29b1a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>413c6db0-d12d-38d5-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>413c6db0-d12d-38d5-a7fd-19a568738358</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>185b455c-34a7-3732-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>185b455c-34a7-3732-b91e-709f82bbcee0</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3657635d-961e-30c5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3657635d-961e-30c5-a423-49f65e83bb44</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>45dabc29-2414-36cb-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>45dabc29-2414-36cb-81cb-b7d5e5466c04</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>105bcba3-e7ef-31ff-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>105bcba3-e7ef-31ff-a3fb-0b6c7fad907f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>48577156-2d87-3161-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>48577156-2d87-3161-8e96-5f6e1a37d355</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>465a3593-309d-3a81-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>465a3593-309d-3a81-a27e-2e31e2be4878</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>8fd7c800-f4d3-340a-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>8fd7c800-f4d3-340a-ba41-ad9c6ff6a295</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3c27cf84-69b7-3830-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3c27cf84-69b7-3830-a8df-aae81fc0af6f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4696814a-9144-3435-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>4696814a-9144-3435-b170-34e9484598ff</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>46f8aed9-6eda-3126-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>46f8aed9-6eda-3126-a9a3-4ba74bf2af88</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>c0dc5adc-c2fb-3a7b-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>c0dc5adc-c2fb-3a7b-a86f-b65ab8403212</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>49596ae9-4fe9-39b0-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>49596ae9-4fe9-39b0-9416-f875f86d1f33</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>b72179a5-f684-3b0a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b72179a5-f684-3b0a-aae6-62f59d68a104</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>c1786e27-4c87-3904-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c1786e27-4c87-3904-bb91-d7ba6192ab3c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4b3d95fa-30ae-3d78-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>4b3d95fa-30ae-3d78-a8f3-6e6ae80f7927</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>876.5225830078125</x>
<y>543.0026245117188</y>
                            </bends>
                            <bends>
<x>751.6017456054688</x>
<y>1183.40185546875</y>
                            </bends>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>b136d2e0-b0dc-39fc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b136d2e0-b0dc-39fc-9a1e-1edc7d5cb7cf</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>83e5e36f-0fe9-3b65-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>83e5e36f-0fe9-3b65-bce7-60ee2d4b0b76</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>51d85906-5ec3-36c2-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>51d85906-5ec3-36c2-92a7-636ed95791a4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>d5b59091-0ab3-30d3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d5b59091-0ab3-30d3-a476-2128f933f7a5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>b499250a-a33e-313f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b499250a-a33e-313f-8f5c-64f13ce40b63</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5754117e-54ed-3fd2-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>5754117e-54ed-3fd2-9c48-28058d4aea45</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f8f3e5be-6da2-38c0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f8f3e5be-6da2-38c0-91f7-16460ba5a367</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>1d67a0d3-2359-3103-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1d67a0d3-2359-3103-ab7c-85c984234e26</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5d072aa3-8909-3261-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>5d072aa3-8909-3261-a405-c721fe5ea479</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>dec147d2-bfb3-3a83-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>dec147d2-bfb3-3a83-bcd2-54592130fe82</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>a6e09a7d-f253-3181-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a6e09a7d-f253-3181-a124-d92d8398c3a9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5db0fafb-e692-3f86-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>5db0fafb-e692-3f86-9503-cd79e1d75bce</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>492edd76-27e9-354f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>492edd76-27e9-354f-a723-e795ab22802d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f3e0b511-c1d8-38e0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f3e0b511-c1d8-38e0-b755-5a0fb318515a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5f98af79-9045-3e55-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>5f98af79-9045-3e55-8daa-07df60f23dd7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>46f8aed9-6eda-3126-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>46f8aed9-6eda-3126-a9a3-4ba74bf2af88</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>143ea12b-a94f-3cc3-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>143ea12b-a94f-3cc3-acff-d0dd6ef306d4</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>68769883-2194-3ef1-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>68769883-2194-3ef1-a657-449a74dd0925</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>8bb9358f-eb33-31a1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8bb9358f-eb33-31a1-bb88-b1148c72042a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>4cf76de2-570a-3230-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4cf76de2-570a-3230-8120-94eb046451de</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>68f868e4-b9ca-35d8-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>68f868e4-b9ca-35d8-aa09-16463a91a5c8</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>fee781da-a05d-3a27-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>fee781da-a05d-3a27-bb5b-ec7246de8ac5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f059f2af-2093-3302-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f059f2af-2093-3302-abba-6d973dd9650a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6981914c-7422-3219-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>6981914c-7422-3219-969e-85e7fd348dfc</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f2ec08d2-de2e-34e3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f2ec08d2-de2e-34e3-a8be-f1b3b005a1e1</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3438d1bf-1ac3-37e2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3438d1bf-1ac3-37e2-9de0-335eb867a7f8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6fb4a373-1d00-30f8-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>6fb4a373-1d00-30f8-ab5a-1a928362c9ff</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>1d67a0d3-2359-3103-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1d67a0d3-2359-3103-ab7c-85c984234e26</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>4311848e-f20d-3c37-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4311848e-f20d-3c37-a5cc-013c52664c0e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>74faabb6-d988-3ea9-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>74faabb6-d988-3ea9-89be-214bd89d2f2b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3b477703-c44c-3493-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3b477703-c44c-3493-92e8-0fff47363d19</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>eed1cdec-ed66-3b90-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>eed1cdec-ed66-3b90-9569-a306c8e93654</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>750a1877-2741-3150-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>750a1877-2741-3150-b6a9-8b7d877bd038</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>b499250a-a33e-313f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b499250a-a33e-313f-8f5c-64f13ce40b63</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>dc8299e7-3fa2-3728-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dc8299e7-3fa2-3728-95b8-83a4a3180a32</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>782ab1c1-079b-377e-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>782ab1c1-079b-377e-b6fa-4fb4485d5b9a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>735ee18c-152b-356b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>735ee18c-152b-356b-b7f9-113bfc57e66c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>8bb9358f-eb33-31a1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8bb9358f-eb33-31a1-bb88-b1148c72042a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7e4d8404-6217-339f-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>7e4d8404-6217-339f-bf4b-08d7716c0d3e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>b4efa94d-4ae2-3c86-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b4efa94d-4ae2-3c86-8b4f-5a120fa23969</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>65d0e775-7eda-321d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>65d0e775-7eda-321d-935e-1ccc0ee86e4d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7e6c25d7-8da4-384d-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>7e6c25d7-8da4-384d-baa8-9fbaa4ed6733</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>ab0c9397-3f6c-3471-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ab0c9397-3f6c-3471-94a5-ab048f1eb415</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>failure</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>83e5e36f-0fe9-3b65-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>83e5e36f-0fe9-3b65-bce7-60ee2d4b0b76</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>83b79286-b30b-3c36-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>83b79286-b30b-3c36-b543-c260700a2736</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>e988de83-1d34-3a7c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e988de83-1d34-3a7c-ab2d-f4e471f86be7</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>2796e8e5-31eb-3c0c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2796e8e5-31eb-3c0c-9acb-48d0ee65fe5b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>85b3b71b-c8b6-3dc0-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>85b3b71b-c8b6-3dc0-b204-d32cad2df06d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>dcfe2b6c-206f-3106-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dcfe2b6c-206f-3106-9819-b80db5a7e99d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>0214ec7a-9c1f-3aec-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0214ec7a-9c1f-3aec-ac85-09816038f1de</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>88c2e7c5-9ae1-3e34-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>88c2e7c5-9ae1-3e34-8e6e-98b4f4f17e3d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3657635d-961e-30c5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3657635d-961e-30c5-a423-49f65e83bb44</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>original</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>105bcba3-e7ef-31ff-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>105bcba3-e7ef-31ff-a3fb-0b6c7fad907f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>88c9716e-5c5c-39dd-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>88c9716e-5c5c-39dd-9913-b9bcbf75bc21</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3657635d-961e-30c5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3657635d-961e-30c5-a423-49f65e83bb44</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>d5b59091-0ab3-30d3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d5b59091-0ab3-30d3-a476-2128f933f7a5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8f84d99a-664d-3567-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>8f84d99a-664d-3567-a9f0-1d860e97e59f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>96.8764533996582</x>
<y>-358.8389892578125</y>
                            </bends>
                            <bends>
<x>114.10692596435547</x>
<y>-409.0945739746094</y>
                            </bends>
                            <bends>
<x>230.4126434326172</x>
<y>-1068.1602172851562</y>
                            </bends>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>105bcba3-e7ef-31ff-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>105bcba3-e7ef-31ff-a3fb-0b6c7fad907f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>b72179a5-f684-3b0a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b72179a5-f684-3b0a-aae6-62f59d68a104</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9705b26d-aede-378f-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>9705b26d-aede-378f-aaf0-f4dde50ef643</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>420c0333-e89e-3d6e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>420c0333-e89e-3d6e-9198-41dd27d993b9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f2ec08d2-de2e-34e3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f2ec08d2-de2e-34e3-a8be-f1b3b005a1e1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9b7fc5d1-f0db-3ae0-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>9b7fc5d1-f0db-3ae0-a12b-c925cfe7c46d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f0e9739a-3059-3190-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>f0e9739a-3059-3190-8440-90c3f963bbf8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>6faccb92-0d6e-3d27-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6faccb92-0d6e-3d27-b4ca-8c767b34f157</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a9c5ae8e-351b-3618-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>a9c5ae8e-351b-3618-99c8-c89da8330f80</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-717.4284057617188</x>
<y>-325.9508056640625</y>
                            </bends>
                            <bends>
<x>-933.1170654296875</x>
<y>222.2179718017578</y>
                            </bends>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>46f8aed9-6eda-3126-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>46f8aed9-6eda-3126-a9a3-4ba74bf2af88</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>21b88645-4ddf-38a5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>21b88645-4ddf-38a5-8190-654e52d83173</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ab8bae53-7b14-374d-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>ab8bae53-7b14-374d-959e-c04fdbae7621</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-685.9873046875</x>
<y>664.3668823242188</y>
                            </bends>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>46f8aed9-6eda-3126-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>46f8aed9-6eda-3126-a9a3-4ba74bf2af88</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>b4efa94d-4ae2-3c86-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b4efa94d-4ae2-3c86-8b4f-5a120fa23969</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ad54a67d-af8d-31fe-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>ad54a67d-af8d-31fe-adb5-a1c0bdef61dc</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>83e5e36f-0fe9-3b65-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>83e5e36f-0fe9-3b65-bce7-60ee2d4b0b76</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>735ee18c-152b-356b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>735ee18c-152b-356b-b7f9-113bfc57e66c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>aed5968e-2895-31ff-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>aed5968e-2895-31ff-aa03-b8d56fe7f008</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>dc8299e7-3fa2-3728-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dc8299e7-3fa2-3728-95b8-83a4a3180a32</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>56462f2b-51c4-3187-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>56462f2b-51c4-3187-bb81-256de0c1580c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b34a69ff-35e6-30d9-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>b34a69ff-35e6-30d9-8d95-93bde88de7c0</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>1d67a0d3-2359-3103-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1d67a0d3-2359-3103-ab7c-85c984234e26</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>fee781da-a05d-3a27-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>fee781da-a05d-3a27-bb5b-ec7246de8ac5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c691801e-66f6-3ddf-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>c691801e-66f6-3ddf-b0fc-698451314ee9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>83e5e36f-0fe9-3b65-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>83e5e36f-0fe9-3b65-bce7-60ee2d4b0b76</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>65d0e775-7eda-321d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>65d0e775-7eda-321d-935e-1ccc0ee86e4d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c9c724e6-c3ab-344f-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>c9c724e6-c3ab-344f-9815-57568db20a71</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>21b88645-4ddf-38a5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>21b88645-4ddf-38a5-8190-654e52d83173</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>b72179a5-f684-3b0a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b72179a5-f684-3b0a-aae6-62f59d68a104</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cb1ff84f-a604-3eac-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>cb1ff84f-a604-3eac-b8ef-ea86cc1ec152</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>143ea12b-a94f-3cc3-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>143ea12b-a94f-3cc3-acff-d0dd6ef306d4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f4e9652d-7a4a-308a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f4e9652d-7a4a-308a-afbe-808a7e7cb7d2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cd8714c9-c09d-3e55-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>cd8714c9-c09d-3e55-b26f-aa7538afaeb9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>39fdbca1-f1bf-39a1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>39fdbca1-f1bf-39a1-896a-980e95317a54</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>b136d2e0-b0dc-39fc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b136d2e0-b0dc-39fc-9a1e-1edc7d5cb7cf</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cf748988-6c26-3ec8-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>cf748988-6c26-3ec8-9ba0-85ae9c8e84d4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>37635306-fd24-35b0-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>37635306-fd24-35b0-a86b-a44d3cb29b1a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>492edd76-27e9-354f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>492edd76-27e9-354f-a723-e795ab22802d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d2943e40-fd82-3d97-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>d2943e40-fd82-3d97-8243-47f4b2c6ca5f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>4cf76de2-570a-3230-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4cf76de2-570a-3230-8120-94eb046451de</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>185b455c-34a7-3732-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>185b455c-34a7-3732-b91e-709f82bbcee0</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d5d1a145-36e3-3eda-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>d5d1a145-36e3-3eda-b7d2-c889e2c0038b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>eed1cdec-ed66-3b90-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>eed1cdec-ed66-3b90-9569-a306c8e93654</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>original</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>39d11209-1ffb-30ff-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>39d11209-1ffb-30ff-add5-f8ada9524b31</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d6ba4d56-b3aa-3e7e-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>d6ba4d56-b3aa-3e7e-add6-95711fc4a187</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>71a90186-e779-3c5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>71a90186-e779-3c5b-9b15-9ede1836ac30</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f059f2af-2093-3302-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f059f2af-2093-3302-abba-6d973dd9650a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>eb496805-2ed8-3a2b-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>eb496805-2ed8-3a2b-abd1-bfafc62ddde9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>56462f2b-51c4-3187-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>56462f2b-51c4-3187-bb81-256de0c1580c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3657635d-961e-30c5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3657635d-961e-30c5-a423-49f65e83bb44</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ecf84061-86ca-3247-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>ecf84061-86ca-3247-a0ac-06d41292bd2c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>6faccb92-0d6e-3d27-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6faccb92-0d6e-3d27-b4ca-8c767b34f157</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>6ef8d087-8119-3b4e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ef8d087-8119-3b4e-aafc-de6d33ac8d4d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f19c03d0-7161-35c6-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>f19c03d0-7161-35c6-a37a-19c9253c626b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>6ef8d087-8119-3b4e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ef8d087-8119-3b4e-aafc-de6d33ac8d4d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3438d1bf-1ac3-37e2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3438d1bf-1ac3-37e2-9de0-335eb867a7f8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fa1d2e1a-acdb-3c16-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>fa1d2e1a-acdb-3c16-89cc-5dcfc3959d4d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>4311848e-f20d-3c37-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4311848e-f20d-3c37-a5cc-013c52664c0e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>71a90186-e779-3c5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>71a90186-e779-3c5b-9b15-9ede1836ac30</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fc3b243a-60e7-3af2-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>fc3b243a-60e7-3af2-8fd9-f5effc32bb17</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f059f2af-2093-3302-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f059f2af-2093-3302-abba-6d973dd9650a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f3e0b511-c1d8-38e0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f3e0b511-c1d8-38e0-b755-5a0fb318515a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fd021ecf-848d-3147-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>fd021ecf-848d-3147-82c8-a5129b6cd5de</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>89599a04-c4cf-3c0a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>89599a04-c4cf-3c0a-aa87-bf7a879a9339</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>7602e1b2-5098-319a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7602e1b2-5098-319a-bdb6-b514843c0f63</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fd2c4c36-5f33-352e-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>fd2c4c36-5f33-352e-ad23-a965c5f86d98</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>3438d1bf-1ac3-37e2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3438d1bf-1ac3-37e2-9de0-335eb867a7f8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>dcfe2b6c-206f-3106-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dcfe2b6c-206f-3106-9819-b80db5a7e99d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fda7d1a8-48e1-38c9-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>fda7d1a8-48e1-38c9-b556-3a313a7eb50f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>46f8aed9-6eda-3126-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>46f8aed9-6eda-3126-a9a3-4ba74bf2af88</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>f0e9739a-3059-3190-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>f0e9739a-3059-3190-8440-90c3f963bbf8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fdc875c4-cb58-337c-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <versionedComponentId>fdc875c4-cb58-337c-a51e-52cdfeb665ae</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>46f8aed9-6eda-3126-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>46f8aed9-6eda-3126-a9a3-4ba74bf2af88</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6334deb8-b3a3-3805-0000-000000000000</groupId>
<id>e988de83-1d34-3a7c-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e988de83-1d34-3a7c-ab2d-f4e471f86be7</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <funnels>
                            <id>143ea12b-a94f-3cc3-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-648.5351896649677</x>
<y>-679.2828655156502</y>
                            </position>
                            <versionedComponentId>143ea12b-a94f-3cc3-acff-d0dd6ef306d4</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>37635306-fd24-35b0-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-770.953005827077</x>
<y>1173.2462558832758</y>
                            </position>
                            <versionedComponentId>37635306-fd24-35b0-a86b-a44d3cb29b1a</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>92cd62cd-d8d1-33d9-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-521.4329252606708</x>
<y>360.7535151458027</y>
                            </position>
                            <versionedComponentId>92cd62cd-d8d1-33d9-a531-f45cc8cd10d2</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>c0dc5adc-c2fb-3a7b-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-1072.630496061452</x>
<y>-1079.9539584071367</y>
                            </position>
                            <versionedComponentId>c0dc5adc-c2fb-3a7b-a86f-b65ab8403212</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>e988de83-1d34-3a7c-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-526.4329252606708</x>
<y>2077.8667647971674</y>
                            </position>
                            <versionedComponentId>e988de83-1d34-3a7c-ab2d-f4e471f86be7</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>f0e9739a-3059-3190-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-863.2836943036395</x>
<y>2676.705092827933</y>
                            </position>
                            <versionedComponentId>f0e9739a-3059-3190-8440-90c3f963bbf8</versionedComponentId>
                        </funnels>
                        <inputPorts>
                            <id>48577156-2d87-3161-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>327.6861620155141</x>
<y>-1341.6416109950273</y>
                            </position>
                            <versionedComponentId>48577156-2d87-3161-8e96-5f6e1a37d355</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>in</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <labels>
                            <id>6c34761c-2631-36b1-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>610.8861947205321</x>
<y>617.6681172045567</y>
                            </position>
                            <versionedComponentId>6c34761c-2631-36b1-9284-216b141a727b</versionedComponentId>
                            <height>43.74540710449219</height>
                            <label>HDFS line count check temporarily removed due to broken pipe errors!!</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>22px</value>
</entry>
                            </style>
                            <width>734.4002075195312</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <labels>
                            <id>818edb54-5a8f-3c7f-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>213.72895442217077</x>
<y>1800.345767098534</y>
                            </position>
                            <versionedComponentId>818edb54-5a8f-3c7f-b8e6-b3cb5aa47cf8</versionedComponentId>
                            <height>121.8854751586914</height>
                            <label>Ga pas verder als aantal regels in de external table gelijk zijn aan
aantal regels bronbestand - header</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>467.2925109863281</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <outputPorts>
                            <id>46f8aed9-6eda-3126-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-1722.4319899285845</x>
<y>1329.1162454268087</y>
                            </position>
                            <versionedComponentId>46f8aed9-6eda-3126-a9a3-4ba74bf2af88</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>error</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <outputPorts>
                            <id>8fd7c800-f4d3-340a-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>877.163357449263</x>
<y>3076.87280378092</y>
                            </position>
                            <versionedComponentId>8fd7c800-f4d3-340a-ba41-ad9c6ff6a295</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>invalid</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <outputPorts>
                            <id>dec147d2-bfb3-3a83-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>301.156102201061</x>
<y>3076.87280378092</y>
                            </position>
                            <versionedComponentId>dec147d2-bfb3-3a83-bcd2-54592130fe82</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>out</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>0214ec7a-9c1f-3aec-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-677.4329252606708</x>
<y>2206.0831126297426</y>
                            </position>
                            <versionedComponentId>0214ec7a-9c1f-3aec-ac85-09816038f1de</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before starting a new attempt to validate if the external table contains records for the correct period.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>105bcba3-e7ef-31ff-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>274.580848062315</x>
<y>-1160.3994425265278</y>
                            </position>
                            <versionedComponentId>105bcba3-e7ef-31ff-a3fb-0b6c7fad907f</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Sometimes the fetch of the file contents only fetches the first n lines of the file.
Naturally, we want to make sure we fetch all the lines. Therefore we first do a line count on the original file using the Linux wc command.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/line_count.sh</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>/etl/dropzone/icn8/processing/${filename}</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>org_line_count</value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LineCount (wc) of original file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>185b455c-34a7-3732-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>272.6861620155141</x>
<y>-720.2828655156502</y>
                            </position>
                            <versionedComponentId>185b455c-34a7-3732-b91e-709f82bbcee0</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Fetch the contents of the incoming file from the file system.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>File to Fetch</key>
        <value>
            <name>File to Fetch</name>
        </value>
    </entry>
    <entry>
        <key>Completion Strategy</key>
        <value>
            <name>Completion Strategy</name>
        </value>
    </entry>
    <entry>
        <key>Move Destination Directory</key>
        <value>
            <name>Move Destination Directory</name>
        </value>
    </entry>
    <entry>
        <key>Move Conflict Strategy</key>
        <value>
            <name>Move Conflict Strategy</name>
        </value>
    </entry>
    <entry>
        <key>Log level when file not found</key>
        <value>
            <name>Log level when file not found</name>
        </value>
    </entry>
    <entry>
        <key>Log level when permission denied</key>
        <value>
            <name>Log level when permission denied</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>File to Fetch</key>
        <value>${absolute.path}/${filename}</value>
    </entry>
    <entry>
        <key>Completion Strategy</key>
        <value>None</value>
    </entry>
    <entry>
        <key>Move Destination Directory</key>
    </entry>
    <entry>
        <key>Move Conflict Strategy</key>
        <value>Rename</value>
    </entry>
    <entry>
        <key>Log level when file not found</key>
        <value>ERROR</value>
    </entry>
    <entry>
        <key>Log level when permission denied</key>
        <value>ERROR</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Fetch File Contents</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>not.found</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>permission.denied</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.FetchFile</type>
                        </processors>
                        <processors>
                            <id>1d67a0d3-2359-3103-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-677.4329252606708</x>
<y>1608.5253962601137</y>
                            </position>
                            <versionedComponentId>1d67a0d3-2359-3103-ab7c-85c984234e26</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a  number of seconds before retrying to count the number of records in the external table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>21b88645-4ddf-38a5-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-682.9642257564369</x>
<y>-481.5980929286211</y>
                            </position>
                            <versionedComponentId>21b88645-4ddf-38a5-8190-654e52d83173</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the count of the fetched number of lines permanently failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Fetched number of lines permanently does not match original number of lines for file '${filename}' of type ${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Count fetches lines</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>2796e8e5-31eb-3c0c-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-203.9318694942299</x>
<y>2036.8667647971674</y>
                            </position>
                            <versionedComponentId>2796e8e5-31eb-3c0c-9acb-48d0ee65fe5b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that Impala permanently failed to check the period of the external table contents.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute 'query_2_validateExternalTable' for file '${filename}' of type ${logtype}, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogMessage</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>2f094d34-3920-3c67-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-624.1591520673114</x>
<y>883.8380498016786</y>
                            </position>
                            <versionedComponentId>2f094d34-3920-3c67-84e3-7dcd289424fa</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before re-trying the copy to HDFS.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>3438d1bf-1ac3-37e2-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>246.156102201061</x>
<y>2405.461522969098</y>
                            </position>
                            <versionedComponentId>3438d1bf-1ac3-37e2-9de0-335eb867a7f8</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>This processor runs the query that checks if all data in the table is within the time boundaries specified in the filename. The result of that query (that is configured in "Configure and wait lobby") is returned in column isvalid (value: "isTrue"/"isFalse")</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"${query_2_validateExternalTable}"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Validate External Table Period (2)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>3657635d-961e-30c5-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>264.99686147840475</x>
<y>-943.8681269561339</y>
                            </position>
                            <versionedComponentId>3657635d-961e-30c5-a423-49f65e83bb44</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Run the query that creates the external table that will act as a view on the incoming file (if it hasn't been created before)
The contents of this query were configured in the "Configure and wait lobby".</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"${query_1_configureExternalTable}"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Configure External Table (1)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>39d11209-1ffb-30ff-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>253.33081754473687</x>
<y>588.3505269558941</y>
                            </position>
                            <versionedComponentId>39d11209-1ffb-30ff-add5-f8ada9524b31</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Count how many lines ended up in the HDFS copy of the file</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/line_count_hdfs.sh</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>${landingzone}/${filename}</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>hdfs_line_count</value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LineCount (wc) of HDFS file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>39fdbca1-f1bf-39a1-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>246.156102201061</x>
<y>1348.7817286575746</y>
                            </position>
                            <versionedComponentId>39fdbca1-f1bf-39a1-896a-980e95317a54</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>The contents of the flowfile are no longer needed, because they were already written to HDFS.
To save on NiFi memory, the contents are cleared here.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Replacement Strategy</key>
        <value>
            <name>Replacement Strategy</name>
        </value>
    </entry>
    <entry>
        <key>Regular Expression</key>
        <value>
            <dependencies>
                <dependentValues>Regex Replace</dependentValues>
                <dependentValues>Literal Replace</dependentValues>
                <propertyName>Replacement Strategy</propertyName>
            </dependencies>
            <name>Regular Expression</name>
        </value>
    </entry>
    <entry>
        <key>Replacement Value</key>
        <value>
            <dependencies>
                <dependentValues>Prepend</dependentValues>
                <dependentValues>Regex Replace</dependentValues>
                <dependentValues>Always Replace</dependentValues>
                <dependentValues>Append</dependentValues>
                <dependentValues>Literal Replace</dependentValues>
                <propertyName>Replacement Strategy</propertyName>
            </dependencies>
            <name>Replacement Value</name>
        </value>
    </entry>
    <entry>
        <key>Text to Prepend</key>
        <value>
            <dependencies>
                <dependentValues>Surround</dependentValues>
                <propertyName>Replacement Strategy</propertyName>
            </dependencies>
            <name>Text to Prepend</name>
        </value>
    </entry>
    <entry>
        <key>Text to Append</key>
        <value>
            <dependencies>
                <dependentValues>Surround</dependentValues>
                <propertyName>Replacement Strategy</propertyName>
            </dependencies>
            <name>Text to Append</name>
        </value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Evaluation Mode</key>
        <value>
            <name>Evaluation Mode</name>
        </value>
    </entry>
    <entry>
        <key>Line-by-Line Evaluation Mode</key>
        <value>
            <name>Line-by-Line Evaluation Mode</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Replacement Strategy</key>
        <value>Always Replace</value>
    </entry>
    <entry>
        <key>Regular Expression</key>
        <value>(?s)(^.*$)</value>
    </entry>
    <entry>
        <key>Replacement Value</key>
        <value></value>
    </entry>
    <entry>
        <key>Text to Prepend</key>
    </entry>
    <entry>
        <key>Text to Append</key>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>Evaluation Mode</key>
        <value>Entire text</value>
    </entry>
    <entry>
        <key>Line-by-Line Evaluation Mode</key>
        <value>All</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Clear file contents</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ReplaceText</type>
                        </processors>
                        <processors>
                            <id>3b477703-c44c-3493-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-152.0827779643837</x>
<y>887.4487980926942</y>
                            </position>
                            <versionedComponentId>3b477703-c44c-3493-92e8-0fff47363d19</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the number of lines in HDFS does not match the number of lines in the original file, this is logged here.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Number of lines in HDFS does not match original number of lines for file '${filename}' of type ${logtype} (${hdfs_line_count} vs ${org_line_count})</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on HDFS line count</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>3c27cf84-69b7-3830-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>822.163357449263</x>
<y>2625.559096734183</y>
                            </position>
                            <versionedComponentId>3c27cf84-69b7-3830-a8df-aae81fc0af6f</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that the external table contains data that are outside the time boundaries specified in the name of the incoming file.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed file '${filename}' of type ${logtype} has data outside boundary</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogMessage</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>420c0333-e89e-3d6e-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-677.4329252606708</x>
<y>2405.461522969098</y>
                            </position>
                            <versionedComponentId>420c0333-e89e-3d6e-9198-41dd27d993b9</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase counter that keeps track of the number of retries of the file period validation.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounter2</key>
        <value>
            <name>retrycounter2</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounter2</key>
        <value>${retrycounter2:isNull():ifElse(1, ${retrycounter2:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>4311848e-f20d-3c37-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-203.9318694942299</x>
<y>1835.6613459766843</y>
                            </position>
                            <versionedComponentId>4311848e-f20d-3c37-a5cc-013c52664c0e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the check on the number of lines in the external table fails, this is written to the log.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Invalid count on 'Count External Table' for file '${filename}' of type ${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Check number of lines</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#ffffff</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>492edd76-27e9-354f-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-203.9318694942299</x>
<y>1132.2462558832758</y>
                            </position>
                            <versionedComponentId>492edd76-27e9-354f-a723-e795ab22802d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that NiFi permanently failed to check if the number of records in the external table matches the number of records in the incoming file.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute 'Count External Table' for file '${filename}' of type ${logtype}, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Check number of lines</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>4cf76de2-570a-3230-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>264.99686147840475</x>
<y>-477.22642794266335</y>
                            </position>
                            <versionedComponentId>4cf76de2-570a-3230-8120-94eb046451de</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Count the number of lines in the file.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>text-line-count</key>
        <value>
            <name>text-line-count</name>
        </value>
    </entry>
    <entry>
        <key>text-line-nonempty-count</key>
        <value>
            <name>text-line-nonempty-count</name>
        </value>
    </entry>
    <entry>
        <key>text-word-count</key>
        <value>
            <name>text-word-count</name>
        </value>
    </entry>
    <entry>
        <key>text-character-count</key>
        <value>
            <name>text-character-count</name>
        </value>
    </entry>
    <entry>
        <key>split-words-on-symbols</key>
        <value>
            <name>split-words-on-symbols</name>
        </value>
    </entry>
    <entry>
        <key>character-encoding</key>
        <value>
            <name>character-encoding</name>
        </value>
    </entry>
    <entry>
        <key>ajust-immediately</key>
        <value>
            <name>ajust-immediately</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>text-line-count</key>
        <value>true</value>
    </entry>
    <entry>
        <key>text-line-nonempty-count</key>
        <value>false</value>
    </entry>
    <entry>
        <key>text-word-count</key>
        <value>false</value>
    </entry>
    <entry>
        <key>text-character-count</key>
        <value>false</value>
    </entry>
    <entry>
        <key>split-words-on-symbols</key>
        <value>false</value>
    </entry>
    <entry>
        <key>character-encoding</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>ajust-immediately</key>
        <value>false</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Count number of lines fetched</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.CountText</type>
                        </processors>
                        <processors>
                            <id>4e9f3c81-07ad-372b-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-177.40180967977676</x>
<y>-1381.6416109950273</y>
                            </position>
                            <versionedComponentId>4e9f3c81-07ad-372b-aa3d-3271f98bd2af</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the creation of the external table permanently failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute 'query_1_configureExternalTable' for file '${filename}' of type ${logtype}, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Configure external table</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>56462f2b-51c4-3187-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-177.40180967977676</x>
<y>-943.8680964385558</y>
                            </position>
                            <versionedComponentId>56462f2b-51c4-3187-bb81-256de0c1580c</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the creation of the external table failed, this is logged here.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on 'query_1_configureExternalTable' for file '${filename}' of type ${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Configure External table</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>65d0e775-7eda-321d-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-161.54631804159317</x>
<y>706.36747733006</y>
                            </position>
                            <versionedComponentId>65d0e775-7eda-321d-935e-1ccc0ee86e4d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the maximum number of retries was not yet reached, start another attempt to create the external table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounterHC:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>6ef8d087-8119-3b4e-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>244.72021963270163</x>
<y>2625.559096734183</y>
                            </position>
                            <versionedComponentId>6ef8d087-8119-3b4e-aafc-de6d33ac8d4d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>The result of the query in the previous processor is evaluated here. In case the result was isTrue, the incoming file only contains records that lying within the time boundaries specified in the file name. In that case, the processing of the file can continue.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Match Requirement</key>
        <value>
            <name>Match Requirement</name>
        </value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Content Buffer Size</key>
        <value>
            <name>Content Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>invalid</key>
        <value>
            <name>invalid</name>
        </value>
    </entry>
    <entry>
        <key>valid</key>
        <value>
            <name>valid</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Match Requirement</key>
        <value>content must contain match</value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Content Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>invalid</key>
        <value>isFalse</value>
    </entry>
    <entry>
        <key>valid</key>
        <value>isTrue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Evaluate query result</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>invalid</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>valid</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnContent</type>
                        </processors>
                        <processors>
                            <id>6faccb92-0d6e-3d27-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-203.9318694942299</x>
<y>2625.559096734183</y>
                            </position>
                            <versionedComponentId>6faccb92-0d6e-3d27-b4ca-8c767b34f157</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that the query that did the period check on the external table, returned an unexpected result.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Result from 'query_2_validateExternalTable' for file '${filename}' of type ${logtype} was unexpected, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Evaluate query result</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>71a90186-e779-3c5b-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>246.156102201061</x>
<y>2036.8667647971674</y>
                            </position>
                            <versionedComponentId>71a90186-e779-3c5b-9b15-9ede1836ac30</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>The number of lines in the original file (minus 1, because the header was skipped when loading the contents) should exactly match the number of lines in the external table. This is checked here.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Match Requirement</key>
        <value>
            <name>Match Requirement</name>
        </value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Content Buffer Size</key>
        <value>
            <name>Content Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>valid</key>
        <value>
            <name>valid</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Match Requirement</key>
        <value>content must contain match</value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Content Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>valid</key>
        <value>${text.line.count:minus(1):join("]")}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check number of lines</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>valid</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.RouteOnContent</type>
                        </processors>
                        <processors>
                            <id>735ee18c-152b-356b-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>264.99686147840475</x>
<y>60.70119276890273</y>
                            </position>
                            <versionedComponentId>735ee18c-152b-356b-b7f9-113bfc57e66c</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>The filename is changed to the generic name that is specified in the external Hive table that will be used to read the file contents.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>filename</key>
        <value>
            <name>filename</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>filename</key>
        <value>loading.csv</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Update filename</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#ffffff</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>7602e1b2-5098-319a-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-230.8327779643837</x>
<y>-103.80117138972764</y>
                            </position>
                            <versionedComponentId>7602e1b2-5098-319a-bdb6-b514843c0f63</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the fetched number of lines does not match the number of lines in the original file, this is logged here.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Fetched number of lines does not match original number of lines for file '${filename}' of type ${logtype} (${text.line.count} vs ${org_line_count})</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on fetched line count</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>83e5e36f-0fe9-3b65-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>251.156102201061</x>
<y>319.7535151458027</y>
                            </position>
                            <versionedComponentId>83e5e36f-0fe9-3b65-bce7-60ee2d4b0b76</versionedComponentId>
                            <bundle>
<artifact>nifi-hadoop-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Put the contents of the file in the landing zone location that was specified in the "Configure and wait lobby".</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Hadoop Configuration Resources</key>
        <value>
            <name>Hadoop Configuration Resources</name>
        </value>
    </entry>
    <entry>
        <key>kerberos-credentials-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
            <name>kerberos-credentials-service</name>
        </value>
    </entry>
    <entry>
        <key>kerberos-user-service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.kerberos.KerberosUserService</identifiesControllerService>
            <name>kerberos-user-service</name>
        </value>
    </entry>
    <entry>
        <key>Kerberos Principal</key>
        <value>
            <name>Kerberos Principal</name>
        </value>
    </entry>
    <entry>
        <key>Kerberos Keytab</key>
        <value>
            <name>Kerberos Keytab</name>
        </value>
    </entry>
    <entry>
        <key>Kerberos Password</key>
        <value>
            <name>Kerberos Password</name>
        </value>
    </entry>
    <entry>
        <key>Kerberos Relogin Period</key>
        <value>
            <name>Kerberos Relogin Period</name>
        </value>
    </entry>
    <entry>
        <key>Additional Classpath Resources</key>
        <value>
            <name>Additional Classpath Resources</name>
        </value>
    </entry>
    <entry>
        <key>Directory</key>
        <value>
            <name>Directory</name>
        </value>
    </entry>
    <entry>
        <key>Conflict Resolution Strategy</key>
        <value>
            <name>Conflict Resolution Strategy</name>
        </value>
    </entry>
    <entry>
        <key>writing-strategy</key>
        <value>
            <name>writing-strategy</name>
        </value>
    </entry>
    <entry>
        <key>Block Size</key>
        <value>
            <name>Block Size</name>
        </value>
    </entry>
    <entry>
        <key>IO Buffer Size</key>
        <value>
            <name>IO Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Replication</key>
        <value>
            <name>Replication</name>
        </value>
    </entry>
    <entry>
        <key>Permissions umask</key>
        <value>
            <name>Permissions umask</name>
        </value>
    </entry>
    <entry>
        <key>Remote Owner</key>
        <value>
            <name>Remote Owner</name>
        </value>
    </entry>
    <entry>
        <key>Remote Group</key>
        <value>
            <name>Remote Group</name>
        </value>
    </entry>
    <entry>
        <key>Compression codec</key>
        <value>
            <name>Compression codec</name>
        </value>
    </entry>
    <entry>
        <key>Ignore Locality</key>
        <value>
            <name>Ignore Locality</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Hadoop Configuration Resources</key>
        <value>/etc/hadoop/conf/core-site.xml,/etc/hadoop/conf/hdfs-site.xml</value>
    </entry>
    <entry>
        <key>kerberos-credentials-service</key>
    </entry>
    <entry>
        <key>kerberos-user-service</key>
    </entry>
    <entry>
        <key>Kerberos Principal</key>
        <value>hadoop_nifi_svc</value>
    </entry>
    <entry>
        <key>Kerberos Keytab</key>
        <value>/etc/security/keytab/hadoop_nifi_svc.keytab</value>
    </entry>
    <entry>
        <key>Kerberos Password</key>
    </entry>
    <entry>
        <key>Kerberos Relogin Period</key>
        <value>4 hours</value>
    </entry>
    <entry>
        <key>Additional Classpath Resources</key>
    </entry>
    <entry>
        <key>Directory</key>
        <value>${landingzone}</value>
    </entry>
    <entry>
        <key>Conflict Resolution Strategy</key>
        <value>replace</value>
    </entry>
    <entry>
        <key>writing-strategy</key>
        <value>writeAndRename</value>
    </entry>
    <entry>
        <key>Block Size</key>
    </entry>
    <entry>
        <key>IO Buffer Size</key>
    </entry>
    <entry>
        <key>Replication</key>
    </entry>
    <entry>
        <key>Permissions umask</key>
    </entry>
    <entry>
        <key>Remote Owner</key>
    </entry>
    <entry>
        <key>Remote Group</key>
    </entry>
    <entry>
        <key>Compression codec</key>
        <value>NONE</value>
    </entry>
    <entry>
        <key>Ignore Locality</key>
        <value>false</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Put file contents in HDFS</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.hadoop.PutHDFS</type>
                        </processors>
                        <processors>
                            <id>87074334-f0d4-316d-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-614.0543852216083</x>
<y>699.0988616074037</y>
                            </position>
                            <versionedComponentId>87074334-f0d4-316d-bece-d6b4df9c9f15</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps track of the number of retries.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounterHC</key>
        <value>
            <name>retrycounterHC</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounterHC</key>
        <value>${retrycounterHC:isNull():ifElse(1, ${retrycounterHC:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>89599a04-c4cf-3c0a-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-701.6591520673114</x>
<y>-107.41191968074327</y>
                            </position>
                            <versionedComponentId>89599a04-c4cf-3c0a-aa87-bf7a879a9339</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before re-trying the copy to HDFS.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>8bb9358f-eb33-31a1-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>265.6500480309494</x>
<y>-218.48754299865004</y>
                            </position>
                            <versionedComponentId>8bb9358f-eb33-31a1-bb88-b1148c72042a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>line_count_match</key>
        <value>
            <name>line_count_match</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to 'match' if all match</value>
    </entry>
    <entry>
        <key>line_count_match</key>
        <value>${text.line.count:trim():equals(${org_line_count:trim()})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check if fetched line count = org line count</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>a6e09a7d-f253-3181-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>246.156102201061</x>
<y>2830.9391810064258</y>
                            </position>
                            <versionedComponentId>a6e09a7d-f253-3181-a124-d92d8398c3a9</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that the contents of the incoming file are ready to be read from the external table.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Added file '${filename}' of type ${logtype} to external table</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log External table ready</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>ab0c9397-3f6c-3471-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-206.8362197749916</x>
<y>319.7535151458027</y>
                            </position>
                            <versionedComponentId>ab0c9397-3f6c-3471-94a5-ab048f1eb415</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the NiFi flow failed to store the file contents in HDFS.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Ingest to HDFS for file '${filename}' of type ${logtype} failed, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Put File in HDFS</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>b136d2e0-b0dc-39fc-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>246.156102201061</x>
<y>1132.2462558832758</y>
                            </position>
                            <versionedComponentId>b136d2e0-b0dc-39fc-9a1e-1edc7d5cb7cf</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>The generic file name is replaced by the original file name again, as that name is needed in the remainder of the flow.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>filename</key>
        <value>
            <name>filename</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>filename</key>
        <value>${source}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Revert filename for further flow</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#ffffff</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>b499250a-a33e-313f-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-650.9028654462177</x>
<y>-1146.9792481338072</y>
                            </position>
                            <versionedComponentId>b499250a-a33e-313f-8f5c-64f13ce40b63</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps track of the number of retries.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounter1</key>
        <value>
            <name>retrycounter1</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounter1</key>
        <value>${retrycounter1:isNull():ifElse(1, ${retrycounter1:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>b4efa94d-4ae2-3c86-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-604.2142257564369</x>
<y>509.6518765538008</y>
                            </position>
                            <versionedComponentId>b4efa94d-4ae2-3c86-8b4f-5a120fa23969</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the count of the fetched number of lines permanently failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Number of lines in HDFS permanently does not match original number of lines for file '${filename}' of type ${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Count fetches lines</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>b72179a5-f684-3b0a-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-240.29631804159317</x>
<y>-284.8824921523619</y>
                            </position>
                            <versionedComponentId>b72179a5-f684-3b0a-aae6-62f59d68a104</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the maximum number of retries was not yet reached, start another attempt to create the external table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounterFC:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>c1786e27-4c87-3904-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-692.8043852216083</x>
<y>-292.15110787501817</y>
                            </position>
                            <versionedComponentId>c1786e27-4c87-3904-bb91-d7ba6192ab3c</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps track of the number of retries.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounterFC</key>
        <value>
            <name>retrycounterFC</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounterFC</key>
        <value>${retrycounterFC:isNull():ifElse(1, ${retrycounterFC:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>d5b59091-0ab3-30d3-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-177.40180967977676</x>
<y>-1146.9792481338072</y>
                            </position>
                            <versionedComponentId>d5b59091-0ab3-30d3-a476-2128f933f7a5</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the maximum number of retries was not yet reached, start another attempt to create the external table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounter1:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>dc8299e7-3fa2-3728-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-729.8759184247333</x>
<y>-869.2026911651183</y>
                            </position>
                            <versionedComponentId>dc8299e7-3fa2-3728-95b8-83a4a3180a32</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before re-trying the creation of the external table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>dcfe2b6c-206f-3106-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-203.9318694942299</x>
<y>2206.0831126297426</y>
                            </position>
                            <versionedComponentId>dcfe2b6c-206f-3106-9819-b80db5a7e99d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the maximum number of retries has not been reached yet, continue to the next attempt to check the period of the external table contents.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounter2:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>eed1cdec-ed66-3b90-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>251.90001751337127</x>
<y>865.262472260139</y>
                            </position>
                            <versionedComponentId>eed1cdec-ed66-3b90-9569-a306c8e93654</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>line_count_match</key>
        <value>
            <name>line_count_match</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to 'match' if all match</value>
    </entry>
    <entry>
        <key>line_count_match</key>
        <value>${hdfs_line_count:trim():equals(${org_line_count:trim()})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check if HDFS line count = org line count</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>f059f2af-2093-3302-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>246.156102201061</x>
<y>1608.5253962601137</y>
                            </position>
                            <versionedComponentId>f059f2af-2093-3302-abba-6d973dd9650a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Count the number of lines in the external table that is used to view the file data stored in HDFS.
The number found should exactly match the number of records in the original file.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
-- ICN8/NiFi/PrepFile/CountExtTab
REFRESH ${external_table}; 
SELECT CONCAT (CAST (COUNT(*) AS STRING) , ']') FROM ${external_table} ${ext_table_count_where_clause}
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Count external table (X)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>f2ec08d2-de2e-34e3-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-203.9318694942299</x>
<y>2405.461522969098</y>
                            </position>
                            <versionedComponentId>f2ec08d2-de2e-34e3-a8be-f1b3b005a1e1</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that the Impala failed to return a result for the time period check.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on 'query_2_validateExternalTable' for file '${filename}' of type ${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Validate External Table Period</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#ffffff</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>f3e0b511-c1d8-38e0-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-203.9318694942299</x>
<y>1348.7817286575746</y>
                            </position>
                            <versionedComponentId>f3e0b511-c1d8-38e0-b755-5a0fb318515a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the maximum number of retries has not been reached yet, start another attempt on counting the number of lines in the external table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounterX:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>f4e9652d-7a4a-308a-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-334.2914976947609</x>
<y>-720.2828655156502</y>
                            </position>
                            <versionedComponentId>f4e9652d-7a4a-308a-afbe-808a7e7cb7d2</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the fetching of the file contents failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Fetch for file '${filename}' of type ${logtype} failed, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Fetch File Contents</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>f8f3e5be-6da2-38c0-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-677.4329252606708</x>
<y>1348.7817286575746</y>
                            </position>
                            <versionedComponentId>f8f3e5be-6da2-38c0-91f7-16460ba5a367</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps track of the number of retries for the line count check.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounterX</key>
        <value>
            <name>retrycounterX</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounterX</key>
        <value>${retrycounterX:isNull():ifElse(1, ${retrycounterX:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>fee781da-a05d-3a27-0000-000000000000</id>
                            <parentGroupId>6334deb8-b3a3-3805-0000-000000000000</parentGroupId>
                            <position>
<x>-203.9318694942299</x>
<y>1608.5253962601137</y>
                            </position>
                            <versionedComponentId>fee781da-a05d-3a27-bb5b-ec7246de8ac5</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that Impala failed to count the number of records in the external table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on 'Count External Table' for file '${filename}' of type ${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on count external table</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#ffffff</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Prepare and validate file</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>6361b0c4-97b6-304a-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1681.97193189799</x>
                        <y>2049.834474527021</y>
                    </position>
                    <versionedComponentId>6361b0c4-97b6-304a-9505-a979eb36e955</versionedComponentId>
                    <comments>Using HDFS commands, the relevant old partitions in the destination table and the new partitions in the staging table are swapped.
In this way, the new data are available in the destination table almost immediately, and applications will never see an empty table.</comments>
                    <contents>
                        <connections>
                            <id>020cf545-0b1d-314a-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>020cf545-0b1d-314a-bd8c-08753c1f7578</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>b0581546-3a81-3218-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>b0581546-3a81-3218-be62-87432f25b880</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>b0307d95-bd93-30f2-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>b0307d95-bd93-30f2-ae71-56c9136bcf72</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>02dc4a72-eebb-3791-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>02dc4a72-eebb-3791-8f58-ae150b622194</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>2f65c471-5586-3da6-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2f65c471-5586-3da6-a387-3b84c4c73d94</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>8c8d1fa5-4c02-30eb-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>8c8d1fa5-4c02-30eb-81b5-d7206139e2b0</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0324762d-339c-383a-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>0324762d-339c-383a-89c9-497230a320a9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>593.1669921875</x>
<y>1937.1873779296875</y>
                            </bends>
                            <bends>
<x>203.5701904296875</x>
<y>1922.541015625</y>
                            </bends>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>88a32fc5-46f1-338e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>88a32fc5-46f1-338e-abf8-fc114a2d1648</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>d03b0476-b1ee-3dcf-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d03b0476-b1ee-3dcf-a975-5eca5e79dc03</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0d53a80e-b33e-3b20-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>0d53a80e-b33e-3b20-bc92-3c6ca65c72e9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>ab4f80ff-3409-36e5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ab4f80ff-3409-36e5-8bf7-1f433d88db7b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>3b1b22a2-9d2a-3ff2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3b1b22a2-9d2a-3ff2-abee-d9d072bc89ed</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2956f0fc-f6b4-363f-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>2956f0fc-f6b4-363f-830c-021ca7f55465</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>f4973a83-b941-3bef-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f4973a83-b941-3bef-bad0-f81bd3df0f86</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>d588aedc-63b0-350b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d588aedc-63b0-350b-9d2f-6673ef2ec3c2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>30e82767-c4be-3e96-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>30e82767-c4be-3e96-b71b-7f5ae7d8d68e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-18.62038803100586</x>
<y>938.1333923339844</y>
                            </bends>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>d69a02a3-4a5a-340b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d69a02a3-4a5a-340b-8770-9cfa5a7d8c0e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
<id>062e2d99-e6fe-3ab0-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>062e2d99-e6fe-3ab0-8938-e22b54588304</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>34faf614-be72-3b89-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>34faf614-be72-3b89-a86b-482ec915e204</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-322.2657470703125</x>
<y>1221.6333312988281</y>
                            </bends>
                            <destination>
<groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
<id>c0a5034d-d160-3598-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>c0a5034d-d160-3598-9e1a-ccaddbc5c891</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>empty_script_parameters</selectedRelationships>
                            <selectedRelationships>null_script_parameters</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>d588aedc-63b0-350b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d588aedc-63b0-350b-9d2f-6673ef2ec3c2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3f2b4a8e-2ff9-3f84-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>3f2b4a8e-2ff9-3f84-8229-1ef0477d7f7e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>244.46929931640625</x>
<y>1033.6813049316406</y>
                            </bends>
                            <bends>
<x>-17.938595358611224</x>
<y>1069.9564573563434</y>
                            </bends>
                            <destination>
<groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
<id>c0a5034d-d160-3598-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>c0a5034d-d160-3598-9e1a-ccaddbc5c891</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>d69a02a3-4a5a-340b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d69a02a3-4a5a-340b-8770-9cfa5a7d8c0e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3f901fcf-9289-3545-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>3f901fcf-9289-3545-a198-6c0fe610cdab</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>bf88f526-323d-3b04-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>bf88f526-323d-3b04-9499-2937d3550d64</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>ab4f80ff-3409-36e5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ab4f80ff-3409-36e5-8bf7-1f433d88db7b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>58b2d411-35aa-3762-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>58b2d411-35aa-3762-8888-8ee6a402b934</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1032.2625732421875</x>
<y>596.3769683837891</y>
                            </bends>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>d03b0476-b1ee-3dcf-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d03b0476-b1ee-3dcf-a975-5eca5e79dc03</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>yes</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>2f65c471-5586-3da6-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2f65c471-5586-3da6-a387-3b84c4c73d94</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>63b4b6f6-a5ec-3c73-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>63b4b6f6-a5ec-3c73-9594-3db51cd4f0d6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>e65604ef-b91e-30df-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e65604ef-b91e-30df-b650-f7837ea62d1b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>3b1b22a2-9d2a-3ff2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3b1b22a2-9d2a-3ff2-abee-d9d072bc89ed</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7504be3e-0bdc-31d3-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>7504be3e-0bdc-31d3-8bf0-5ac9a3082dc1</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>88a32fc5-46f1-338e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>88a32fc5-46f1-338e-abf8-fc114a2d1648</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>539f2bf7-22c8-36e4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>539f2bf7-22c8-36e4-80c1-c65a3f4c69c5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8081bf08-211e-3f8a-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>8081bf08-211e-3f8a-a478-4c37da0a263a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>6ed8aecb-008e-376e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ed8aecb-008e-376e-a093-8f6c929fa103</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>f4973a83-b941-3bef-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f4973a83-b941-3bef-bad0-f81bd3df0f86</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>85a2ed84-554a-32b9-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>85a2ed84-554a-32b9-afff-e4fd3f338fea</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>539f2bf7-22c8-36e4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>539f2bf7-22c8-36e4-80c1-c65a3f4c69c5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>valid</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>f4973a83-b941-3bef-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f4973a83-b941-3bef-bad0-f81bd3df0f86</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9cb10edc-cf8a-3fa2-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>9cb10edc-cf8a-3fa2-a85f-d4a03c544594</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>e36454a8-a917-3dd9-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e36454a8-a917-3dd9-b5ca-8a06393b4fc8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>6ed8aecb-008e-376e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6ed8aecb-008e-376e-a093-8f6c929fa103</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a5cf7ca6-5e03-3a4e-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>a5cf7ca6-5e03-3a4e-8b97-470bd3f04590</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>fa384c71-f1e3-385b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>fa384c71-f1e3-385b-88b2-684267c7a888</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>387e75a8-078d-3fe8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>387e75a8-078d-3fe8-9c1b-fe0fee35d8c2</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>aa0ab856-62de-30db-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>aa0ab856-62de-30db-a888-f90f3e80d899</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>b0307d95-bd93-30f2-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>b0307d95-bd93-30f2-ae71-56c9136bcf72</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>88a32fc5-46f1-338e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>88a32fc5-46f1-338e-abf8-fc114a2d1648</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c33fb354-3225-320a-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>c33fb354-3225-320a-8286-fdd68566dc3c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>d588aedc-63b0-350b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d588aedc-63b0-350b-9d2f-6673ef2ec3c2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>original</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>d69a02a3-4a5a-340b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d69a02a3-4a5a-340b-8770-9cfa5a7d8c0e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d70de37e-6ccb-3ce4-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>d70de37e-6ccb-3ce4-bf8d-b514f1533404</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>bc8e1918-f457-3b95-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bc8e1918-f457-3b95-a873-a45af24d6802</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>2f65c471-5586-3da6-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2f65c471-5586-3da6-a387-3b84c4c73d94</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d95bc27c-dfaf-3726-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>d95bc27c-dfaf-3726-8f89-c889b84af940</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>b0581546-3a81-3218-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>b0581546-3a81-3218-be62-87432f25b880</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>76ee4f5b-cfee-3459-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>76ee4f5b-cfee-3459-addd-c48bb600fe96</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e178e32c-27b6-367a-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>e178e32c-27b6-367a-b8e2-928a53258d07</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>76ee4f5b-cfee-3459-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>76ee4f5b-cfee-3459-addd-c48bb600fe96</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>46d64d4f-f2d8-35c0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>46d64d4f-f2d8-35c0-be5b-2b84dd6d924b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e2c8a0f9-b045-3592-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>e2c8a0f9-b045-3592-87d9-4f9b08be13f8</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>3b1b22a2-9d2a-3ff2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3b1b22a2-9d2a-3ff2-abee-d9d072bc89ed</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>fa384c71-f1e3-385b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>fa384c71-f1e3-385b-88b2-684267c7a888</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e3ded561-0e16-33b2-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>e3ded561-0e16-33b2-90c8-f9b005960773</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>3b1b22a2-9d2a-3ff2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3b1b22a2-9d2a-3ff2-abee-d9d072bc89ed</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>539f2bf7-22c8-36e4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>539f2bf7-22c8-36e4-80c1-c65a3f4c69c5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e6a44320-be58-30a8-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>e6a44320-be58-30a8-b7f4-c41a546a2244</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>b0581546-3a81-3218-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>b0581546-3a81-3218-be62-87432f25b880</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
<id>b5f0ef7c-2961-35fb-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>b5f0ef7c-2961-35fb-a32b-a3c2d9d0a1b4</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ec76433e-0104-30ae-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>ec76433e-0104-30ae-9372-d889e4d209f0</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1046.3174438476562</x>
<y>2130.2918701171875</y>
                            </bends>
                            <bends>
<x>1048.8942260742188</x>
<y>2590.25439453125</y>
                            </bends>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>ab4f80ff-3409-36e5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ab4f80ff-3409-36e5-8bf7-1f433d88db7b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>d03b0476-b1ee-3dcf-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d03b0476-b1ee-3dcf-a975-5eca5e79dc03</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>eebae5c6-75d2-3b2a-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>eebae5c6-75d2-3b2a-81eb-e6870132567b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>387e75a8-078d-3fe8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>387e75a8-078d-3fe8-9c1b-fe0fee35d8c2</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>9ba229f3-4f50-3208-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9ba229f3-4f50-3208-a92d-657543b46414</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f0dea5a8-abed-31af-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>f0dea5a8-abed-31af-93ea-b697b7186f75</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>d69a02a3-4a5a-340b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d69a02a3-4a5a-340b-8770-9cfa5a7d8c0e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>bc8e1918-f457-3b95-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bc8e1918-f457-3b95-a873-a45af24d6802</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f2d8ecd1-c07d-336f-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>f2d8ecd1-c07d-336f-a96b-52d4dc8e68c5</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>9ba229f3-4f50-3208-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9ba229f3-4f50-3208-a92d-657543b46414</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>e65604ef-b91e-30df-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e65604ef-b91e-30df-b650-f7837ea62d1b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f54ab496-51e0-3df6-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>f54ab496-51e0-3df6-91f8-f0884b14cad2</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>b0581546-3a81-3218-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>b0581546-3a81-3218-be62-87432f25b880</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>e36454a8-a917-3dd9-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>e36454a8-a917-3dd9-b5ca-8a06393b4fc8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f5b286be-8998-3d86-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <versionedComponentId>f5b286be-8998-3d86-b28f-cf4614352a89</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>46d64d4f-f2d8-35c0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>46d64d4f-f2d8-35c0-be5b-2b84dd6d924b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>6361b0c4-97b6-304a-0000-000000000000</groupId>
<id>fa384c71-f1e3-385b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>fa384c71-f1e3-385b-88b2-684267c7a888</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <funnels>
                            <id>76ee4f5b-cfee-3459-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-465.91899827779116</x>
<y>1881.448423489836</y>
                            </position>
                            <versionedComponentId>76ee4f5b-cfee-3459-addd-c48bb600fe96</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>b0307d95-bd93-30f2-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-670.1669841176349</x>
<y>1688.3675898636293</y>
                            </position>
                            <versionedComponentId>b0307d95-bd93-30f2-ae71-56c9136bcf72</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>e36454a8-a917-3dd9-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-667.6521830922443</x>
<y>1484.6404246414613</y>
                            </position>
                            <versionedComponentId>e36454a8-a917-3dd9-b5ca-8a06393b4fc8</versionedComponentId>
                        </funnels>
                        <inputPorts>
                            <id>8c8d1fa5-4c02-30eb-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>382.4881038871572</x>
<y>352.79969778904433</y>
                            </position>
                            <versionedComponentId>8c8d1fa5-4c02-30eb-81b5-d7206139e2b0</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>in</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <labels>
                            <id>2d48bcc3-2125-3f6d-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>506.08244994701863</x>
<y>2080.9505383721767</y>
                            </position>
                            <versionedComponentId>2d48bcc3-2125-3f6d-b3ec-bfe161e34048</versionedComponentId>
                            <height>151.99476623535156</height>
                            <label>Remarked out all refresh/recover code.
Should not be needed anymore,
because all of the partition-wise refreshes that
take place in the swap-script!

2022-08-24 FvH: recover partitions is suddenly very slow.
From now on, we skip this step again, because the
partition-wise refresh we do should be enough.

2022-08-25 FvH: Unfortunately, it appears we still need this
expensive command. But why does it suddenly take so much time?</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>382.8829650878906</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <outputPorts>
                            <id>b0581546-3a81-3218-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-1530.051416109907</x>
<y>1445.1832321697548</y>
                            </position>
                            <versionedComponentId>b0581546-3a81-3218-be62-87432f25b880</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>error</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <outputPorts>
                            <id>bf88f526-323d-3b04-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>357.91724207075094</x>
<y>2770.8308009231996</y>
                            </position>
                            <versionedComponentId>bf88f526-323d-3b04-9499-2937d3550d64</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>done</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processGroups>
                            <id>6a27929c-e77b-3f34-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-940.3634411383457</x>
<y>1135.0892701615576</y>
                            </position>
                            <versionedComponentId>6a27929c-e77b-3f34-8f21-cec6ddef56ef</versionedComponentId>
                            <comments>Whenever the Ingest staging error handling changes, please replace this processor group with a new copy!
NOTE: Some log texts and retry counters will need to be adapted!</comments>
                            <contents>
<connections>
    <id>05c6d829-a1c6-3c08-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>05c6d829-a1c6-3c08-8604-70455857dcab</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>2024.3818359375</x>
        <y>814.560791015625</y>
    </bends>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>f799a4c2-3d37-34d4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>f799a4c2-3d37-34d4-996d-3a69697b4306</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>4c21d1dd-f74d-32f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4c21d1dd-f74d-32f8-9fd9-532b8401c0f5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>06b3fe7f-5b87-32d4-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>06b3fe7f-5b87-32d4-83f1-2492a35a9b32</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>e8988d19-3618-3da0-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e8988d19-3618-3da0-b08a-67dbd672bdc1</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>toomanytries</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>cddb529b-77f4-3c61-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>cddb529b-77f4-3c61-8d76-29223606e1f0</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>07ad5548-cf35-30aa-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>07ad5548-cf35-30aa-8d22-f027a4fc059d</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>6b1cdd86-9b81-3ada-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>6b1cdd86-9b81-3ada-a904-3cad992f3ec6</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>memory_oversubscribed</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>4c21d1dd-f74d-32f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4c21d1dd-f74d-32f8-9fd9-532b8401c0f5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>1c5e32ca-4e5b-30be-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>1c5e32ca-4e5b-30be-be75-6354e83b54f1</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>da6e4fa6-78a6-38fc-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>da6e4fa6-78a6-38fc-ba0c-e15d10a4eed5</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>unreachable_impala_deamon</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>4c21d1dd-f74d-32f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4c21d1dd-f74d-32f8-9fd9-532b8401c0f5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>206f8331-3195-3a74-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>206f8331-3195-3a74-981b-5f9d6b54fdae</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>707a9e82-f3b2-3a56-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>707a9e82-f3b2-3a56-9507-bb35a61a9b58</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>6425023b-4efa-3984-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>6425023b-4efa-3984-808b-529830e07aa0</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>3639619a-4980-31d4-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>3639619a-4980-31d4-b546-41a123ba7424</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>a573eb1f-f824-37b8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a573eb1f-f824-37b8-bb1a-01337e890be2</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>nonzero status</selectedRelationships>
    <selectedRelationships>output stream</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>da21adee-cd56-3f21-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>da21adee-cd56-3f21-afe3-5118785b92b7</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>368ade99-0bcd-37e5-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>368ade99-0bcd-37e5-b486-0e60dec6ebbd</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>42842035-ae6b-3fd4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>42842035-ae6b-3fd4-9047-ce88883d4cc5</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>707a9e82-f3b2-3a56-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>707a9e82-f3b2-3a56-9507-bb35a61a9b58</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>4e410480-71fc-3959-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>4e410480-71fc-3959-b547-fc49e6fc2672</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>c5a06d55-3f67-3be8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c5a06d55-3f67-3be8-8bf3-d2e6318f68d4</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>f799a4c2-3d37-34d4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>f799a4c2-3d37-34d4-996d-3a69697b4306</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>5031dfbf-0439-3254-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>5031dfbf-0439-3254-b01e-1bf8ad6848dc</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>ba276493-3720-308a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>ba276493-3720-308a-a604-788d77667d95</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>nonzero status</selectedRelationships>
    <selectedRelationships>output stream</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>42842035-ae6b-3fd4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>42842035-ae6b-3fd4-9047-ce88883d4cc5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>60420e2a-6fd0-31bd-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>60420e2a-6fd0-31bd-a2c3-8c62d4931970</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>6425023b-4efa-3984-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>6425023b-4efa-3984-808b-529830e07aa0</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>1b163bc4-952f-3074-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>1b163bc4-952f-3074-ac9c-512c6770a676</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>63465662-075e-38da-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>63465662-075e-38da-ba33-0b705b5172c5</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>b5f0ef7c-2961-35fb-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>b5f0ef7c-2961-35fb-a32b-a3c2d9d0a1b4</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>e8988d19-3618-3da0-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e8988d19-3618-3da0-b08a-67dbd672bdc1</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>63e8226b-885f-39f2-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>63e8226b-885f-39f2-9077-49b37c923331</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>062e2d99-e6fe-3ab0-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>062e2d99-e6fe-3ab0-8938-e22b54588304</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>7c79d788-959a-3def-0000-000000000000</id>
        <type>FUNNEL</type>
        <versionedComponentId>7c79d788-959a-3def-bf18-776567b1ab28</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>65ae8887-a40c-353d-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>65ae8887-a40c-353d-a0c5-07669f7941a8</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>cddb529b-77f4-3c61-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>cddb529b-77f4-3c61-8d76-29223606e1f0</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>a573eb1f-f824-37b8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>a573eb1f-f824-37b8-bb1a-01337e890be2</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>69062183-9a4c-3e98-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>69062183-9a4c-3e98-abf7-a3f4f30ab63c</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>c9b2703c-b6b7-3845-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c9b2703c-b6b7-3845-ac99-b9905fdd7a1b</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>2eba13ba-d26c-3b0a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2eba13ba-d26c-3b0a-bef5-264ad85f3747</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>84606665-b202-3679-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>84606665-b202-3679-96b8-cafbd6955b92</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>33393fbb-6b69-3b2a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>33393fbb-6b69-3b2a-9342-d4e1c7b2d7ee</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>kerberos_ticket_expired</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>4c21d1dd-f74d-32f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4c21d1dd-f74d-32f8-9fd9-532b8401c0f5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>935fa1a9-5abb-355c-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>935fa1a9-5abb-355c-ad54-9b29268172ac</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>2080.51904296875</x>
        <y>1979.8475341796875</y>
    </bends>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>ba276493-3720-308a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>ba276493-3720-308a-a604-788d77667d95</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>c5a06d55-3f67-3be8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c5a06d55-3f67-3be8-8bf3-d2e6318f68d4</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9c223fdb-20e2-381c-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>9c223fdb-20e2-381c-b9aa-d60efde56e6a</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>64921fc9-5bca-3005-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>64921fc9-5bca-3005-8cb4-013fed372e73</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>c0a5034d-d160-3598-0000-000000000000</id>
        <type>INPUT_PORT</type>
        <versionedComponentId>c0a5034d-d160-3598-9e1a-ccaddbc5c891</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9fa24635-8947-32a9-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>9fa24635-8947-32a9-a3e8-24f1326ec2f2</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>da21adee-cd56-3f21-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>da21adee-cd56-3f21-afe3-5118785b92b7</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>33393fbb-6b69-3b2a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>33393fbb-6b69-3b2a-9342-d4e1c7b2d7ee</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>abf000c4-756b-37e2-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>abf000c4-756b-37e2-be38-0e02b64fe1d3</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>062e2d99-e6fe-3ab0-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>062e2d99-e6fe-3ab0-8938-e22b54588304</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>cddb529b-77f4-3c61-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>cddb529b-77f4-3c61-8d76-29223606e1f0</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ae3a57e4-2fc2-3b9a-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>ae3a57e4-2fc2-3b9a-9fbb-72075e5221a2</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>c9b2703c-b6b7-3845-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c9b2703c-b6b7-3845-ac99-b9905fdd7a1b</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>da6e4fa6-78a6-38fc-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>da6e4fa6-78a6-38fc-ba0c-e15d10a4eed5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b3968378-bef9-309d-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>b3968378-bef9-309d-83bf-e754d2888680</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>-286.79888916015625</x>
        <y>791.531005859375</y>
    </bends>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>2eba13ba-d26c-3b0a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2eba13ba-d26c-3b0a-bef5-264ad85f3747</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>query_admission_timeout</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>4c21d1dd-f74d-32f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4c21d1dd-f74d-32f8-9fd9-532b8401c0f5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b5e55ce4-3a9a-3b6e-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>b5e55ce4-3a9a-3b6e-8186-2ba823118e87</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>e7a43810-807a-3ac8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e7a43810-807a-3ac8-9e2f-3e6ba9f37f45</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>d0fedd14-c459-3c25-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>d0fedd14-c459-3c25-8e44-25cac5024c65</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b6449e01-0b8e-3c89-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>b6449e01-0b8e-3c89-a8b7-adf6abd412b3</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>ba276493-3720-308a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>ba276493-3720-308a-a604-788d77667d95</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>e7a43810-807a-3ac8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e7a43810-807a-3ac8-9e2f-3e6ba9f37f45</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b9777ee6-f24a-36ff-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>b9777ee6-f24a-36ff-b961-9fb5fabca7d2</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>7c79d788-959a-3def-0000-000000000000</id>
        <type>FUNNEL</type>
        <versionedComponentId>7c79d788-959a-3def-bf18-776567b1ab28</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>c9b2703c-b6b7-3845-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c9b2703c-b6b7-3845-ac99-b9905fdd7a1b</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>bf4a7e52-739f-3372-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>bf4a7e52-739f-3372-a20e-0e7267e8a270</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>c9b2703c-b6b7-3845-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c9b2703c-b6b7-3845-ac99-b9905fdd7a1b</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>6b1cdd86-9b81-3ada-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>6b1cdd86-9b81-3ada-a904-3cad992f3ec6</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>c51b041d-6ede-36b1-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>c51b041d-6ede-36b1-adfe-39b203597050</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>4c21d1dd-f74d-32f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4c21d1dd-f74d-32f8-9fd9-532b8401c0f5</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>64921fc9-5bca-3005-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>64921fc9-5bca-3005-8cb4-013fed372e73</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>daed63bc-e931-3b7c-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>daed63bc-e931-3b7c-a494-e7df62df0b00</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>d0fedd14-c459-3c25-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>d0fedd14-c459-3c25-8e44-25cac5024c65</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>memory_limit_exceeded</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>4c21d1dd-f74d-32f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4c21d1dd-f74d-32f8-9fd9-532b8401c0f5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e27e7d59-8f78-3555-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>e27e7d59-8f78-3555-8da4-43f2f467efea</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>1561.2469482421875</x>
        <y>851.7756958007812</y>
    </bends>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>1b163bc4-952f-3074-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>1b163bc4-952f-3074-ac9c-512c6770a676</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>hdfs_read_fail</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>4c21d1dd-f74d-32f8-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4c21d1dd-f74d-32f8-9fd9-532b8401c0f5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>fe0a83b3-71fd-3c93-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <versionedComponentId>fe0a83b3-71fd-3c93-8e30-c0716080439f</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>cddb529b-77f4-3c61-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>cddb529b-77f4-3c61-8d76-29223606e1f0</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6a27929c-e77b-3f34-0000-000000000000</groupId>
        <id>ba276493-3720-308a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>ba276493-3720-308a-a604-788d77667d95</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<funnels>
    <id>7c79d788-959a-3def-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>85.47195421265053</x>
        <y>2378.472285085842</y>
    </position>
    <versionedComponentId>7c79d788-959a-3def-bf18-776567b1ab28</versionedComponentId>
</funnels>
<inputPorts>
    <id>c0a5034d-d160-3598-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>506.5150030857385</x>
        <y>245.97550510022643</y>
    </position>
    <versionedComponentId>c0a5034d-d160-3598-9e1a-ccaddbc5c891</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>input</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>062e2d99-e6fe-3ab0-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>545.360095859176</x>
        <y>2371.051219211555</y>
    </position>
    <versionedComponentId>062e2d99-e6fe-3ab0-8938-e22b54588304</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>retry</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<outputPorts>
    <id>b5f0ef7c-2961-35fb-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>1827.9156073337854</x>
        <y>2150.3485214576485</y>
    </position>
    <versionedComponentId>b5f0ef7c-2961-35fb-a32b-a3c2d9d0a1b4</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>error</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>1b163bc4-952f-3074-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>1418.265148831099</x>
        <y>912.2643794144105</y>
    </position>
    <versionedComponentId>1b163bc4-952f-3074-ac9c-512c6770a676</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: HDFS read fail while analyzing staging table for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log HDFS read fail</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>2eba13ba-d26c-3b0a-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>-872.9219010346237</x>
        <y>907.6015376175355</y>
    </position>
    <versionedComponentId>2eba13ba-d26c-3b0a-bef5-264ad85f3747</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query was timed out while waiting for admission.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Analyze staging query for file '${filename}' was timed out before it could execute.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Query Admission Timeout</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>33393fbb-6b69-3b2a-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>471.6140868193802</x>
        <y>906.5650996292543</y>
    </position>
    <versionedComponentId>33393fbb-6b69-3b2a-9342-d4e1c7b2d7ee</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because of an expired Kerberos ticket.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Kerberos ticket was expired when analyzing staging table for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Kerberos Ticket Expired</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>42842035-ae6b-3fd4-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>1438.925906075496</x>
        <y>1631.9967717901052</y>
    </position>
    <versionedComponentId>42842035-ae6b-3fd4-9047-ce88883d4cc5</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Execute a partition-level refresh to solve the HDFS read error.
This cheap refresh replaces the expensive "invalidate metadata" we used to run out of desperation.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Working Directory</key>
                <value>
                    <name>Working Directory</name>
                </value>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>
                    <name>Command Path</name>
                </value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>
                    <name>argumentsStrategy</name>
                </value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Command Arguments</name>
                </value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Argument Delimiter</name>
                </value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>
                    <name>Ignore STDIN</name>
                </value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
                <value>
                    <name>Output Destination Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>
                    <name>Max Attribute Length</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Working Directory</key>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>/bin/impala-shell</value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>Command Arguments Property</value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"${refresh_statement}"</value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>;</value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>256</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Run refresh statement</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>nonzero status</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>output stream</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
</processors>
<processors>
    <id>4c21d1dd-f74d-32f8-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>460.7847421478218</x>
        <y>656.6819825027599</y>
    </position>
    <versionedComponentId>4c21d1dd-f74d-32f8-9fd9-532b8401c0f5</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Derive the error type from the execution.error attribute.
Depending on the data type found, take action.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Routing Strategy</key>
                <value>
                    <name>Routing Strategy</name>
                </value>
            </entry>
            <entry>
                <key>hdfs_read_fail</key>
                <value>
                    <name>hdfs_read_fail</name>
                </value>
            </entry>
            <entry>
                <key>kerberos_ticket_expired</key>
                <value>
                    <name>kerberos_ticket_expired</name>
                </value>
            </entry>
            <entry>
                <key>memory_limit_exceeded</key>
                <value>
                    <name>memory_limit_exceeded</name>
                </value>
            </entry>
            <entry>
                <key>memory_oversubscribed</key>
                <value>
                    <name>memory_oversubscribed</name>
                </value>
            </entry>
            <entry>
                <key>query_admission_timeout</key>
                <value>
                    <name>query_admission_timeout</name>
                </value>
            </entry>
            <entry>
                <key>unreachable_impala_deamon</key>
                <value>
                    <name>unreachable_impala_deamon</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
            </entry>
            <entry>
                <key>hdfs_read_fail</key>
                <value>${execution.error:toLower():contains('failed to open hdfs file')}</value>
            </entry>
            <entry>
                <key>kerberos_ticket_expired</key>
                <value>${execution.error:toLower():contains('-k requires a valid kerberos ticket but no valid kerberos ticket found')}</value>
            </entry>
            <entry>
                <key>memory_limit_exceeded</key>
                <value>${execution.error:toLower():contains('memory limit exceeded')}</value>
            </entry>
            <entry>
                <key>memory_oversubscribed</key>
                <value>${execution.error:toLower():contains('memory is likely oversubscribed.')}</value>
            </entry>
            <entry>
                <key>query_admission_timeout</key>
                <value>${execution.error:toLower():contains('admission for query exceeded timeout')}</value>
            </entry>
            <entry>
                <key>unreachable_impala_deamon</key>
                <value>${execution.error:toLower():contains('cancelled due to unreachable impalad(s)')}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Route on error type</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>hdfs_read_fail</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>kerberos_ticket_expired</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>memory_limit_exceeded</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>memory_oversubscribed</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>query_admission_timeout</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unreachable_impala_deamon</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
</processors>
<processors>
    <id>6425023b-4efa-3984-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>1428.2550740085953</x>
        <y>1144.8047506928015</y>
    </position>
    <versionedComponentId>6425023b-4efa-3984-808b-529830e07aa0</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>When we get here, processing has failed because of a parquet file that can no longer be found. This can be solved by executing a refresh statement for the failing table partition.
"
From the error text, which looks like this:
ERROR: Disk I/O error: Failed to open HDFS file hdfs://HDFS-PROD-HA-Service1/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_wafer_production_steps/p_from_trackout_cet_ts=2021-01-27/p_to_trackout_cet_ts=2021-01-28/p_loh_suffix=__HIV
E_DEFAULT_PARTITION__/5b4dcd12481d1596-e70d73170000004d_658979915_data.0.parq
Error(2): No such file or directory

we derive the appropriate refresh statement, that looks like this:
refresh mfg_icn8_apps.nifi_base_wafer_production_steps partition (p_from_trackout_cet_ts='2021-01-27', p_to_trackout_cet_ts='2021-01-28', p_loh_suffix='');
</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>refresh_statement</key>
                <value>
                    <name>refresh_statement</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>refresh_statement</key>
                <value>${execution.error
  :substringAfter  ("/user/hive/warehouse/mfg_icn8/")
  :substringBefore (".parq"                         )
  :replaceAll      ("\R"                        , ""            )
  :replaceFirst    ("/"                         , "."           )
  :replaceFirst    ("/[^/]*$"                   , ""            )
  :replaceFirst    ("/"                         , " partition (")
  :replaceAll      ("/"                         , "', "         )
  :replaceAll      ("="                         , "='"          )
  :replaceAll      ("__HIVE_DEFAULT_PARTITION__", ""            )
  :replaceAll      ("%3A"                       , ":"           )
  :prepend         ("refresh ")
  :append          ("');")
 }</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Derive refresh statement</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>64921fc9-5bca-3005-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>456.22474355766144</x>
        <y>388.7971552933168</y>
    </position>
    <versionedComponentId>64921fc9-5bca-3005-8cb4-013fed372e73</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Write to the log that something went wrong trying to directly insert data into a production table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Failed attempt on direct_insert_query for file '${filename}' of type ${logtype} (mem_limit=${impala_mem_limit}G)
Error details:
${execution.error}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log error on direct insert</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>6b1cdd86-9b81-3ada-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>-423.1467240326706</x>
        <y>913.9645747269105</y>
    </position>
    <versionedComponentId>6b1cdd86-9b81-3ada-a904-3cad992f3ec6</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query was killed because of oversubscribed memory.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Analyze staging query for file '${filename}' was killed because memory was oversubscribed (too many queries running at once).</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Memory Oversubscribed</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>707a9e82-f3b2-3a56-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>1428.2703978545364</x>
        <y>1376.8536738480043</y>
    </position>
    <versionedComponentId>707a9e82-f3b2-3a56-9507-bb35a61a9b58</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Executing ${refresh_statement} for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log refresh statement</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>a573eb1f-f824-37b8-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>466.83551832377134</x>
        <y>1344.2772578323793</y>
    </position>
    <versionedComponentId>a573eb1f-f824-37b8-bb1a-01337e890be2</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Wait a number of seconds before doing another attempt to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Rate Control Criteria</key>
                <value>
                    <name>Rate Control Criteria</name>
                </value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>
                    <name>Time Duration</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate</dependentValues>
                        <dependentValues>attribute value</dependentValues>
                        <dependentValues>flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Data Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum FlowFile Rate</name>
                </value>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
                <value>
                    <dependencies>
                        <dependentValues>attribute value</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Rate Controlled Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
                <value>
                    <name>Grouping Attribute</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Rate Control Criteria</key>
                <value>flowfile count</value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>60 sec</value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>60 second delay</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ControlRate</type>
</processors>
<processors>
    <id>ba276493-3720-308a-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>982.3805622690838</x>
        <y>1913.638265522809</y>
    </position>
    <versionedComponentId>ba276493-3720-308a-a604-788d77667d95</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Increase the counter that keeps track of the number of staging table filling retries.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>retrycounter5</key>
                <value>
                    <name>retrycounter5</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>retrycounter5</key>
                <value>${retrycounter5:isNull():ifElse(1, ${retrycounter5:plus(1)})}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Increase retry counter</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>c5a06d55-3f67-3be8-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>1887.8644489878338</x>
        <y>1335.4562129105043</y>
    </position>
    <versionedComponentId>c5a06d55-3f67-3be8-8bf3-d2e6318f68d4</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Wait a number of seconds before doing another attempt to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Rate Control Criteria</key>
                <value>
                    <name>Rate Control Criteria</name>
                </value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>
                    <name>Time Duration</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate</dependentValues>
                        <dependentValues>attribute value</dependentValues>
                        <dependentValues>flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Data Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum FlowFile Rate</name>
                </value>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
                <value>
                    <dependencies>
                        <dependentValues>attribute value</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Rate Controlled Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
                <value>
                    <name>Grouping Attribute</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Rate Control Criteria</key>
                <value>flowfile count</value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>10 sec</value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>10 second delay</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ControlRate</type>
</processors>
<processors>
    <id>c9b2703c-b6b7-3845-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>-271.23224214375796</x>
        <y>1339.8025263870668</y>
    </position>
    <versionedComponentId>c9b2703c-b6b7-3845-ac99-b9905fdd7a1b</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Wait for 5 minutes, and then retry without increasing the number of retries (when Impala is too busy, we want to keep trying until the query succeeds).</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Rate Control Criteria</key>
                <value>
                    <name>Rate Control Criteria</name>
                </value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>
                    <name>Time Duration</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate</dependentValues>
                        <dependentValues>attribute value</dependentValues>
                        <dependentValues>flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Data Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum FlowFile Rate</name>
                </value>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
                <value>
                    <dependencies>
                        <dependentValues>attribute value</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Rate Controlled Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
                <value>
                    <name>Grouping Attribute</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Rate Control Criteria</key>
                <value>flowfile count</value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>300 sec</value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>5 minute delay</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ControlRate</type>
</processors>
<processors>
    <id>cddb529b-77f4-3c61-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>481.81222219535675</x>
        <y>2119.1464442337465</y>
    </position>
    <versionedComponentId>cddb529b-77f4-3c61-8d76-29223606e1f0</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>If the retry counter has not reached it's maximum value yet, start another attempt to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Routing Strategy</key>
                <value>
                    <name>Routing Strategy</name>
                </value>
            </entry>
            <entry>
                <key>toomanytries</key>
                <value>
                    <name>toomanytries</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
            </entry>
            <entry>
                <key>toomanytries</key>
                <value>${retrycounter5:gt(5)}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Continue until max tries</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>toomanytries</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
</processors>
<processors>
    <id>d0fedd14-c459-3c25-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>965.0395628935989</x>
        <y>905.1749629105043</y>
    </position>
    <versionedComponentId>d0fedd14-c459-3c25-8e44-25cac5024c65</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Impala memory limit exceeded while analyzing staging table for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Memory Limit Exceeded</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>da21adee-cd56-3f21-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>468.36096466924596</x>
        <y>1120.5614690557302</y>
    </position>
    <versionedComponentId>da21adee-cd56-3f21-afe3-5118785b92b7</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Try to refresh the expired Kerberos ticket by calling kinit.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Working Directory</key>
                <value>
                    <name>Working Directory</name>
                </value>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>
                    <name>Command Path</name>
                </value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>
                    <name>argumentsStrategy</name>
                </value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Command Arguments</name>
                </value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Argument Delimiter</name>
                </value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>
                    <name>Ignore STDIN</name>
                </value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
                <value>
                    <name>Output Destination Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>
                    <name>Max Attribute Length</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Working Directory</key>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>/bin/kinit</value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>Command Arguments Property</value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>-kt;/etc/security/keytab/hadoop_nifi_svc.keytab;hadoop_nifi_svc</value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>;</value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>256</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Refresh Kerberos ticket (kinit)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>nonzero status</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>output stream</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
</processors>
<processors>
    <id>da6e4fa6-78a6-38fc-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>40.46422262260285</x>
        <y>904.881444844098</y>
    </position>
    <versionedComponentId>da6e4fa6-78a6-38fc-ba0c-e15d10a4eed5</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query was cancelled because of an unreachable Impala Deamon.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Analyze staging query for file '${filename}' was cancelled because an Impala Deamon was unreachable.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Unreachable Impala Deamon</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>e7a43810-807a-3ac8-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>964.8633503550213</x>
        <y>1123.332357319684</y>
    </position>
    <versionedComponentId>e7a43810-807a-3ac8-9e2f-3e6ba9f37f45</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Increase the memory limit for this query by the pre-defined increment.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>impala_mem_limit</key>
                <value>
                    <name>impala_mem_limit</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>impala_mem_limit</key>
                <value>${impala_mem_limit:plus(${impala_mem_limit_increment})}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Increase mem_limit</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>e8988d19-3618-3da0-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>1385.6784598357376</x>
        <y>2120.472898587492</y>
    </position>
    <versionedComponentId>e8988d19-3618-3da0-b08a-67dbd672bdc1</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Write to the log that Impala permanently fails to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>error</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Unable to execute direct_insert_query for file '${filename}' of type ${logtype}, check queue</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log error on Ingest Staging</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>f799a4c2-3d37-34d4-0000-000000000000</id>
    <parentGroupId>6a27929c-e77b-3f34-0000-000000000000</parentGroupId>
    <position>
        <x>1887.8407103545364</x>
        <y>922.257909687848</y>
    </position>
    <versionedComponentId>f799a4c2-3d37-34d4-996d-3a69697b4306</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because of an unknown error.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Unidentified error while analyzing staging table for file '${filename}'. Please investigate!</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Unidentified Error</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <name>Analyze staging error handling (copy of Ingest staging error handling)</name>
                            <variables/>
                        </processGroups>
                        <processors>
                            <id>2f65c471-5586-3da6-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>333.3433808459763</x>
<y>522.9993301165473</y>
                            </position>
                            <versionedComponentId>2f65c471-5586-3da6-a387-3b84c4c73d94</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Check if this flowfile is allowed to use the new, improved partition swapping script.
</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>yes</key>
        <value>
            <name>yes</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>yes</key>
        <value>${use_new_swap_script_yn:startsWith('Y')}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>use new swap script?</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>yes</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>387e75a8-078d-3fe8-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-609.1537170177776</x>
<y>2059.914144429059</y>
                            </position>
                            <versionedComponentId>387e75a8-078d-3fe8-9c1b-fe0fee35d8c2</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps tracking of the number of metadata update retries.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounter6</key>
        <value>
            <name>retrycounter6</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounter6</key>
        <value>${retrycounter6:isNull():ifElse(1, ${retrycounter6:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>3b1b22a2-9d2a-3ff2-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>306.5624752250478</x>
<y>2242.6739863480043</y>
                            </position>
                            <versionedComponentId>3b1b22a2-9d2a-3ff2-abee-d9d072bc89ed</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Run an Impala script to refresh Impala's metadata. This makes sure that all subsequent Impala queries will see the new data.</comments>
<concurrentlySchedulableTaskCount>5</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
-- ICN8/NiFi/ExecPartSwap/RecovPart
ALTER TABLE ${prod_table} RECOVER PARTITIONS;
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Recover partitions (6)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>46d64d4f-f2d8-35c0-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-296.08098440101776</x>
<y>1860.695493802336</y>
                            </position>
                            <versionedComponentId>46d64d4f-f2d8-35c0-be5b-2b84dd6d924b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that the script for updating Impala's metadata permanently failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute 'Recover Partitions' for file '${filename}' of type ${logtype}, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error in Recover Partitions</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>539f2bf7-22c8-36e4-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>308.73319055707907</x>
<y>1688.5245722855043</y>
                            </position>
                            <versionedComponentId>539f2bf7-22c8-36e4-80c1-c65a3f4c69c5</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Run the Linux shell script that swaps the original partitions in the destination table with the newly prepared partitions in the staging table.
We use this method of updating the destination table to make the user always sees either the old or the new table data.
The concatenated string of destination and staging partitions was prepared in the step before this.</comments>
<concurrentlySchedulableTaskCount>5</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/</value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/swap_partitions.sh</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>${script_parameters}</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Run script 'swap partitions'</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>6ed8aecb-008e-376e-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-161.58443765571747</x>
<y>1426.3063181961488</y>
                            </position>
                            <versionedComponentId>6ed8aecb-008e-376e-a093-8f6c929fa103</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that the parameter string for the partition swap script is too long for the script to be executed from NiFi.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Script output for 'query_5_analyzeStaging' in file '${filename}' of type ${logtype} is too long, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log parameters too long</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>88a32fc5-46f1-338e-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-312.4670775406662</x>
<y>1653.9599970901918</y>
                            </position>
                            <versionedComponentId>88a32fc5-46f1-338e-abf8-fc114a2d1648</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that the Linux shell script for swapping partitions in the destination and staging table, failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Swapping partitions failed for file '${filename}'.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Swap Partitions</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>9ba229f3-4f50-3208-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-609.1537170177776</x>
<y>2283.5599726761293</y>
                            </position>
                            <versionedComponentId>9ba229f3-4f50-3208-a92d-657543b46414</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before starting a new attempt to update the Impala metadata.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>ab4f80ff-3409-36e5-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>302.91724207075094</x>
<y>2523.5054651861133</y>
                            </position>
                            <versionedComponentId>ab4f80ff-3409-36e5-8bf7-1f433d88db7b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the NiFi log that the partition swap was successful.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Succesfully swapped file '${filename}' of type ${logtype} into production</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log successful partition swap</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>bc8e1918-f457-3b95-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>333.72379018934225</x>
<y>746.6454981888246</y>
                            </position>
                            <versionedComponentId>bc8e1918-f457-3b95-a873-a45af24d6802</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Make sure the contents of the flow file don't contain any results of previous queries, as this could be confusing when analyzing the result of the next query.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Replacement Strategy</key>
        <value>
            <name>Replacement Strategy</name>
        </value>
    </entry>
    <entry>
        <key>Regular Expression</key>
        <value>
            <dependencies>
                <dependentValues>Regex Replace</dependentValues>
                <dependentValues>Literal Replace</dependentValues>
                <propertyName>Replacement Strategy</propertyName>
            </dependencies>
            <name>Regular Expression</name>
        </value>
    </entry>
    <entry>
        <key>Replacement Value</key>
        <value>
            <dependencies>
                <dependentValues>Prepend</dependentValues>
                <dependentValues>Regex Replace</dependentValues>
                <dependentValues>Always Replace</dependentValues>
                <dependentValues>Append</dependentValues>
                <dependentValues>Literal Replace</dependentValues>
                <propertyName>Replacement Strategy</propertyName>
            </dependencies>
            <name>Replacement Value</name>
        </value>
    </entry>
    <entry>
        <key>Text to Prepend</key>
        <value>
            <dependencies>
                <dependentValues>Surround</dependentValues>
                <propertyName>Replacement Strategy</propertyName>
            </dependencies>
            <name>Text to Prepend</name>
        </value>
    </entry>
    <entry>
        <key>Text to Append</key>
        <value>
            <dependencies>
                <dependentValues>Surround</dependentValues>
                <propertyName>Replacement Strategy</propertyName>
            </dependencies>
            <name>Text to Append</name>
        </value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Evaluation Mode</key>
        <value>
            <name>Evaluation Mode</name>
        </value>
    </entry>
    <entry>
        <key>Line-by-Line Evaluation Mode</key>
        <value>
            <name>Line-by-Line Evaluation Mode</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Replacement Strategy</key>
        <value>Always Replace</value>
    </entry>
    <entry>
        <key>Regular Expression</key>
        <value>(?s)(^.*$)</value>
    </entry>
    <entry>
        <key>Replacement Value</key>
        <value></value>
    </entry>
    <entry>
        <key>Text to Prepend</key>
    </entry>
    <entry>
        <key>Text to Append</key>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>Evaluation Mode</key>
        <value>Entire text</value>
    </entry>
    <entry>
        <key>Line-by-Line Evaluation Mode</key>
        <value>All</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Clear content</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ReplaceText</type>
                        </processors>
                        <processors>
                            <id>d03b0476-b1ee-3dcf-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>866.6769771781728</x>
<y>1860.1495722855043</y>
                            </position>
                            <versionedComponentId>d03b0476-b1ee-3dcf-a975-5eca5e79dc03</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Run the Linux shell script that swaps the original partitions in the destination table with the newly prepared partitions in the staging table.
We use this method of updating the destination table to make the user always sees either the old or the new table data.
The concatenated string of destination and staging partitions was prepared in the step before this.

2022-09-06: The new version of the swap script is supposed to be faster and more reliable, and doesn't need the expensive "recover partitions" processor afterward./</comments>
<concurrentlySchedulableTaskCount>5</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/</value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/swap_partitions_new.sh</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>"${prod_location}${swap_main_partition}";"${staging_location}${swap_main_partition}";"${valid_from}";"${valid_to}";"${inner_partition}";"${logtype}"
</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Run script 'swap partitions' (new)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>d588aedc-63b0-350b-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>325.4698575720158</x>
<y>1180.281740149522</y>
                            </position>
                            <versionedComponentId>d588aedc-63b0-350b-9d2f-6673ef2ec3c2</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>After the previous step, the attribute script_parameters should be filled with the names of the partitions in the production table and staging table that need to be swapped.
If the attribute is empty or null, something went wrong. We try an invalidate metadata to solve the problem.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>empty_script_parameters</key>
        <value>
            <name>empty_script_parameters</name>
        </value>
    </entry>
    <entry>
        <key>null_script_parameters</key>
        <value>
            <name>null_script_parameters</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>empty_script_parameters</key>
        <value>${script_parameters:isEmpty()}</value>
    </entry>
    <entry>
        <key>null_script_parameters</key>
        <value>${script_parameters:isNull()}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check for empty script_parameters</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>empty_script_parameters</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>null_script_parameters</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>d69a02a3-4a5a-340b-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>327.66309168012594</x>
<y>958.4126032913637</y>
                            </position>
                            <versionedComponentId>d69a02a3-4a5a-340b-8770-9cfa5a7d8c0e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Execute the Impala query (configured in "Configure and wait lobby") that checks which partitions in the destination table should be removed, and by which partitions in the staging table they should be replaced.
The query returns a concatenation of the destination and staging directories that should be swapped in HDFS.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/run_impala_query.sh</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"${query_5_analyzeStaging}"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>script_parameters</value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>8192</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Analyze Staging (5)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>e65604ef-b91e-30df-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-150.92510579755935</x>
<y>2283.5599726761293</y>
                            </position>
                            <versionedComponentId>e65604ef-b91e-30df-b650-f7837ea62d1b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that something went wrong in the Impala script that updates the Impala metadata after swapping partitions.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on 'Recover Partitions' for file '${filename}' of type ${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error in Recover Partitions</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>f4973a83-b941-3bef-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>312.2278499809072</x>
<y>1425.7674998367738</y>
                            </position>
                            <versionedComponentId>f4973a83-b941-3bef-bad0-f81bd3df0f86</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Check whether the concatenation of old and new partition directories doesn't exceed the current limit of 8192 characters.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>valid</key>
        <value>
            <name>valid</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>valid</key>
        <value>${script_parameters:length():lt(8192)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Script parameters valid</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>valid</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>fa384c71-f1e3-385b-0000-000000000000</id>
                            <parentGroupId>6361b0c4-97b6-304a-0000-000000000000</parentGroupId>
                            <position>
<x>-151.61130880048904</x>
<y>2109.085531147809</y>
                            </position>
                            <versionedComponentId>fa384c71-f1e3-385b-88b2-684267c7a888</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the maximum number of retries has not been reached yet, start another attempt to update the Impala metadata.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounter6:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Execute partition swap</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>6fc3abb2-a685-315d-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1684.572273694865</x>
                        <y>1751.813100727887</y>
                    </position>
                    <versionedComponentId>6fc3abb2-a685-315d-a2b9-1e0990f1e81e</versionedComponentId>
                    <comments>Determine the table partitions that overlap the period of the incoming file or aggregation, and fill the staging table with the new contents for these partitions.
In case of a partial overlap some data will come from the incoming file or source tables, and some data will be copied from the destination table.</comments>
                    <contents>
                        <connections>
                            <id>0a450335-42d2-3d2f-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>0a450335-42d2-3d2f-bf3a-26e6d7f08421</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>d0a5645b-56fb-34a8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d0a5645b-56fb-34a8-b7cb-1acad572a21e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>471b28d7-c247-3ae5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>471b28d7-c247-3ae5-af0c-1cbbf4866e09</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2687d65a-b69f-36c2-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>2687d65a-b69f-36c2-b3b7-6f9b05e88f49</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>ca943a35-01a3-3e55-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ca943a35-01a3-3e55-8f8f-daebd041f6f9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>c8e16e3e-b41e-3782-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>c8e16e3e-b41e-3782-acd0-8f2ace8e3b88</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2689fc47-74e9-3835-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>2689fc47-74e9-3835-bbec-086630394f43</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>8595b6cb-8798-37d6-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8595b6cb-8798-37d6-9e66-67f7a4a8cf04</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>d14fedac-9e34-397b-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>d14fedac-9e34-397b-bc85-1e3c085590aa</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>280e2479-1f72-3883-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>280e2479-1f72-3883-a6b3-7c7e03e71084</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>8ee685c4-78dc-308b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8ee685c4-78dc-308b-ab27-eeb4cb1ce9be</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>846171f9-c1c5-3b5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>846171f9-c1c5-3b5b-b8ec-8f97daed363c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2c4d6ea6-11c6-311b-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>2c4d6ea6-11c6-311b-90e0-f0f6546b4277</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>eda3a2b3-a52d-336c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>eda3a2b3-a52d-336c-9522-c3a01d917a22</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>d0a5645b-56fb-34a8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d0a5645b-56fb-34a8-b7cb-1acad572a21e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2e01a2e1-2d52-3e7d-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>2e01a2e1-2d52-3e7d-9e66-cbd6e9201785</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>4518133d-e953-3410-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4518133d-e953-3410-95c1-d5c0038e4113</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>valid</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>31cba2ec-05fe-3e37-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>31cba2ec-05fe-3e37-ba16-7248657d8776</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>352b5a07-b736-3191-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>352b5a07-b736-3191-a659-a6732945f40a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>1e04166d-fee3-38fd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1e04166d-fee3-38fd-8e9c-55b5db58709e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>31cba2ec-05fe-3e37-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>31cba2ec-05fe-3e37-ba16-7248657d8776</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4b1e579a-9d23-38be-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>4b1e579a-9d23-38be-b345-e8db033a593c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>31cba2ec-05fe-3e37-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>31cba2ec-05fe-3e37-ba16-7248657d8776</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>d0a5645b-56fb-34a8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d0a5645b-56fb-34a8-b7cb-1acad572a21e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>54845b78-d59e-3076-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>54845b78-d59e-3076-b145-5f44944b860e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>2610848b-787d-3ce3-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>2610848b-787d-3ce3-9062-650a8e503027</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
<id>3f2918f4-d3b6-3f2e-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>3f2918f4-d3b6-3f2e-a714-8b257fc7a70a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>59983ca7-4f95-3b10-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>59983ca7-4f95-3b10-917a-b065dd3d7e7e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>d14fedac-9e34-397b-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>d14fedac-9e34-397b-bc85-1e3c085590aa</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>f0e38aaa-dc94-3131-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f0e38aaa-dc94-3131-a43c-5a089dba60a5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>69d848a5-2c82-3692-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>69d848a5-2c82-3692-a5b0-56fdf038b60e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>cc17a4e4-20ce-3062-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>cc17a4e4-20ce-3062-b990-35f9e4d6e618</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>b8becc90-1522-3afd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b8becc90-1522-3afd-99ba-0b4741d420e1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6f43844a-0915-32b0-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>6f43844a-0915-32b0-8258-7a6377fd0456</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>9925621e-20a2-3b7e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9925621e-20a2-3b7e-873a-2570b3ec39bc</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>8ee685c4-78dc-308b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8ee685c4-78dc-308b-ab27-eeb4cb1ce9be</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>79286913-4657-3789-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>79286913-4657-3789-a3de-ccf1c8665e2c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>2610848b-787d-3ce3-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>2610848b-787d-3ce3-9062-650a8e503027</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>8ea789bb-2521-3ba7-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8ea789bb-2521-3ba7-8b19-b4629b1b7daf</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7cb16b1f-002e-34ce-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>7cb16b1f-002e-34ce-b5b0-b007d0c8dc68</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>d0a5645b-56fb-34a8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d0a5645b-56fb-34a8-b7cb-1acad572a21e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>9925621e-20a2-3b7e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9925621e-20a2-3b7e-873a-2570b3ec39bc</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>87fe2115-3bed-3b03-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>87fe2115-3bed-3b03-8c5d-6bc52ab5d37e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>b8becc90-1522-3afd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b8becc90-1522-3afd-99ba-0b4741d420e1</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>4518133d-e953-3410-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4518133d-e953-3410-95c1-d5c0038e4113</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8d25952c-9b74-3617-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>8d25952c-9b74-3617-a7b7-81fc51db1325</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
<id>90d64eaf-11b7-375e-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>90d64eaf-11b7-375e-be9b-d1d9d3b12a1a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>b8becc90-1522-3afd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b8becc90-1522-3afd-99ba-0b4741d420e1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>95ec6402-53e2-3b2f-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>95ec6402-53e2-3b2f-924e-9ba8fea79cd4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>23080913-8923-3ff6-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>23080913-8923-3ff6-9bdf-9729fe2700d4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>ba717a93-3352-31cf-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ba717a93-3352-31cf-b2b6-d53288a0bd96</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9bf38f79-3406-3d9d-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>9bf38f79-3406-3d9d-9355-cab3aab9ba89</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>143.49213618254714</x>
<y>1496.4315649078892</y>
                            </bends>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>b8becc90-1522-3afd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b8becc90-1522-3afd-99ba-0b4741d420e1</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
<id>19cc9993-69b5-399e-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>19cc9993-69b5-399e-a5b7-af7ea73dc729</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9e5f0c32-f904-3a49-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>9e5f0c32-f904-3a49-b5e1-b949a5b3c40d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>471b28d7-c247-3ae5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>471b28d7-c247-3ae5-af0c-1cbbf4866e09</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>hdfs_init_command_specified</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>ca943a35-01a3-3e55-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ca943a35-01a3-3e55-8f8f-daebd041f6f9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a3ac56e2-0b61-3ddf-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>a3ac56e2-0b61-3ddf-a08d-a0a205d88620</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>2610848b-787d-3ce3-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>2610848b-787d-3ce3-9062-650a8e503027</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>8595b6cb-8798-37d6-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8595b6cb-8798-37d6-9e66-67f7a4a8cf04</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ab477481-1b53-3a5f-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>ab477481-1b53-3a5f-8f7c-a02da1dafaf1</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>791.4629516601562</x>
<y>119.8750228881836</y>
                            </bends>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>d0a5645b-56fb-34a8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d0a5645b-56fb-34a8-b7cb-1acad572a21e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>ca943a35-01a3-3e55-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ca943a35-01a3-3e55-8f8f-daebd041f6f9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c0075178-5342-349d-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>c0075178-5342-349d-88b0-48a7a84b2b6b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>f0e38aaa-dc94-3131-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f0e38aaa-dc94-3131-a43c-5a089dba60a5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>invalid</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>31cba2ec-05fe-3e37-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>31cba2ec-05fe-3e37-ba16-7248657d8776</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c419eb98-6d1c-3e1d-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>c419eb98-6d1c-3e1d-ad44-cf413b3b83f1</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>846171f9-c1c5-3b5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>846171f9-c1c5-3b5b-b8ec-8f97daed363c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>eda3a2b3-a52d-336c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>eda3a2b3-a52d-336c-9522-c3a01d917a22</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c928a945-7c78-3b6d-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>c928a945-7c78-3b6d-befd-38b1116a6caf</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>2610848b-787d-3ce3-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>2610848b-787d-3ce3-9062-650a8e503027</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>23080913-8923-3ff6-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>23080913-8923-3ff6-9bdf-9729fe2700d4</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cabcc966-e34f-3644-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>cabcc966-e34f-3644-b839-4ed1cbb53378</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>8ea789bb-2521-3ba7-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>8ea789bb-2521-3ba7-8b19-b4629b1b7daf</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>1e04166d-fee3-38fd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1e04166d-fee3-38fd-8e9c-55b5db58709e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e3a5a0cf-9881-36b4-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>e3a5a0cf-9881-36b4-bd8e-df253c710a6b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>ba717a93-3352-31cf-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ba717a93-3352-31cf-b2b6-d53288a0bd96</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>9925621e-20a2-3b7e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9925621e-20a2-3b7e-873a-2570b3ec39bc</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fb408a08-f5bf-3fb0-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <versionedComponentId>fb408a08-f5bf-3fb0-97eb-7aedb261961f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>7c372220-628f-3297-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>7c372220-628f-3297-9b2c-4bf35ed8b2b3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>6fc3abb2-a685-315d-0000-000000000000</groupId>
<id>cc17a4e4-20ce-3062-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>cc17a4e4-20ce-3062-b990-35f9e4d6e618</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <funnels>
                            <id>23080913-8923-3ff6-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-498.9999919301349</x>
<y>-102.0000096236754</y>
                            </position>
                            <versionedComponentId>23080913-8923-3ff6-9bdf-9729fe2700d4</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>8595b6cb-8798-37d6-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-1535.082225720079</x>
<y>-480.1658196010105</y>
                            </position>
                            <versionedComponentId>8595b6cb-8798-37d6-9e66-67f7a4a8cf04</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>8ea789bb-2521-3ba7-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-459.2645182973224</x>
<y>582.7761682673863</y>
                            </position>
                            <versionedComponentId>8ea789bb-2521-3ba7-8b19-b4629b1b7daf</versionedComponentId>
                        </funnels>
                        <funnels>
                            <id>d14fedac-9e34-397b-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>926.9058501250443</x>
<y>-486.7878971969176</y>
                            </position>
                            <versionedComponentId>d14fedac-9e34-397b-bc85-1e3c085590aa</versionedComponentId>
                        </funnels>
                        <inputPorts>
                            <id>c8e16e3e-b41e-3782-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>309.51643945844626</x>
<y>-341.96410569301133</y>
                            </position>
                            <versionedComponentId>c8e16e3e-b41e-3782-acd0-8f2ace8e3b88</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>in</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>2610848b-787d-3ce3-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-1680.6229232833202</x>
<y>833.6332934855948</y>
                            </position>
                            <versionedComponentId>2610848b-787d-3ce3-9062-650a8e503027</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>error</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <outputPorts>
                            <id>7c372220-628f-3297-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>326.2781887260244</x>
<y>1834.9999903763246</y>
                            </position>
                            <versionedComponentId>7c372220-628f-3297-9b2c-4bf35ed8b2b3</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>out</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processGroups>
                            <id>a5e97e34-1e34-3263-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-586.1595932408129</x>
<y>1120.5924027451179</y>
                            </position>
                            <versionedComponentId>a5e97e34-1e34-3263-8fb1-4e3574f67e8a</versionedComponentId>
                            <comments></comments>
                            <contents>
<connections>
    <id>01c1c42d-b8b3-3292-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>01c1c42d-b8b3-3292-8ede-30857eed1896</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>160303b1-68aa-3f19-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>160303b1-68aa-3f19-801c-25337fb5096f</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>toomanytries</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>dca83c34-58e5-3d36-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>dca83c34-58e5-3d36-9594-b2ed34947493</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>0bc602df-bf0d-369d-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>0bc602df-bf0d-369d-903a-d1388f46afae</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>826e55d1-d533-3484-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>826e55d1-d533-3484-be03-b4e0e6df4fb6</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>4e6b247e-f3ea-3990-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4e6b247e-f3ea-3990-a585-22d3247d6b32</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>13cf048a-fd20-3754-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>13cf048a-fd20-3754-801a-ea90c1410cf4</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>-270.33453369140625</x>
        <y>793.247802734375</y>
    </bends>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>4e6b247e-f3ea-3990-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>4e6b247e-f3ea-3990-a585-22d3247d6b32</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>query_admission_timeout</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>871b9e62-8b0b-3c7b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>871b9e62-8b0b-3c7b-aaa0-06b15e419be5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>1dff31b2-fce6-3ec6-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>1dff31b2-fce6-3ec6-b4bb-fee0708b8727</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>aba71d97-16a0-33ee-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>aba71d97-16a0-33ee-aa71-56711390eaf0</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>5049eb93-ca07-370a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>5049eb93-ca07-370a-bcd0-3b1078c8ceb8</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>35d30840-895d-33bf-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>35d30840-895d-33bf-b165-444c2d910a0a</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>dca83c34-58e5-3d36-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>dca83c34-58e5-3d36-9594-b2ed34947493</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>181f790d-71ea-3d44-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>181f790d-71ea-3d44-9df3-d8f4722cd0ca</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>366f0b68-19aa-3e70-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>366f0b68-19aa-3e70-bede-491c5e4a080c</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>3f2918f4-d3b6-3f2e-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>3f2918f4-d3b6-3f2e-a714-8b257fc7a70a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>160303b1-68aa-3f19-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>160303b1-68aa-3f19-801c-25337fb5096f</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>3afb0921-afbf-3d80-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>3afb0921-afbf-3d80-9220-e150f622a41b</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>871b9e62-8b0b-3c7b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>871b9e62-8b0b-3c7b-aaa0-06b15e419be5</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>08a36e8c-a4fe-3d43-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>08a36e8c-a4fe-3d43-b964-c1b594ba8e92</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>435cb693-350e-3c3f-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>435cb693-350e-3c3f-ad92-25f1811ea1ec</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>e8c54876-76bb-307c-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e8c54876-76bb-307c-993c-0ef1295a0019</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>kerberos_ticket_expired</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>871b9e62-8b0b-3c7b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>871b9e62-8b0b-3c7b-aaa0-06b15e419be5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>5e03e4ea-cac0-3d6f-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>5e03e4ea-cac0-3d6f-8fab-dbe367290c3f</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>250167bc-e289-3efe-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>250167bc-e289-3efe-996c-2aeb1fcfa496</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>memory_limit_exceeded</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>871b9e62-8b0b-3c7b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>871b9e62-8b0b-3c7b-aaa0-06b15e419be5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>6043a67c-7b77-3c30-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>6043a67c-7b77-3c30-b2f6-cb2763658996</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>fc9a8902-a59c-31b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>fc9a8902-a59c-31b4-8abe-1142e47ab918</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>unreachable_impala_deamon</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>871b9e62-8b0b-3c7b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>871b9e62-8b0b-3c7b-aaa0-06b15e419be5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>6b99fe69-3c11-353f-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>6b99fe69-3c11-353f-969b-33876c4f8041</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>5049eb93-ca07-370a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>5049eb93-ca07-370a-bcd0-3b1078c8ceb8</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>b30b18bd-b866-31ad-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>b30b18bd-b866-31ad-ad74-3dee0f3f4b8f</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>70728f34-02a2-34d7-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>70728f34-02a2-34d7-b8d9-697174308cb6</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>826e55d1-d533-3484-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>826e55d1-d533-3484-be03-b4e0e6df4fb6</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>62780508-e325-3c1f-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>62780508-e325-3c1f-9323-3b135fac0d1e</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>76607c8b-449a-3fa4-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>76607c8b-449a-3fa4-ac58-c33ede5a56a2</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>15882a04-c233-3b96-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>15882a04-c233-3b96-bcda-7697acef84e3</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>e8c54876-76bb-307c-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>e8c54876-76bb-307c-993c-0ef1295a0019</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>7aacfb7f-3eb0-32b7-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>7aacfb7f-3eb0-32b7-8659-cbe6fd90a39b</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>19cc9993-69b5-399e-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>19cc9993-69b5-399e-a5b7-af7ea73dc729</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>12136511-3e72-3f51-0000-000000000000</id>
        <type>FUNNEL</type>
        <versionedComponentId>12136511-3e72-3f51-a6c4-b95607b5ab1a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>80d05180-eb62-38c6-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>80d05180-eb62-38c6-badb-b19d52080047</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>2c6b74c1-aea2-302d-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2c6b74c1-aea2-302d-81a6-13a3154c111a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>nonzero status</selectedRelationships>
    <selectedRelationships>output stream</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>aba71d97-16a0-33ee-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>aba71d97-16a0-33ee-aa71-56711390eaf0</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>85cbdba1-fb31-3a25-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>85cbdba1-fb31-3a25-b992-9cb7ab5d631b</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>b30b18bd-b866-31ad-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>b30b18bd-b866-31ad-ad74-3dee0f3f4b8f</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>57fcce58-0e06-3dea-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>57fcce58-0e06-3dea-b02c-e06f06d19387</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>888ca7de-5887-3be0-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>888ca7de-5887-3be0-baf1-4f525f2e61b4</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>08a36e8c-a4fe-3d43-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>08a36e8c-a4fe-3d43-b964-c1b594ba8e92</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>90d64eaf-11b7-375e-0000-000000000000</id>
        <type>INPUT_PORT</type>
        <versionedComponentId>90d64eaf-11b7-375e-be9b-d1d9d3b12a1a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>8aeff507-cc93-3453-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>8aeff507-cc93-3453-82eb-6522f27e75f6</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>62780508-e325-3c1f-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>62780508-e325-3c1f-9323-3b135fac0d1e</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>memory_oversubscribed</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>871b9e62-8b0b-3c7b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>871b9e62-8b0b-3c7b-aaa0-06b15e419be5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>a1990edd-ed87-3f37-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>a1990edd-ed87-3f37-800d-661a3156f250</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>826e55d1-d533-3484-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>826e55d1-d533-3484-be03-b4e0e6df4fb6</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>fc9a8902-a59c-31b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>fc9a8902-a59c-31b4-8abe-1142e47ab918</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b2c77351-050e-3552-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>b2c77351-050e-3552-afa5-d249ae451342</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>2082.6497802734375</x>
        <y>1825.1588134765625</y>
    </bends>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>2c6b74c1-aea2-302d-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2c6b74c1-aea2-302d-81a6-13a3154c111a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>9b779d33-5114-379e-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>9b779d33-5114-379e-8e44-f1c001b75bb8</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>bc7a119e-6a7f-39c5-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>bc7a119e-6a7f-39c5-8d4c-7c1ed45c2339</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>2049.0323486328125</x>
        <y>823.3342895507812</y>
    </bends>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>70cf68e8-e757-3281-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>70cf68e8-e757-3281-8469-b128522e589b</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>871b9e62-8b0b-3c7b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>871b9e62-8b0b-3c7b-aaa0-06b15e419be5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>c36594f6-8c92-3405-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>c36594f6-8c92-3405-9f9e-8fef174d1194</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>9b779d33-5114-379e-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>9b779d33-5114-379e-8e44-f1c001b75bb8</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>70cf68e8-e757-3281-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>70cf68e8-e757-3281-8469-b128522e589b</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>c8b7ba27-3973-3994-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>c8b7ba27-3973-3994-a848-e27aa6bfcbc7</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>19cc9993-69b5-399e-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>19cc9993-69b5-399e-a5b7-af7ea73dc729</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>unmatched</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>dca83c34-58e5-3d36-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>dca83c34-58e5-3d36-9594-b2ed34947493</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>cdfc7832-c25c-3ab3-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>cdfc7832-c25c-3ab3-b3bd-18724addd442</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>c438575d-4be9-34f2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c438575d-4be9-34f2-9361-6fe082534a61</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>250167bc-e289-3efe-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>250167bc-e289-3efe-996c-2aeb1fcfa496</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>cec88e8b-5c0e-3344-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>cec88e8b-5c0e-3344-b0d3-8f134ff1fba0</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>1587.9559326171875</x>
        <y>849.9461669921875</y>
    </bends>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>57fcce58-0e06-3dea-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>57fcce58-0e06-3dea-b02c-e06f06d19387</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>hdfs_read_fail</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>871b9e62-8b0b-3c7b-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>871b9e62-8b0b-3c7b-aaa0-06b15e419be5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>d934b871-99a9-302a-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>d934b871-99a9-302a-be12-00a768cfd9ba</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>181f790d-71ea-3d44-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>181f790d-71ea-3d44-9df3-d8f4722cd0ca</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>nonzero status</selectedRelationships>
    <selectedRelationships>output stream</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>15882a04-c233-3b96-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>15882a04-c233-3b96-bcda-7697acef84e3</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>dd4ef440-add5-37e8-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>dd4ef440-add5-37e8-b065-766797c19de4</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>dca83c34-58e5-3d36-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>dca83c34-58e5-3d36-9594-b2ed34947493</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>2c6b74c1-aea2-302d-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2c6b74c1-aea2-302d-81a6-13a3154c111a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f25ed1e1-efe9-3c35-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>f25ed1e1-efe9-3c35-87a9-a0143dcfaca9</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>2c6b74c1-aea2-302d-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2c6b74c1-aea2-302d-81a6-13a3154c111a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>c438575d-4be9-34f2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>c438575d-4be9-34f2-9361-6fe082534a61</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f78cdd61-9d35-3b69-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <versionedComponentId>f78cdd61-9d35-3b69-a1ad-d80974c8c7f2</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>12136511-3e72-3f51-0000-000000000000</id>
        <type>FUNNEL</type>
        <versionedComponentId>12136511-3e72-3f51-a6c4-b95607b5ab1a</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5e97e34-1e34-3263-0000-000000000000</groupId>
        <id>826e55d1-d533-3484-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>826e55d1-d533-3484-be03-b4e0e6df4fb6</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<funnels>
    <id>12136511-3e72-3f51-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>112.32152544067787</x>
        <y>2323.2651317655295</y>
    </position>
    <versionedComponentId>12136511-3e72-3f51-a6c4-b95607b5ab1a</versionedComponentId>
</funnels>
<inputPorts>
    <id>90d64eaf-11b7-375e-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>506.5150030857385</x>
        <y>245.97550510022643</y>
    </position>
    <versionedComponentId>90d64eaf-11b7-375e-be9b-d1d9d3b12a1a</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>input</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>19cc9993-69b5-399e-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>526.6353644138635</x>
        <y>2316.477000461555</y>
    </position>
    <versionedComponentId>19cc9993-69b5-399e-a5b7-af7ea73dc729</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>retry</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<outputPorts>
    <id>3f2918f4-d3b6-3f2e-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>1938.0580633884729</x>
        <y>2107.9315292701485</y>
    </position>
    <versionedComponentId>3f2918f4-d3b6-3f2e-a714-8b257fc7a70a</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>error</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>08a36e8c-a4fe-3d43-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>456.84827871391144</x>
        <y>352.84287062534804</y>
    </position>
    <versionedComponentId>08a36e8c-a4fe-3d43-b964-c1b594ba8e92</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Write to the log that something went wrong trying to fill the staging table with the new data.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Failed attempt on 'query_4_ingestStaging' for file '${filename}' of type ${logtype} (mem_limit=${impala_mem_limit}G)
Error details:
${execution.error}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log error on Ingest Staging</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>15882a04-c233-3b96-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>468.36096466924596</x>
        <y>1120.5614690557302</y>
    </position>
    <versionedComponentId>15882a04-c233-3b96-bcda-7697acef84e3</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Try to refresh the expired Kerberos ticket by calling kinit.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Working Directory</key>
                <value>
                    <name>Working Directory</name>
                </value>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>
                    <name>Command Path</name>
                </value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>
                    <name>argumentsStrategy</name>
                </value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Command Arguments</name>
                </value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Argument Delimiter</name>
                </value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>
                    <name>Ignore STDIN</name>
                </value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
                <value>
                    <name>Output Destination Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>
                    <name>Max Attribute Length</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Working Directory</key>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>/bin/kinit</value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>Command Arguments Property</value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>-kt;/etc/security/keytab/hadoop_nifi_svc.keytab;hadoop_nifi_svc</value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>;</value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>256</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Refresh Kerberos ticket (kinit)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>nonzero status</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>output stream</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
</processors>
<processors>
    <id>160303b1-68aa-3f19-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>1378.1757742888626</x>
        <y>2064.028318509367</y>
    </position>
    <versionedComponentId>160303b1-68aa-3f19-801c-25337fb5096f</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Write to the log that Impala permanently fails to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>error</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Unable to execute 'query_4_ingestStaging' for file '${filename}' of type ${logtype}, check queue</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log error on Ingest Staging</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>181f790d-71ea-3d44-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>466.83551832377134</x>
        <y>1344.2772578323793</y>
    </position>
    <versionedComponentId>181f790d-71ea-3d44-9df3-d8f4722cd0ca</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Wait a number of seconds before doing another attempt to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Rate Control Criteria</key>
                <value>
                    <name>Rate Control Criteria</name>
                </value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>
                    <name>Time Duration</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate</dependentValues>
                        <dependentValues>attribute value</dependentValues>
                        <dependentValues>flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Data Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum FlowFile Rate</name>
                </value>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
                <value>
                    <dependencies>
                        <dependentValues>attribute value</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Rate Controlled Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
                <value>
                    <name>Grouping Attribute</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Rate Control Criteria</key>
                <value>flowfile count</value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>60 sec</value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>60 second delay</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ControlRate</type>
</processors>
<processors>
    <id>250167bc-e289-3efe-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>966.4570433623489</x>
        <y>902.3400630081605</y>
    </position>
    <versionedComponentId>250167bc-e289-3efe-996c-2aeb1fcfa496</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Impala memory limit exceeded while writing staging table for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Memory Limit Exceeded</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>2c6b74c1-aea2-302d-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>971.7078327768963</x>
        <y>1858.905111225934</y>
    </position>
    <versionedComponentId>2c6b74c1-aea2-302d-81a6-13a3154c111a</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Increase the counter that keeps track of the number of staging table filling retries.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>retrycounter4</key>
                <value>
                    <name>retrycounter4</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>retrycounter4</key>
                <value>${retrycounter4:isNull():ifElse(1, ${retrycounter4:plus(1)})}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Increase retry counter</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>4e6b247e-f3ea-3990-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>-896.3680909149948</x>
        <y>917.7218379105043</y>
    </position>
    <versionedComponentId>4e6b247e-f3ea-3990-a585-22d3247d6b32</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query was timed out while waiting for admission.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Staging query for file '${filename}' was timed out before it could execute.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Query Admission Timeout</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>5049eb93-ca07-370a-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>1440.513195706099</x>
        <y>1376.339452656598</y>
    </position>
    <versionedComponentId>5049eb93-ca07-370a-bcd0-3b1078c8ceb8</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Executing ${refresh_statement} for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log refresh statement</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>57fcce58-0e06-3dea-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>1427.673107815474</x>
        <y>911.7501582230043</y>
    </position>
    <versionedComponentId>57fcce58-0e06-3dea-b02c-e06f06d19387</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: HDFS read fail while writing staging table for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log HDFS read fail</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>62780508-e325-3c1f-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>-439.0426743500534</x>
        <y>912.9551142776918</y>
    </position>
    <versionedComponentId>62780508-e325-3c1f-9323-3b135fac0d1e</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query was killed because of oversubscribed memory.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Staging query for file '${filename}' was killed because memory was oversubscribed (too many queries running at once).</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Memory Oversubscribed</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>70cf68e8-e757-3281-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>1903.0116087920364</x>
        <y>922.257909687848</y>
    </position>
    <versionedComponentId>70cf68e8-e757-3281-8469-b128522e589b</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because of an unknown error.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Unidentified error while writing staging table for file '${filename}'. Please investigate!</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Unidentified Error</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>826e55d1-d533-3484-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>-431.8121075993854</x>
        <y>1335.3959101761293</y>
    </position>
    <versionedComponentId>826e55d1-d533-3484-be03-b4e0e6df4fb6</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Wait for 5 minutes, and then retry without increasing the number of retries (when Impala is too busy, we want to keep trying until the query succeeds).</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Rate Control Criteria</key>
                <value>
                    <name>Rate Control Criteria</name>
                </value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>
                    <name>Time Duration</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate</dependentValues>
                        <dependentValues>attribute value</dependentValues>
                        <dependentValues>flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Data Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum FlowFile Rate</name>
                </value>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
                <value>
                    <dependencies>
                        <dependentValues>attribute value</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Rate Controlled Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
                <value>
                    <name>Grouping Attribute</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Rate Control Criteria</key>
                <value>flowfile count</value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>300 sec</value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>5 minute delay</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ControlRate</type>
</processors>
<processors>
    <id>871b9e62-8b0b-3c7b-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>459.3672616790718</x>
        <y>656.6819825027599</y>
    </position>
    <versionedComponentId>871b9e62-8b0b-3c7b-aaa0-06b15e419be5</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Derive the error type from the execution.error attribute.
Depending on the data type found, take action.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Routing Strategy</key>
                <value>
                    <name>Routing Strategy</name>
                </value>
            </entry>
            <entry>
                <key>hdfs_read_fail</key>
                <value>
                    <name>hdfs_read_fail</name>
                </value>
            </entry>
            <entry>
                <key>kerberos_ticket_expired</key>
                <value>
                    <name>kerberos_ticket_expired</name>
                </value>
            </entry>
            <entry>
                <key>memory_limit_exceeded</key>
                <value>
                    <name>memory_limit_exceeded</name>
                </value>
            </entry>
            <entry>
                <key>memory_oversubscribed</key>
                <value>
                    <name>memory_oversubscribed</name>
                </value>
            </entry>
            <entry>
                <key>query_admission_timeout</key>
                <value>
                    <name>query_admission_timeout</name>
                </value>
            </entry>
            <entry>
                <key>unreachable_impala_deamon</key>
                <value>
                    <name>unreachable_impala_deamon</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
            </entry>
            <entry>
                <key>hdfs_read_fail</key>
                <value>${execution.error:toLower():contains('failed to open hdfs file')}</value>
            </entry>
            <entry>
                <key>kerberos_ticket_expired</key>
                <value>${execution.error:toLower():contains('-k requires a valid kerberos ticket but no valid kerberos ticket found')}</value>
            </entry>
            <entry>
                <key>memory_limit_exceeded</key>
                <value>${execution.error:toLower():contains('memory limit exceeded')}</value>
            </entry>
            <entry>
                <key>memory_oversubscribed</key>
                <value>${execution.error:toLower():contains('memory is likely oversubscribed.')}</value>
            </entry>
            <entry>
                <key>query_admission_timeout</key>
                <value>${execution.error:toLower():contains('admission for query exceeded timeout')}</value>
            </entry>
            <entry>
                <key>unreachable_impala_deamon</key>
                <value>${execution.error:toLower():contains('cancelled due to unreachable impalad(s)')}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Route on error type</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>hdfs_read_fail</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>kerberos_ticket_expired</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>memory_limit_exceeded</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>memory_oversubscribed</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>query_admission_timeout</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unreachable_impala_deamon</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
</processors>
<processors>
    <id>9b779d33-5114-379e-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>1900.2003864878338</x>
        <y>1336.8736933792543</y>
    </position>
    <versionedComponentId>9b779d33-5114-379e-8e44-f1c001b75bb8</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Wait a number of seconds before doing another attempt to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Rate Control Criteria</key>
                <value>
                    <name>Rate Control Criteria</name>
                </value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>
                    <name>Time Duration</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate</dependentValues>
                        <dependentValues>attribute value</dependentValues>
                        <dependentValues>flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum Data Rate</name>
                </value>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
                <value>
                    <dependencies>
                        <dependentValues>data rate or flowfile count</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Maximum FlowFile Rate</name>
                </value>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
                <value>
                    <dependencies>
                        <dependentValues>attribute value</dependentValues>
                        <propertyName>Rate Control Criteria</propertyName>
                    </dependencies>
                    <name>Rate Controlled Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
                <value>
                    <name>Grouping Attribute</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Rate Control Criteria</key>
                <value>flowfile count</value>
            </entry>
            <entry>
                <key>Time Duration</key>
                <value>10 sec</value>
            </entry>
            <entry>
                <key>Maximum Rate</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Maximum Data Rate</key>
            </entry>
            <entry>
                <key>Maximum FlowFile Rate</key>
            </entry>
            <entry>
                <key>Rate Controlled Attribute</key>
            </entry>
            <entry>
                <key>Grouping Attribute</key>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>10 second delay</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ControlRate</type>
</processors>
<processors>
    <id>aba71d97-16a0-33ee-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>1443.1491726770582</x>
        <y>1615.084845520574</y>
    </position>
    <versionedComponentId>aba71d97-16a0-33ee-aa71-56711390eaf0</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Execute a partition-level refresh to solve the HDFS read error.
This cheap refresh replaces the expensive "invalidate metadata" we used to run out of desperation.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Working Directory</key>
                <value>
                    <name>Working Directory</name>
                </value>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>
                    <name>Command Path</name>
                </value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>
                    <name>argumentsStrategy</name>
                </value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Command Arguments</name>
                </value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>
                    <dependencies>
                        <dependentValues>Command Arguments Property</dependentValues>
                        <propertyName>argumentsStrategy</propertyName>
                    </dependencies>
                    <name>Argument Delimiter</name>
                </value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>
                    <name>Ignore STDIN</name>
                </value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
                <value>
                    <name>Output Destination Attribute</name>
                </value>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>
                    <name>Max Attribute Length</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Working Directory</key>
            </entry>
            <entry>
                <key>Command Path</key>
                <value>/bin/impala-shell</value>
            </entry>
            <entry>
                <key>argumentsStrategy</key>
                <value>Command Arguments Property</value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"${refresh_statement}"</value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>;</value>
            </entry>
            <entry>
                <key>Ignore STDIN</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Output Destination Attribute</key>
            </entry>
            <entry>
                <key>Max Attribute Length</key>
                <value>256</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Run refresh statement</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>nonzero status</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>original</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>output stream</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
</processors>
<processors>
    <id>b30b18bd-b866-31ad-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>1437.6630329929703</x>
        <y>1144.2905295013952</y>
    </position>
    <versionedComponentId>b30b18bd-b866-31ad-ad74-3dee0f3f4b8f</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>When we get here, processing has failed because of a parquet file that can no longer be found. This can be solved by executing a refresh statement for the failing table partition.
"
From the error text, which looks like this:
ERROR: Disk I/O error: Failed to open HDFS file hdfs://HDFS-PROD-HA-Service1/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_wafer_production_steps/p_from_trackout_cet_ts=2021-01-27/p_to_trackout_cet_ts=2021-01-28/p_loh_suffix=__HIV
E_DEFAULT_PARTITION__/5b4dcd12481d1596-e70d73170000004d_658979915_data.0.parq
Error(2): No such file or directory

we derive the appropriate refresh statement, that looks like this:
refresh mfg_icn8_apps.nifi_base_wafer_production_steps partition (p_from_trackout_cet_ts='2021-01-27', p_to_trackout_cet_ts='2021-01-28', p_loh_suffix='');
</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>refresh_statement</key>
                <value>
                    <name>refresh_statement</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>refresh_statement</key>
                <value>${execution.error
  :substringAfter  ("/user/hive/warehouse/mfg_icn8/")
  :substringBefore (".parq"                         )
  :replaceAll      ("\R"                        , ""            )
  :replaceFirst    ("/"                         , "."           )
  :replaceFirst    ("/[^/]*$"                   , ""            )
  :replaceFirst    ("/"                         , " partition (")
  :replaceAll      ("/"                         , "', "         )
  :replaceAll      ("="                         , "='"          )
  :replaceAll      ("__HIVE_DEFAULT_PARTITION__", ""            )
  :replaceAll      ("%3A"                       , ":"           )
  :prepend         ("refresh ")
  :append          ("');")
 }</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Derive refresh statement</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>c438575d-4be9-34f2-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>964.8633503550213</x>
        <y>1123.332357319684</y>
    </position>
    <versionedComponentId>c438575d-4be9-34f2-9361-6fe082534a61</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Increase the memory limit for this query by the pre-defined increment.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>impala_mem_limit</key>
                <value>
                    <name>impala_mem_limit</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>impala_mem_limit</key>
                <value>${impala_mem_limit:plus(${impala_mem_limit_increment})}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Increase mem_limit</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>dca83c34-58e5-3d36-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>463.08749075004425</x>
        <y>2064.5722254837465</y>
    </position>
    <versionedComponentId>dca83c34-58e5-3d36-9594-b2ed34947493</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>If the retry counter has not reached it's maximum value yet, start another attempt to fill the staging table.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Routing Strategy</key>
                <value>
                    <name>Routing Strategy</name>
                </value>
            </entry>
            <entry>
                <key>toomanytries</key>
                <value>
                    <name>toomanytries</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
            </entry>
            <entry>
                <key>toomanytries</key>
                <value>${retrycounter4:gt(5)}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Continue until max tries</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>toomanytries</name>
        <retry>false</retry>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>unmatched</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
</processors>
<processors>
    <id>e8c54876-76bb-307c-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>471.6140868193802</x>
        <y>906.5650996292543</y>
    </position>
    <versionedComponentId>e8c54876-76bb-307c-993c-0ef1295a0019</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query failed because of an expired Kerberos ticket.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Kerberos ticket was expired when writing staging table for file '${filename}'.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Kerberos Ticket Expired</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>fc9a8902-a59c-31b4-0000-000000000000</id>
    <parentGroupId>a5e97e34-1e34-3263-0000-000000000000</parentGroupId>
    <position>
        <x>31.039875698774722</x>
        <y>920.9455927933168</y>
    </position>
    <versionedComponentId>fc9a8902-a59c-31b4-8abe-1142e47ab918</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Log that the query was cancelled because of an unreachable Impala Deamon.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>warn</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>icn8: </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>Cause: Staging query for file '${filename}' was cancelled because an Impala Deamon was unreachable.</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Log Unreachable Impala Deamon</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <name>Ingest Staging error handling</name>
                            <variables/>
                        </processGroups>
                        <processors>
                            <id>1e04166d-fee3-38fd-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-205.69038705757293</x>
<y>541.7761682673863</y>
                            </position>
                            <versionedComponentId>1e04166d-fee3-38fd-8e9c-55b5db58709e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that the query for checking the emptiness of the staging table returned an unexpected result.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Result from 'query_3_initializeStaging' for file '${filename}' of type ${logtype} was unexpected, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log staging table not empty</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>31cba2ec-05fe-3e37-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>271.2781887260244</x>
<y>541.7761682673863</y>
                            </position>
                            <versionedComponentId>31cba2ec-05fe-3e37-ba16-7248657d8776</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Check the result of the query that checked if the staging table was really empty.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Match Requirement</key>
        <value>
            <name>Match Requirement</name>
        </value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Content Buffer Size</key>
        <value>
            <name>Content Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>invalid</key>
        <value>
            <name>invalid</name>
        </value>
    </entry>
    <entry>
        <key>valid</key>
        <value>
            <name>valid</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Match Requirement</key>
        <value>content must contain match</value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Content Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>invalid</key>
        <value>isFalse</value>
    </entry>
    <entry>
        <key>valid</key>
        <value>isTrue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Evaluate query result</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>invalid</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>valid</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnContent</type>
                        </processors>
                        <processors>
                            <id>4518133d-e953-3410-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>280.399435063915</x>
<y>864.7540003423633</y>
                            </position>
                            <versionedComponentId>4518133d-e953-3410-95c1-d5c0038e4113</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the query to fill the staging table was successfully run.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>About to ingest file '${filename}' of type ${logtype} in staging table</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Staging Ingestion Start</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>471b28d7-c247-3ae5-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>280.22952868272387</x>
<y>62.60573094368584</y>
                            </position>
                            <versionedComponentId>471b28d7-c247-3ae5-af0c-1cbbf4866e09</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/hdfs</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>dfs;${init_staging_hdfs_command_args}</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Run HDFS staging init command</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>846171f9-c1c5-3b5b-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-660.9189982777912</x>
<y>295.8541621292543</y>
                            </position>
                            <versionedComponentId>846171f9-c1c5-3b5b-b8ec-8f97daed363c</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before starting a new attempt to create an empty staging table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>8ee685c4-78dc-308b-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-660.9189982777912</x>
<y>72.20833388218398</y>
                            </position>
                            <versionedComponentId>8ee685c4-78dc-308b-ab27-eeb4cb1ce9be</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps track of the number of retries of the staging table creation.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounter3</key>
        <value>
            <name>retrycounter3</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounter3</key>
        <value>${retrycounter3:isNull():ifElse(1, ${retrycounter3:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>9925621e-20a2-3b7e-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-202.69038705757293</x>
<y>72.20833388218398</y>
                            </position>
                            <versionedComponentId>9925621e-20a2-3b7e-873a-2570b3ec39bc</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the maximum number of retries has not been reached yet, start another attempt to create an empty staging table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounter3:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>b8becc90-1522-3afd-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>271.00298120649313</x>
<y>1164.5204218948793</y>
                            </position>
                            <versionedComponentId>b8becc90-1522-3afd-99ba-0b4741d420e1</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Run the Impala script that:
* Determines the partitions in the destination table that overlap the period that is loaded / aggregated.
* Copies all data within the aggregation / loading period from the source tables (when aggregating) or external table (when loading an incoming file)
* Fills the parts of the partitions that don't overlap the aggregation / loading period with data that is already in the destination table (these data should remain as-is).
* Runs a query that returns "isTrue" if the staging table contains more than 0 records, and "isFalse" otherwise.
For each file/aggregation type, the query is configured in "Configure and wait lobby".

At the end of the query, the staging table is filled with the partition contents that are going to replace the partition contents of the  destination table.
The query is free to use other partition sizes than the original table (eg. day partitions instead of month partitions), but should take care that all data for the overlapped partitions (unchanged + changed + new) are present in the staging table when the query if finished.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/run_impala_query.sh</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;--quiet;-q;"
set mem_limit=${impala_mem_limit}G;
${query_4_ingestStaging}
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Ingest Staging (4)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>ba717a93-3352-31cf-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-202.69038705757293</x>
<y>-148.55157651016407</y>
                            </position>
                            <versionedComponentId>ba717a93-3352-31cf-b2b6-d53288a0bd96</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the logging that Impala permanently failed to create an empty staging table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute 'query_3_initializeStaging' for file '${filename}' of type ${logtype}, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Initialize staging</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>ca943a35-01a3-3e55-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>270.4518084340218</x>
<y>-156.69384376799167</y>
                            </position>
                            <versionedComponentId>ca943a35-01a3-3e55-8f8f-daebd041f6f9</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>hdfs_init_command_specified</key>
        <value>
            <name>hdfs_init_command_specified</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>hdfs_init_command_specified</key>
        <value>${init_staging_hdfs_command_args:isEmpty():not()}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check HDFS init command specified</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>hdfs_init_command_specified</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>cc17a4e4-20ce-3062-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>271.2781887260244</x>
<y>1605.1116663579883</y>
                            </position>
                            <versionedComponentId>cc17a4e4-20ce-3062-b990-35f9e4d6e618</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the query to fill the staging table was successfully run.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Ingested file '${filename}' of type ${logtype} in staging table</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Staging Ingestion Successful</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>d0a5645b-56fb-34a8-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>271.2781887260244</x>
<y>295.8541621292543</y>
                            </position>
                            <versionedComponentId>d0a5645b-56fb-34a8-b7cb-1acad572a21e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Execute the Impala script that:
* Creates the staging table that is going to contain the new contents that will be moved to the destination table.
* Drops all partitions that are still present in this table
* Runs a query that checks if the table is really empty afterwards (result: "isTrue" or "isFalse").
This query is configured in the "Configure and wait lobby".</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"${query_3_initializeStaging}"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Initialize Staging (3)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>eda3a2b3-a52d-336c-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>-202.69038705757293</x>
<y>295.8541621292543</y>
                            </position>
                            <versionedComponentId>eda3a2b3-a52d-336c-9522-c3a01d917a22</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that Impala failed to create an empty staging table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on 'query_3_initializeStaging' for file '${filename}' of type ${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Initialize staging</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>f0e38aaa-dc94-3131-0000-000000000000</id>
                            <parentGroupId>6fc3abb2-a685-315d-0000-000000000000</parentGroupId>
                            <position>
<x>759.9339415557083</x>
<y>541.7761682673863</y>
                            </position>
                            <versionedComponentId>f0e38aaa-dc94-3131-a43c-5a089dba60a5</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that data are still present in the staging table, making it unusable to load/aggregate new data.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Staging not empty after query 'query_3_initializeStaging' for file '${filename}' of type ${logtype}, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log staging table not empty</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Prepare and validate staging</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>a850519f-c032-3343-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>3416.0</x>
                        <y>1472.0</y>
                    </position>
                    <versionedComponentId>a850519f-c032-3343-9a28-ad722e8f47d5</versionedComponentId>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>0dfd9cdb-7db5-3ed7-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <versionedComponentId>0dfd9cdb-7db5-3ed7-8c27-c881c619179f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>dad7282a-54c8-316a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dad7282a-54c8-316a-8f65-84b0ad4aeff5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>08fd4f3d-d49b-31de-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>08fd4f3d-d49b-31de-9e7e-79a7418b3a83</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4db5da5c-ab20-3b4f-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <versionedComponentId>4db5da5c-ab20-3b4f-a6e8-f7914e6ff120</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>09d96d7d-3bd1-3ca3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>09d96d7d-3bd1-3ca3-ad14-b21b1318914b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>dad7282a-54c8-316a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dad7282a-54c8-316a-8f65-84b0ad4aeff5</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5c002e79-a130-31c4-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <versionedComponentId>5c002e79-a130-31c4-9111-bf3d4dcf485e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>017fddab-756e-3ea0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>017fddab-756e-3ea0-a99c-b715ffb65477</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>09d96d7d-3bd1-3ca3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>09d96d7d-3bd1-3ca3-ad14-b21b1318914b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7df6338f-51c7-3cac-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <versionedComponentId>7df6338f-51c7-3cac-ae62-5750a46f9b6a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>837aa68f-a856-3f10-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>837aa68f-a856-3f10-8518-d44919adee99</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>017fddab-756e-3ea0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>017fddab-756e-3ea0-a99c-b715ffb65477</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>826f2398-0a87-3baf-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <versionedComponentId>826f2398-0a87-3baf-b38f-9ae08aca1e72</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>55aa37e4-64e2-3c38-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>55aa37e4-64e2-3c38-bc62-2b2e3b250773</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>b67da33c-dd29-32bd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b67da33c-dd29-32bd-bba8-114989e1440a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d2010b5a-8115-3440-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <versionedComponentId>d2010b5a-8115-3440-b9a4-e2f99e6a5b26</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>b67da33c-dd29-32bd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b67da33c-dd29-32bd-bba8-114989e1440a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>a850519f-c032-3343-0000-000000000000</groupId>
<id>09d96d7d-3bd1-3ca3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>09d96d7d-3bd1-3ca3-ad14-b21b1318914b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>08fd4f3d-d49b-31de-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <position>
<x>727.3193689619857</x>
<y>-87.0860740393332</y>
                            </position>
                            <versionedComponentId>08fd4f3d-d49b-31de-9e7e-79a7418b3a83</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>entry</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>837aa68f-a856-3f10-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <position>
<x>741.6744630553554</x>
<y>895.2317134349552</y>
                            </position>
                            <versionedComponentId>837aa68f-a856-3f10-8518-d44919adee99</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>exit</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>017fddab-756e-3ea0-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <position>
<x>682.3609339033919</x>
<y>631.3163665086099</y>
                            </position>
                            <versionedComponentId>017fddab-756e-3ea0-a99c-b715ffb65477</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>File ${filename} was successfully moved to not_in_stats folder.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log success of attempt to move file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>09d96d7d-3bd1-3ca3-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <position>
<x>683.6161161324836</x>
<y>326.09580453739625</y>
                            </position>
                            <versionedComponentId>09d96d7d-3bd1-3ca3-ad14-b21b1318914b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>In BRS, job HDP_D_FIX is responsible for detecting differences between table contents in BRS and Hadoop, and taking actions for repairing any mismatches. For this, the job uses the table statistics that are sent from Hadoop to BRS every 30 minutes.
Any files that are processed between the start of the statistics export and the start of job HDP_D_FIX will lead to the statistics not being up-to-date.
To avoid repair actions being started because of outdated statistics, job HDP_D_FIX doesn't take any action for any file type/day combination for which a file is present in the not_in_stats directory.
All files that have been processed are moved to this directory. Just before the statistics export is started, the not_in_stats directory is cleared. This mechanism should minimize the chance of an unnecessary repair action being started.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/mv</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>/etl/dropzone/icn8/processing/${filename};/etl/dropzone/icn8/not_in_stats/</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Move processed file to not_in_stats folder</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>55aa37e4-64e2-3c38-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <position>
<x>-572.1603773612469</x>
<y>333.12133596098</y>
                            </position>
                            <versionedComponentId>55aa37e4-64e2-3c38-bc62-2b2e3b250773</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
    </entry>
    <entry>
        <key>log-message</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>b67da33c-dd29-32bd-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <position>
<x>56.0</x>
<y>336.0</y>
                            </position>
                            <versionedComponentId>b67da33c-dd29-32bd-bba8-114989e1440a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>File ${filename} could not be moved to not_in_stats folder.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log failure of attempt to move file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>dad7282a-54c8-316a-0000-000000000000</id>
                            <parentGroupId>a850519f-c032-3343-0000-000000000000</parentGroupId>
                            <position>
<x>669.9999109541732</x>
<y>46.013746574527886</y>
                            </position>
                            <versionedComponentId>dad7282a-54c8-316a-8f65-84b0ad4aeff5</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Trying to move file ${filename} to not_in_stats folder ...</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log start of attempt to move file</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Move processed file to not_in_stats folder</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>b36e930b-87bf-340c-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>4790.306950600794</x>
                        <y>780.7663379613992</y>
                    </position>
                    <versionedComponentId>b36e930b-87bf-340c-a74b-18df171677db</versionedComponentId>
                    <comments>Sometimes the wait/notify mechanism doesn't work properly: after file x of type t has stopped processing, file x+1 is not released.
If, for a certain amount of time, no activity is detected for a certain file type, the flow is automatically re-animated.</comments>
                    <contents>
                        <connections>
                            <id>191932f6-93b3-3c21-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>191932f6-93b3-3c21-8b53-6f4d44cc068a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>928e56b9-3ae3-3e37-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>928e56b9-3ae3-3e37-b2f6-a904cfba5453</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>d743fdb8-50c1-3f13-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d743fdb8-50c1-3f13-95a0-eaabf863cad6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>486d950a-d538-30bc-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>486d950a-d538-30bc-9d76-c86542ef5932</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>9fbfc087-6ac7-350b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9fbfc087-6ac7-350b-bb94-60bec558cf47</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>a6125001-0fdd-3d23-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a6125001-0fdd-3d23-8dc2-08069d092291</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>74393c11-660c-385c-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>74393c11-660c-385c-9398-8a729dfae8cb</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>a6125001-0fdd-3d23-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a6125001-0fdd-3d23-8dc2-08069d092291</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>e60493ff-325f-385d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e60493ff-325f-385d-84e1-b696db17ca53</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7903b525-2c39-3123-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>7903b525-2c39-3123-825e-2b4e6036edcb</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>d1189908-77e8-3ac2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d1189908-77e8-3ac2-b648-f321fafa7a5d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>splits</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>158a4231-1e09-3191-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>158a4231-1e09-3191-b4e5-5fa1d409fc2c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>826c9f4a-752f-3686-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>826c9f4a-752f-3686-8c79-3bfd867cc586</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>d743fdb8-50c1-3f13-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d743fdb8-50c1-3f13-95a0-eaabf863cad6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>8415a59b-5acd-30ad-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8415a59b-5acd-30ad-8964-06e497ef3f57</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>887a2373-9908-34f1-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>887a2373-9908-34f1-b44a-18df243ad5c9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>d743fdb8-50c1-3f13-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d743fdb8-50c1-3f13-95a0-eaabf863cad6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>fcd4e0b0-f3ff-3934-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>fcd4e0b0-f3ff-3934-a622-82f1db39a192</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>96f0387e-597f-3160-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>96f0387e-597f-3160-b8e4-c24f5593c880</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>0524aeb6-8fe6-3f62-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0524aeb6-8fe6-3f62-8222-55050df37963</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>9fbfc087-6ac7-350b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9fbfc087-6ac7-350b-bb94-60bec558cf47</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9f889432-15c2-367e-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>9f889432-15c2-367e-9409-ecdbf868adbe</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>e60493ff-325f-385d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e60493ff-325f-385d-84e1-b696db17ca53</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>d1189908-77e8-3ac2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d1189908-77e8-3ac2-b648-f321fafa7a5d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a49ad0a1-4167-3884-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>a49ad0a1-4167-3884-8cd7-4adf2d39a070</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>158a4231-1e09-3191-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>158a4231-1e09-3191-b4e5-5fa1d409fc2c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>d743fdb8-50c1-3f13-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>d743fdb8-50c1-3f13-95a0-eaabf863cad6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b6491637-3528-38c7-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>b6491637-3528-38c7-8423-37ce26d6ecd3</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>0af32d69-c366-3787-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>0af32d69-c366-3787-9b6b-ed8a8a8004e8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>928e56b9-3ae3-3e37-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>928e56b9-3ae3-3e37-b2f6-a904cfba5453</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ccb1593c-4df4-3ca4-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <versionedComponentId>ccb1593c-4df4-3ca4-b7b9-dc037f9eb8c7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>e0ec3acd-1bd5-3a16-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>e0ec3acd-1bd5-3a16-bcf4-55324d653104</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>original</selectedRelationships>
                            <source>
<groupId>b36e930b-87bf-340c-0000-000000000000</groupId>
<id>a6125001-0fdd-3d23-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a6125001-0fdd-3d23-8dc2-08069d092291</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <outputPorts>
                            <id>e0ec3acd-1bd5-3a16-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>711.9310991536398</x>
<y>1565.1584742573298</y>
                            </position>
                            <versionedComponentId>e0ec3acd-1bd5-3a16-bcf4-55324d653104</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>logtype to be reanimated</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>0524aeb6-8fe6-3f62-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>-568.0</x>
<y>1296.0</y>
                            </position>
                            <versionedComponentId>0524aeb6-8fe6-3f62-8222-55050df37963</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>0af32d69-c366-3787-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>-632.0</x>
<y>376.0</y>
                            </position>
                            <versionedComponentId>0af32d69-c366-3787-9b6b-ed8a8a8004e8</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>158a4231-1e09-3191-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>645.7692826950167</x>
<y>617.9993179928022</y>
                            </position>
                            <versionedComponentId>158a4231-1e09-3191-b4e5-5fa1d409fc2c</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Byte Sequence Format</key>
        <value>
            <name>Byte Sequence Format</name>
        </value>
    </entry>
    <entry>
        <key>Byte Sequence</key>
        <value>
            <name>Byte Sequence</name>
        </value>
    </entry>
    <entry>
        <key>Keep Byte Sequence</key>
        <value>
            <name>Keep Byte Sequence</name>
        </value>
    </entry>
    <entry>
        <key>Byte Sequence Location</key>
        <value>
            <name>Byte Sequence Location</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Byte Sequence Format</key>
        <value>Hexadecimal</value>
    </entry>
    <entry>
        <key>Byte Sequence</key>
        <value>0A</value>
    </entry>
    <entry>
        <key>Keep Byte Sequence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Byte Sequence Location</key>
        <value>Trailing</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Create 1 flowfile per type</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>splits</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.SplitContent</type>
                        </processors>
                        <processors>
                            <id>8415a59b-5acd-30ad-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>1174.3967845825737</x>
<y>123.72086921052949</y>
                            </position>
                            <versionedComponentId>8415a59b-5acd-30ad-8964-06e497ef3f57</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Determine the current time and the current time - 60 minutes = the idleness limit time.
If, for a certain type of file/aggregation no activity was detected after this timestamp, we assume that something went wrong with the wait/notify mechanism, and the flow for this type needs to be reanimated.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>File Size</key>
        <value>
            <name>File Size</name>
        </value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>
            <name>Batch Size</name>
        </value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>
            <name>Data Format</name>
        </value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>
            <name>Unique FlowFiles</name>
        </value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
        <value>
            <name>generate-ff-custom-text</name>
        </value>
    </entry>
    <entry>
        <key>character-set</key>
        <value>
            <name>character-set</name>
        </value>
    </entry>
    <entry>
        <key>mime-type</key>
        <value>
            <name>mime-type</name>
        </value>
    </entry>
    <entry>
        <key>current_time</key>
        <value>
            <name>current_time</name>
        </value>
    </entry>
    <entry>
        <key>idleness_limit_time</key>
        <value>
            <name>idleness_limit_time</name>
        </value>
    </entry>
    <entry>
        <key>last_week</key>
        <value>
            <name>last_week</name>
        </value>
    </entry>
</descriptors>
<executionNode>PRIMARY</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>File Size</key>
        <value>0B</value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>Text</value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>false</value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
    </entry>
    <entry>
        <key>character-set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>mime-type</key>
    </entry>
    <entry>
        <key>current_time</key>
        <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
    </entry>
    <entry>
        <key>idleness_limit_time</key>
        <value>${now():toNumber():minus(10000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
    </entry>
    <entry>
        <key>last_week</key>
        <value>${now():toNumber():minus(604800000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>300 days</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Manually re-activate all file types</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                        </processors>
                        <processors>
                            <id>928e56b9-3ae3-3e37-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>40.0</x>
<y>376.0</y>
                            </position>
                            <versionedComponentId>928e56b9-3ae3-3e37-b2f6-a904cfba5453</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Non-zero status for determining flows to be reanimated of logtype ${logtype}.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log reanimation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>9fbfc087-6ac7-350b-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>80.0</x>
<y>1296.0</y>
                            </position>
                            <versionedComponentId>9fbfc087-6ac7-350b-bb94-60bec558cf47</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Non-zero status for removing load tokens of logtype ${logtype}.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log reanimation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>a6125001-0fdd-3d23-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>648.5889842896049</x>
<y>1307.7609540493968</y>
                            </position>
                            <versionedComponentId>a6125001-0fdd-3d23-8dc2-08069d092291</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>This query determines which flow types (e.g. PRODUCTION_STEPS, BASE_QUALIFICATIONS_PCM) have been inactive for too long, and need to re-animated automatically.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
-- ICN8/NiFi/ReanimFlows/RemoveToken
delete from
  mfg_icn8_data.nifi_load_tokens
where
      token        = '${logtype}'
  and token_cet_ts &lt; '${idleness_limit_time}'
;
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Remove token from nifi_load_tokens</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>d1189908-77e8-3ac2-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>654.4748717870036</x>
<y>850.4363183928673</y>
                            </position>
                            <versionedComponentId>d1189908-77e8-3ac2-b648-f321fafa7a5d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>
            <name>Maximum Capture Group Length</name>
        </value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>
            <name>Enable Canonical Equivalence</name>
        </value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>
            <name>Enable Case-insensitive Matching</name>
        </value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>
            <name>Permit Whitespace and Comments in Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>
            <name>Enable DOTALL Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>
            <name>Enable Literal Parsing of the Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>
            <name>Enable Multiline Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>
            <name>Enable Unicode-aware Case Folding</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>
            <name>Enable Unicode Predefined Character Classes</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>
            <name>Enable Unix Lines Mode</name>
        </value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>
            <name>Include Capture Group 0</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>
            <name>extract-text-enable-repeating-capture-group</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-named-groups</key>
        <value>
            <name>extract-text-enable-named-groups</name>
        </value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>
            <name>logtype</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>1024</value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>false</value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>false</value>
    </entry>
    <entry>
        <key>extract-text-enable-named-groups</key>
        <value>false</value>
    </entry>
    <entry>
        <key>logtype</key>
        <value>(.*)</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Put logtype in attribute</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExtractText</type>
                        </processors>
                        <processors>
                            <id>d743fdb8-50c1-3f13-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>641.0000560669487</x>
<y>380.0000287564279</y>
                            </position>
                            <versionedComponentId>d743fdb8-50c1-3f13-95a0-eaabf863cad6</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>This query determines which flow types (e.g. PRODUCTION_STEPS, BASE_QUALIFICATIONS_PCM) have been inactive for too long, and need to re-animated automatically.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
-- ICN8/NiFi/ReanimFlows/DetFlows
select
  subq1.target_entity
from
  (
    select
      nll.target_entity
    , max (nll.processed_cet_ts)  last_update
    from
      mfg_icn8_data.nifi_load_log  nll
    where
      nll.insert_cet_ts &gt;= '${last_week}'
    group by
      target_entity
  )  subq1
where
      subq1.last_update &lt; '${idleness_limit_time}'
  and not exists (
                   select
                     1
                   from
                     mfg_icn8_data.nifi_load_tokens  nlt
                   where
                         nlt.token         = subq1.target_entity
                     and nlt.token_cet_ts &gt;= '${idleness_limit_time}'
                 )
;
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Determine flows to be reanimated</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>e60493ff-325f-385d-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>656.0</x>
<y>1080.0</y>
                            </position>
                            <versionedComponentId>e60493ff-325f-385d-84e1-b696db17ca53</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>No recent activity detected for file type ${logtype}. Trying to re-animate...</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log reanimation</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>fcd4e0b0-f3ff-3934-0000-000000000000</id>
                            <parentGroupId>b36e930b-87bf-340c-0000-000000000000</parentGroupId>
                            <position>
<x>641.0000560669487</x>
<y>131.00002875642792</y>
                            </position>
                            <versionedComponentId>fcd4e0b0-f3ff-3934-a622-82f1db39a192</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Determine the current time and the current time - 60 minutes = the idleness limit time.
If, for a certain type of file/aggregation no activity was detected after this timestamp, we assume that something went wrong with the wait/notify mechanism, and the flow for this type needs to be reanimated.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>File Size</key>
        <value>
            <name>File Size</name>
        </value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>
            <name>Batch Size</name>
        </value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>
            <name>Data Format</name>
        </value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>
            <name>Unique FlowFiles</name>
        </value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
        <value>
            <name>generate-ff-custom-text</name>
        </value>
    </entry>
    <entry>
        <key>character-set</key>
        <value>
            <name>character-set</name>
        </value>
    </entry>
    <entry>
        <key>mime-type</key>
        <value>
            <name>mime-type</name>
        </value>
    </entry>
    <entry>
        <key>current_time</key>
        <value>
            <name>current_time</name>
        </value>
    </entry>
    <entry>
        <key>idleness_limit_time</key>
        <value>
            <name>idleness_limit_time</name>
        </value>
    </entry>
    <entry>
        <key>last_week</key>
        <value>
            <name>last_week</name>
        </value>
    </entry>
</descriptors>
<executionNode>PRIMARY</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>File Size</key>
        <value>0B</value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>Text</value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>false</value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
    </entry>
    <entry>
        <key>character-set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>mime-type</key>
    </entry>
    <entry>
        <key>current_time</key>
        <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
    </entry>
    <entry>
        <key>idleness_limit_time</key>
        <value>${now():toNumber():minus(7200000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
    </entry>
    <entry>
        <key>last_week</key>
        <value>${now():toNumber():minus(604800000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>10 min</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Determine current time + idleness limit</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Reanimate stopped flows</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>cde649c3-1f8a-374f-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>4292.663629303578</x>
                        <y>2199.740968667646</y>
                    </position>
                    <versionedComponentId>cde649c3-1f8a-374f-91fc-74b03ae4e572</versionedComponentId>
                    <comments>Write information about the loaded or aggregated  timeframe to the Kudu log. This entry will be used to trigger aggregations that depend on the data that were just loaded.</comments>
                    <contents>
                        <connections>
                            <id>03959384-cfe8-3026-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>03959384-cfe8-3026-a0a5-4611e73cf8ab</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>84b8911f-634a-36b2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>84b8911f-634a-36b2-8bad-285a6cf2b8ed</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>418c6e28-451d-350b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>418c6e28-451d-350b-8648-815d95a960c0</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>2c48481e-f425-3629-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>2c48481e-f425-3629-8b60-b7701e425f75</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>634ca514-766d-3c16-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>634ca514-766d-3c16-9e63-ac4006b19554</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>cae29d76-7e1e-3c3e-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>cae29d76-7e1e-3c3e-ac92-290106477dce</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3d18d0b4-c01e-32c5-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>3d18d0b4-c01e-32c5-8a9f-fb041cb5d33b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>634ca514-766d-3c16-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>634ca514-766d-3c16-9e63-ac4006b19554</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>b0f79d93-2699-3a8c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b0f79d93-2699-3a8c-afdb-288a4a90ef16</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4b2e5784-075d-3dcf-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>4b2e5784-075d-3dcf-a5c1-4768b871e159</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>5ab1e0b0-e492-37f7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5ab1e0b0-e492-37f7-a49c-c069fe49e9f8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>b1fd905f-3aa1-3a2b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b1fd905f-3aa1-3a2b-afa7-3f668893abc1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5b427f38-38f1-3434-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>5b427f38-38f1-3434-932d-f73d79bf355e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>278572ed-ed8c-3893-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>278572ed-ed8c-3893-a954-d9e745066b05</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>c4a065d0-ae91-32b6-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c4a065d0-ae91-32b6-ac3c-2efbc10f58bf</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7b944626-4f81-3238-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>7b944626-4f81-3238-8bad-aa2735aff308</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>418c6e28-451d-350b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>418c6e28-451d-350b-8648-815d95a960c0</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>b0f79d93-2699-3a8c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b0f79d93-2699-3a8c-afdb-288a4a90ef16</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b28681c7-3879-3d41-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>b28681c7-3879-3d41-aca2-41e43e1898f6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>b1fd905f-3aa1-3a2b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b1fd905f-3aa1-3a2b-afa7-3f668893abc1</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>634ca514-766d-3c16-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>634ca514-766d-3c16-9e63-ac4006b19554</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b94ab018-463c-3f98-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>b94ab018-463c-3f98-a8ff-91d11dd25c87</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>1f4dbf37-0fae-382c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1f4dbf37-0fae-382c-9d42-c648126d6e06</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>b1fd905f-3aa1-3a2b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b1fd905f-3aa1-3a2b-afa7-3f668893abc1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bb901554-c0a6-3e42-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>bb901554-c0a6-3e42-bd65-21e22b46d3c7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>0d255ab7-7b62-30fd-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>0d255ab7-7b62-30fd-adef-1c176e992ac5</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>5ab1e0b0-e492-37f7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5ab1e0b0-e492-37f7-a49c-c069fe49e9f8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f5fdc3de-8c27-33d2-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>f5fdc3de-8c27-33d2-b40c-dd66eb92308a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>b0f79d93-2699-3a8c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b0f79d93-2699-3a8c-afdb-288a4a90ef16</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>278572ed-ed8c-3893-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>278572ed-ed8c-3893-a954-d9e745066b05</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fcb11158-c165-31e5-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <versionedComponentId>fcb11158-c165-31e5-aea2-1e0d6c3dd956</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>c4a065d0-ae91-32b6-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c4a065d0-ae91-32b6-ac3c-2efbc10f58bf</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cde649c3-1f8a-374f-0000-000000000000</groupId>
<id>1f4dbf37-0fae-382c-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1f4dbf37-0fae-382c-9d42-c648126d6e06</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>cae29d76-7e1e-3c3e-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>381.1212707938387</x>
<y>1898.3376477492884</y>
                            </position>
                            <versionedComponentId>cae29d76-7e1e-3c3e-ac92-290106477dce</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>in</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>0d255ab7-7b62-30fd-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>391.1486755789949</x>
<y>2757.4682782424525</y>
                            </position>
                            <versionedComponentId>0d255ab7-7b62-30fd-adef-1c176e992ac5</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>out</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>1f4dbf37-0fae-382c-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>-127.78351144722137</x>
<y>2300.9938105667543</y>
                            </position>
                            <versionedComponentId>1f4dbf37-0fae-382c-9d42-c648126d6e06</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the NiFi log that the query for inserting data in the Kudu log table has failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on 'Update log' for file '${filename}' of type ${logtype}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Update NiFi log</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>278572ed-ed8c-3893-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>-580.1053157216388</x>
<y>2080.301351460309</y>
                            </position>
                            <versionedComponentId>278572ed-ed8c-3893-a954-d9e745066b05</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps track of the number of Kudu writing retries already performed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounter7</key>
        <value>
            <name>retrycounter7</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounter7</key>
        <value>${retrycounter7:isNull():ifElse(1, ${retrycounter7:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>418c6e28-451d-350b-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>-132.21367959907684</x>
<y>1865.448423489836</y>
                            </position>
                            <versionedComponentId>418c6e28-451d-350b-8648-815d95a960c0</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the NiFi log that the insert in the NiFi loading table permanently failed.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute 'Update log' for file '${filename}' of type ${logtype}, check queue</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Update NiFi log</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>5ab1e0b0-e492-37f7-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>331.3633480277822</x>
<y>2546.2081019048633</y>
                            </position>
                            <versionedComponentId>5ab1e0b0-e492-37f7-a49c-c069fe49e9f8</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the NiFi log that the log table was successfully updated.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Succesfully logged file '${filename}' of type ${logtype} in kudu table, ${file.size} bytes, ${text.line.count} lines, ${retrycounter} retries.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log successful update of log table</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>634ca514-766d-3c16-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>327.4294483677015</x>
<y>2046.3678598654578</y>
                            </position>
                            <versionedComponentId>634ca514-766d-3c16-9e63-ac4006b19554</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>From the individual retry counters of all steps in the NiFi Flow, calculate the total number of retries that were needed to process this incoming file / aggregation.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounter</key>
        <value>
            <name>retrycounter</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounter</key>
        <value>${retrycounter7:replaceNull(0):plus(${retrycounter6:replaceNull(0):plus(${retrycounter5:replaceNull(0):plus(${retrycounter4:replaceNull(0):plus(${retrycounter3:replaceNull(0):plus(${retrycounter2:replaceNull(0):plus(${retrycounter1:replaceNull(0):plus(${retrycounterX:replaceNull(0)})})})})})})})}
</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Calculate retries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>84b8911f-634a-36b2-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>-581.3598142358215</x>
<y>1869.1564660858633</y>
                            </position>
                            <versionedComponentId>84b8911f-634a-36b2-8bad-285a6cf2b8ed</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
    </entry>
    <entry>
        <key>log-message</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>b0f79d93-2699-3a8c-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>-126.30684976509247</x>
<y>2083.254720600934</y>
                            </position>
                            <versionedComponentId>b0f79d93-2699-3a8c-afdb-288a4a90ef16</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the retry counter has not yet reached it's maximum, start another attempt to insert a record in the Kudu log table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounter7:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>b1fd905f-3aa1-3a2b-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>329.2781887260244</x>
<y>2309.8541621292543</y>
                            </position>
                            <versionedComponentId>b1fd905f-3aa1-3a2b-afa7-3f668893abc1</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Update the "work-to-do" record in the NiFi log table corresponding to the aggregation that was just performed.
By filling the column processed_cet_ts we allow dependent aggregations to start.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"

set mem_limit=100M;
set request_pool = root.default;

-- ICN8/NiFi/UpdLog/UpdLog
update
  mfg_icn8_data.nifi_load_log
set
  processed_cet_ts = '${now():toNumber():format('yyyy-MM-dd HH:mm:ss.SSS', 'CET')}'
, num_retries      = ${retrycounter}
where
      target_entity         = '${logtype}'
  and insert_cet_ts      like '${generated}%'
  and period_from_cet_ts like '${valid_from}%'
  and period_to_cet_ts   like '${valid_to}%'
;

-- ICN8/NiFi/UpdLog/UpdLog2
/* Handle the situation in which the log record does not yet exist: */
insert into
  mfg_icn8_data.nifi_load_log
  ( target_entity
  , insert_cet_ts
  , period_from_cet_ts
  , period_to_cet_ts
  , filename
  , processed_cet_ts
  , num_retries
  )
  select
    '${logtype}'
  , '${generated}'
  , '${valid_from}'
  , '${valid_to}'
  , '${filename}'
  , '${now():toNumber():format('yyyy-MM-dd HH:mm:ss.SSS', 'CET')}'
  , ${retrycounter}
  from
     mfg_icn8_data.dual
  where
    not exists (
                 select
                   1
                 from
                   mfg_icn8_data.nifi_load_log
                 where
                       target_entity         = '${logtype}'
                   and insert_cet_ts      like '${generated}%'
                   and period_from_cet_ts like '${valid_from}%'
                   and period_to_cet_ts   like '${valid_to}%'
               )
;

"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Update NiFi log table (7)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>c4a065d0-ae91-32b6-0000-000000000000</id>
                            <parentGroupId>cde649c3-1f8a-374f-0000-000000000000</parentGroupId>
                            <position>
<x>-577.1518855458576</x>
<y>2300.9938105667543</y>
                            </position>
                            <versionedComponentId>c4a065d0-ae91-32b6-ac3c-2efbc10f58bf</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before starting the next attempt to write to the Kudu log table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Update aggregator entry in nifi_load_log</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>cf1cd15c-8e93-3c0c-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>4809.7009453734645</x>
                        <y>1076.6090497634632</y>
                    </position>
                    <versionedComponentId>cf1cd15c-8e93-3c0c-8aa5-c36bba9cdac9</versionedComponentId>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>02be55f0-365b-3508-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>02be55f0-365b-3508-845b-07eeec9a7416</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>bacd9c98-0604-3b1e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bacd9c98-0604-3b1e-8cac-8576f3184cd1</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>81f78b15-3370-3fc0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>81f78b15-3370-3fc0-950f-5920c7374c8a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0537e6ba-3776-305a-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>0537e6ba-3776-305a-958e-25c43625ed95</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>9b62d676-4db9-38e9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9b62d676-4db9-38e9-af73-b49488287c17</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>4956954c-cf99-3961-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4956954c-cf99-3961-b299-217863c65b7f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>05caf7bb-7597-3e93-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>05caf7bb-7597-3e93-ba0b-e611fa889b43</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>800b9c4a-cca4-31a5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>800b9c4a-cca4-31a5-8a4b-bee35270f9a0</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>e3d2c96d-3430-3838-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e3d2c96d-3430-3838-9e2c-79cb874282a1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0f1de151-db36-36ee-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>0f1de151-db36-36ee-b72d-e19d6c1229d6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>2549044c-b5a8-3fb3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2549044c-b5a8-3fb3-ba84-c69502dec82d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>dff54cf4-136e-35ea-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dff54cf4-136e-35ea-85b5-4a7768b14d4e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>10506820-7068-3aa3-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>10506820-7068-3aa3-87bd-dca27a570ce6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>f3e85cbd-52cd-3966-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f3e85cbd-52cd-3966-9665-8637f9d948b8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>19ae98cf-9399-3384-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>19ae98cf-9399-3384-8b8a-b18c314912f8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1b294989-741c-354b-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>1b294989-741c-354b-9cbf-9c599e61c297</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>a4a44ca5-2925-33e4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a4a44ca5-2925-33e4-ba05-8d6d7e39b39d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>678efab8-a42a-3da1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>678efab8-a42a-3da1-86ed-5f6fe969779a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1c6fac20-be57-3d39-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>1c6fac20-be57-3d39-a39f-0a845c008cae</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>c0299ca8-66e6-3f65-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c0299ca8-66e6-3f65-a5ef-82a5c38fa6b4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>3dfa102f-8de2-34a8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3dfa102f-8de2-34a8-ba19-845c1872711f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>245dda65-589c-31d2-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>245dda65-589c-31d2-9fc3-b1272f1cb09c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>55e1180f-de94-3623-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>55e1180f-de94-3623-9dc6-d438ee8a4b9d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>2920d588-4711-331f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2920d588-4711-331f-a069-81258e696cc8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>340e086f-4ddc-3a4b-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>340e086f-4ddc-3a4b-a974-69c45c1c417c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>19ae98cf-9399-3384-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>19ae98cf-9399-3384-8b8a-b18c314912f8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
<id>6aaaa688-04e3-3a3c-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>6aaaa688-04e3-3a3c-81ca-770adc1e9238</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3c5bea6f-4388-3353-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>3c5bea6f-4388-3353-8356-ae80589c81f7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>19ae98cf-9399-3384-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>19ae98cf-9399-3384-8b8a-b18c314912f8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>7ec828b5-6c39-3d20-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7ec828b5-6c39-3d20-8906-795b8e1188a6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>412da781-fd48-3ea6-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>412da781-fd48-3ea6-97fc-bc258f6764fd</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>8ae0e17c-8379-3cc4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8ae0e17c-8379-3cc4-9021-3fd7fae3204a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>bacd9c98-0604-3b1e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bacd9c98-0604-3b1e-8cac-8576f3184cd1</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>48b8ce0c-256f-3426-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>48b8ce0c-256f-3426-b98c-a950122b75e7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>c3296a37-9bd6-390d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c3296a37-9bd6-390d-9ae0-92fbc677c128</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>24ed2f82-f0c5-3db4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>24ed2f82-f0c5-3db4-934d-ec88c68a6995</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>51ee20e4-75d3-352f-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>51ee20e4-75d3-352f-bc5b-0d01f89122ce</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>e3d2c96d-3430-3838-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e3d2c96d-3430-3838-9e2c-79cb874282a1</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>bc36f4a7-c336-3e75-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bc36f4a7-c336-3e75-b06e-3449e8e523d0</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>595e4057-da4c-3bfc-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>595e4057-da4c-3bfc-890c-c5a89c017d54</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>93c803d4-4a48-3fa0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>93c803d4-4a48-3fa0-8dc6-6c1e1e588cef</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>2920d588-4711-331f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2920d588-4711-331f-a069-81258e696cc8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>61153aa3-8637-313a-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>61153aa3-8637-313a-8259-bb8b40fc28e8</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>2c96f48b-7cbc-32b4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2c96f48b-7cbc-32b4-971c-3ccb5817f247</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>c8fa4f42-e406-38a9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c8fa4f42-e406-38a9-830d-dd7fe73c7de9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>648dee39-95aa-3f5d-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>648dee39-95aa-3f5d-91ec-a8a383ad659a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>12ca33a4-08b2-3199-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>12ca33a4-08b2-3199-9f28-9562c603528d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>6c79b4b6-4142-3bf6-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6c79b4b6-4142-3bf6-b2eb-11c0f875a91f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>751e8f6b-f07f-3aff-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>751e8f6b-f07f-3aff-be12-afae186856c6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>dff54cf4-136e-35ea-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dff54cf4-136e-35ea-85b5-4a7768b14d4e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>5bfc6444-884d-3468-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5bfc6444-884d-3468-8996-e6bd88ed918b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7cf7ae78-1701-3640-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>7cf7ae78-1701-3640-946b-cbb6e9aeb9f4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>100000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>82a4b00a-c22c-37e1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>82a4b00a-c22c-37e1-a2cd-02e11ff23090</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>adf5d798-3ddf-3f07-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>adf5d798-3ddf-3f07-85b4-3874e55cfa4d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7d73b0a4-5dd4-3701-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>7d73b0a4-5dd4-3701-bad3-fd5b20835429</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>289fdc18-827b-374f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>289fdc18-827b-374f-b671-a508d6125c43</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>9d16d102-490b-3b51-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9d16d102-490b-3b51-b463-f4deac144106</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>84230ebb-273b-3467-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>84230ebb-273b-3467-a7c7-be40702ee41b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>678efab8-a42a-3da1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>678efab8-a42a-3da1-86ed-5f6fe969779a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>f3e85cbd-52cd-3966-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f3e85cbd-52cd-3966-9665-8637f9d948b8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>92be551b-df58-35ec-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>92be551b-df58-35ec-a13d-ddc5244cdfdd</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>3dfa102f-8de2-34a8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3dfa102f-8de2-34a8-ba19-845c1872711f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>2c96f48b-7cbc-32b4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2c96f48b-7cbc-32b4-971c-3ccb5817f247</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>93fbb165-99b4-349a-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>93fbb165-99b4-349a-a4e3-4840e4d1a391</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>a0fc8fbb-5d71-3916-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a0fc8fbb-5d71-3916-be65-87173e4160e6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>dff54cf4-136e-35ea-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>dff54cf4-136e-35ea-85b5-4a7768b14d4e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>96f64c51-5c89-3c49-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>96f64c51-5c89-3c49-8e06-1f6fad48088c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>6c79b4b6-4142-3bf6-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6c79b4b6-4142-3bf6-b2eb-11c0f875a91f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>bddcd60c-f2c8-3644-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bddcd60c-f2c8-3644-b61c-fa5680dbe5c9</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>99ed4822-675a-36f1-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>99ed4822-675a-36f1-aefb-e4cd88fbfcbd</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>93c803d4-4a48-3fa0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>93c803d4-4a48-3fa0-8dc6-6c1e1e588cef</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>82a4b00a-c22c-37e1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>82a4b00a-c22c-37e1-a2cd-02e11ff23090</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a376fd8b-34d9-3a7b-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>a376fd8b-34d9-3a7b-8341-26c6942e18e1</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>bddcd60c-f2c8-3644-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bddcd60c-f2c8-3644-b61c-fa5680dbe5c9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>4b0a7338-cdc3-3abd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4b0a7338-cdc3-3abd-baa1-b3c1423a7ace</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>aca88dcc-a533-3016-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>aca88dcc-a533-3016-ba76-f7b207cd0bea</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>7ec828b5-6c39-3d20-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7ec828b5-6c39-3d20-8906-795b8e1188a6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>9b62d676-4db9-38e9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9b62d676-4db9-38e9-af73-b49488287c17</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b8ef32af-0375-3370-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>b8ef32af-0375-3370-bb53-d9cbc9311a59</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>bc36f4a7-c336-3e75-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bc36f4a7-c336-3e75-b06e-3449e8e523d0</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>a447a8e4-48b6-3d36-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a447a8e4-48b6-3d36-a134-ef9e185a291f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bf47432f-3b0c-33ad-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>bf47432f-3b0c-33ad-8f4f-a74494b452fa</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>c8fa4f42-e406-38a9-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>c8fa4f42-e406-38a9-830d-dd7fe73c7de9</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>a4a44ca5-2925-33e4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a4a44ca5-2925-33e4-ba05-8d6d7e39b39d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c53a7bee-fc67-39c6-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>c53a7bee-fc67-39c6-a49f-57f63811d3f5</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>4956954c-cf99-3961-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4956954c-cf99-3961-b299-217863c65b7f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>splits</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>93c803d4-4a48-3fa0-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>93c803d4-4a48-3fa0-8dc6-6c1e1e588cef</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cb7e0116-9d10-3aa3-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>cb7e0116-9d10-3aa3-900e-ceec132ffff0</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>82a4b00a-c22c-37e1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>82a4b00a-c22c-37e1-a2cd-02e11ff23090</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>bc36f4a7-c336-3e75-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>bc36f4a7-c336-3e75-b06e-3449e8e523d0</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ccc41a87-2091-39d9-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>ccc41a87-2091-39d9-a3c0-6b96701a6c2a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>5bfc6444-884d-3468-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5bfc6444-884d-3468-8996-e6bd88ed918b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>splits</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>8ae0e17c-8379-3cc4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8ae0e17c-8379-3cc4-9021-3fd7fae3204a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d0885185-c26c-3a07-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>d0885185-c26c-3a07-a680-a887fb7f22ab</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>4b0a7338-cdc3-3abd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4b0a7338-cdc3-3abd-baa1-b3c1423a7ace</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>19ae98cf-9399-3384-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>19ae98cf-9399-3384-8b8a-b18c314912f8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d9cbb3c7-5630-32f8-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>d9cbb3c7-5630-32f8-a83d-a92ccca92dc4</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>2920d588-4711-331f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2920d588-4711-331f-a069-81258e696cc8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>36b34342-798e-338e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>36b34342-798e-338e-a089-11b606a3e43e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>dd675495-77cf-3e8f-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>dd675495-77cf-3e8f-8ec9-819e5b141ba7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>a447a8e4-48b6-3d36-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a447a8e4-48b6-3d36-a134-ef9e185a291f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>289fdc18-827b-374f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>289fdc18-827b-374f-b671-a508d6125c43</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e7abb76e-1473-3965-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>e7abb76e-1473-3965-94ee-6d4762861af6</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>f3e85cbd-52cd-3966-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f3e85cbd-52cd-3966-9665-8637f9d948b8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>2c96f48b-7cbc-32b4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2c96f48b-7cbc-32b4-971c-3ccb5817f247</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f4cc21b4-1b90-37c8-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>f4cc21b4-1b90-37c8-8259-85fe792dc3cc</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>19ae98cf-9399-3384-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>19ae98cf-9399-3384-8b8a-b18c314912f8</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>12ca33a4-08b2-3199-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>12ca33a4-08b2-3199-9f28-9562c603528d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f65a7e88-1039-3c85-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>f65a7e88-1039-3c85-9f99-73e40c0272f7</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>9d16d102-490b-3b51-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>9d16d102-490b-3b51-b463-f4deac144106</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>82a4b00a-c22c-37e1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>82a4b00a-c22c-37e1-a2cd-02e11ff23090</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f9680d66-66be-3f77-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>f9680d66-66be-3f77-9a06-90e4f2f7250f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>24ed2f82-f0c5-3db4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>24ed2f82-f0c5-3db4-934d-ec88c68a6995</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>12ca33a4-08b2-3199-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>12ca33a4-08b2-3199-9f28-9562c603528d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fcce4a9a-fc97-3200-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <versionedComponentId>fcce4a9a-fc97-3200-823d-c53c21f8565e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>8ae0e17c-8379-3cc4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>8ae0e17c-8379-3cc4-9021-3fd7fae3204a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>cf1cd15c-8e93-3c0c-0000-000000000000</groupId>
<id>f3e85cbd-52cd-3966-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f3e85cbd-52cd-3966-9665-8637f9d948b8</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>adf5d798-3ddf-3f07-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>341.91332503532817</x>
<y>-510.0336703720325</y>
                            </position>
                            <versionedComponentId>adf5d798-3ddf-3f07-85b4-3874e55cfa4d</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>external trigger</name>
                            <state>DISABLED</state>
                            <type>INPUT_PORT</type>
                            <validationErrors>'Port 'external trigger'' is invalid because Port has no incoming connections</validationErrors>
                        </inputPorts>
                        <labels>
                            <id>683cc4ee-0835-3464-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>686.3378701726167</x>
<y>93.72222451364291</y>
                            </position>
                            <versionedComponentId>683cc4ee-0835-3464-8500-fe269c0924f2</versionedComponentId>
                            <height>129.4486083984375</height>
                            <label>Ophalen alle individuele scripts om ze na te lopen</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>22px</value>
</entry>
                            </style>
                            <width>619.2566223144531</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <labels>
                            <id>e9b76378-0987-3c76-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>726.2142104052643</x>
<y>1258.6342551646917</y>
                            </position>
                            <versionedComponentId>e9b76378-0987-3c76-aa5c-582922ae1102</versionedComponentId>
                            <height>151.14175415039062</height>
                            <label>Ieder script kijken of er boodschappen zijn en die inserten in de log als 'niet processed'</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>22px</value>
</entry>
                            </style>
                            <width>961.7797088623047</width>
                            <zIndex>0</zIndex>
                        </labels>
                        <processGroups>
                            <id>80c1ddb6-69d9-355d-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>929.2629692234859</x>
<y>931.1182372067155</y>
                            </position>
                            <versionedComponentId>80c1ddb6-69d9-355d-aadc-14e31f7bb91b</versionedComponentId>
                            <comments>Create triggers for aggreegation jobs that are not dependent on changes in other tables (e.g. a daily rebuild of a certain table)</comments>
                            <contents>
<connections>
    <id>1af39154-145a-3f9c-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <versionedComponentId>1af39154-145a-3f9c-b2d5-b39edaa917c3</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>40033b13-e89d-33a2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>40033b13-e89d-33a2-8cd9-923e4784e2c2</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>48876715-bb09-3de4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>48876715-bb09-3de4-9831-24fb7c82049a</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>293a1024-e62a-3d33-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <versionedComponentId>293a1024-e62a-3d33-9a8e-b8c8e6c63ac6</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>2541.052978515625</x>
        <y>294.6544876098633</y>
    </bends>
    <destination>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>40033b13-e89d-33a2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>40033b13-e89d-33a2-8cd9-923e4784e2c2</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>9b821213-93e3-39b4-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>9b821213-93e3-39b4-adac-aaf1e6d18a6f</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>93e80141-5f4e-34eb-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <versionedComponentId>93e80141-5f4e-34eb-86ce-cceb5a9595b7</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>1356.9964599609375</x>
        <y>149.94596099853516</y>
    </bends>
    <destination>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>40033b13-e89d-33a2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>40033b13-e89d-33a2-8cd9-923e4784e2c2</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>b30d47fe-5748-3996-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>b30d47fe-5748-3996-80d4-f4b4f4730bc1</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>95198f8d-15c6-3470-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <versionedComponentId>95198f8d-15c6-3470-8cf1-002cf09b0f04</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>945.2908935546875</x>
        <y>129.29198455810547</y>
    </bends>
    <destination>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>40033b13-e89d-33a2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>40033b13-e89d-33a2-8cd9-923e4784e2c2</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>12293941-9834-373a-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>12293941-9834-373a-b95a-8a0e54460965</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>966f62f1-db95-30cf-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <versionedComponentId>966f62f1-db95-30cf-8ee0-5b358c1274ed</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>749.0811767578125</x>
        <y>-97.83257293701172</y>
    </bends>
    <bends>
        <x>742.7131958007812</x>
        <y>131.41764068603516</y>
    </bends>
    <destination>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>40033b13-e89d-33a2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>40033b13-e89d-33a2-8cd9-923e4784e2c2</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>9b8c3172-03a0-3ef3-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>9b8c3172-03a0-3ef3-86f6-2878e30f662d</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>a99354a6-d95a-30a7-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <versionedComponentId>a99354a6-d95a-30a7-849d-dd49172ae4b5</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>1764.8343505859375</x>
        <y>178.5908660888672</y>
    </bends>
    <destination>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>40033b13-e89d-33a2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>40033b13-e89d-33a2-8cd9-923e4784e2c2</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>6289d882-7c4b-38e7-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>6289d882-7c4b-38e7-a15c-65e751a341b1</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>bbacbb54-3afa-321a-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <versionedComponentId>bbacbb54-3afa-321a-b8a7-2aba62276be2</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>6aaaa688-04e3-3a3c-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
        <versionedComponentId>6aaaa688-04e3-3a3c-81ca-770adc1e9238</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>40033b13-e89d-33a2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>40033b13-e89d-33a2-8cd9-923e4784e2c2</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>d1bb62f3-c4b1-32dd-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <versionedComponentId>d1bb62f3-c4b1-32dd-9e68-541076712852</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <bends>
        <x>2150.3702392578125</x>
        <y>236.03533935546875</y>
    </bends>
    <destination>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>40033b13-e89d-33a2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>40033b13-e89d-33a2-8cd9-923e4784e2c2</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>2b793509-e3c0-3de2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>2b793509-e3c0-3de2-812d-b20f38d419d2</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f4b0a760-6306-3e85-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <versionedComponentId>f4b0a760-6306-3e85-8022-5e8200904146</versionedComponentId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>40033b13-e89d-33a2-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>40033b13-e89d-33a2-8cd9-923e4784e2c2</versionedComponentId>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>80c1ddb6-69d9-355d-0000-000000000000</groupId>
        <id>151947f8-7c11-3b1c-0000-000000000000</id>
        <type>PROCESSOR</type>
        <versionedComponentId>151947f8-7c11-3b1c-aa63-1667431abaf5</versionedComponentId>
    </source>
    <zIndex>0</zIndex>
</connections>
<outputPorts>
    <id>6aaaa688-04e3-3a3c-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <position>
        <x>422.00002030311634</x>
        <y>437.0000097156018</y>
    </position>
    <versionedComponentId>6aaaa688-04e3-3a3c-81ca-770adc1e9238</versionedComponentId>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>Exit</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>12293941-9834-373a-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <position>
        <x>768.6499836820226</x>
        <y>-55.116497814610625</y>
    </position>
    <versionedComponentId>12293941-9834-373a-b95a-8a0e54460965</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>File Size</key>
                <value>
                    <name>File Size</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>
                    <name>Data Format</name>
                </value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>
                    <name>Unique FlowFiles</name>
                </value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
                <value>
                    <name>generate-ff-custom-text</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
            <entry>
                <key>mime-type</key>
                <value>
                    <name>mime-type</name>
                </value>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>
                    <name>determine_work_ts</name>
                </value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>
                    <name>end_ts</name>
                </value>
            </entry>
            <entry>
                <key>entity</key>
                <value>
                    <name>entity</name>
                </value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>
                    <name>start_ts</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>PRIMARY</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>File Size</key>
                <value>0B</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>Text</value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>false</value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>mime-type</key>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>2999-12-31 00:00:00</value>
            </entry>
            <entry>
                <key>entity</key>
                <value>PMIVIEW_BATCH</value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>1900-01-01 00:00:00</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 0 22 * * ?</schedulingPeriod>
        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>PMI-View Batch (daily)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
</processors>
<processors>
    <id>151947f8-7c11-3b1c-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <position>
        <x>367.4854329007726</x>
        <y>-61.116497814610625</y>
    </position>
    <versionedComponentId>151947f8-7c11-3b1c-aa63-1667431abaf5</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>File Size</key>
                <value>
                    <name>File Size</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>
                    <name>Data Format</name>
                </value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>
                    <name>Unique FlowFiles</name>
                </value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
                <value>
                    <name>generate-ff-custom-text</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
            <entry>
                <key>mime-type</key>
                <value>
                    <name>mime-type</name>
                </value>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>
                    <name>determine_work_ts</name>
                </value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>
                    <name>end_ts</name>
                </value>
            </entry>
            <entry>
                <key>entity</key>
                <value>
                    <name>entity</name>
                </value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>
                    <name>start_ts</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>PRIMARY</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>File Size</key>
                <value>0B</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>Text</value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>false</value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>mime-type</key>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>2999-12-31 00:00:00</value>
            </entry>
            <entry>
                <key>entity</key>
                <value>PMIVIEW_PROGRESS_DIMS</value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>1900-01-01 00:00:00</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 10 20 * * ?</schedulingPeriod>
        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>PMI-View Progress Dimension Table (Daily)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
</processors>
<processors>
    <id>2b793509-e3c0-3de2-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <position>
        <x>1971.9920195941102</x>
        <y>-64.11997101380439</y>
    </position>
    <versionedComponentId>2b793509-e3c0-3de2-812d-b20f38d419d2</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Create a trigger for the daily re-generation of the PMI-View dimension files that are used by the PMI-View application to speed up the start-up of the application.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>File Size</key>
                <value>
                    <name>File Size</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>
                    <name>Data Format</name>
                </value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>
                    <name>Unique FlowFiles</name>
                </value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
                <value>
                    <name>generate-ff-custom-text</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
            <entry>
                <key>mime-type</key>
                <value>
                    <name>mime-type</name>
                </value>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>
                    <name>determine_work_ts</name>
                </value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>
                    <name>end_ts</name>
                </value>
            </entry>
            <entry>
                <key>entity</key>
                <value>
                    <name>entity</name>
                </value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>
                    <name>start_ts</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>PRIMARY</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>File Size</key>
                <value>0B</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>Text</value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>false</value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>mime-type</key>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
            <entry>
                <key>entity</key>
                <value>SINGLE_WAFER_SCRAP</value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>${now():toNumber():minus(259200000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 0 22 * * ?</schedulingPeriod>
        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Single Wafer Scrap (Daily)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
</processors>
<processors>
    <id>40033b13-e89d-33a2-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <position>
        <x>364.00002030311634</x>
        <y>200.00002497439084</y>
    </position>
    <versionedComponentId>40033b13-e89d-33a2-8cd9-923e4784e2c2</versionedComponentId>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>query_insert</key>
                <value>
                    <name>query_insert</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>query_insert</key>
                <value>-- ICN8/NiFi/DetDepAgg/InsLogPer
insert into
  mfg_icn8_data.nifi_load_log
  ( target_entity
  , insert_cet_ts
  , period_from_cet_ts
  , period_to_cet_ts
  , filename
  , processed_cet_ts
  , num_retries
  )
  select
    '${entity}'
  , '${determine_work_ts}'
  , '${start_ts}'
  , '${end_ts}'
  , concat ( 'HDP_'
           , '${entity}'
           , '_'
           , substr (regexp_replace ('${start_ts}'         , '[- :]', ''), 1, 14)
           , '_'
           , substr (regexp_replace ('${end_ts}'           , '[- :]', ''), 1, 14)
           , '_'
           , substr (regexp_replace ('${determine_work_ts}', '[- :]', ''), 1, 14)
           , '.trg'
           )
  , ''
  , 0
;
</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Prepare statement for trigger insert</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>48876715-bb09-3de4-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <position>
        <x>-123.34314986289928</x>
        <y>-62.352735340550566</y>
    </position>
    <versionedComponentId>48876715-bb09-3de4-9831-24fb7c82049a</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>File Size</key>
                <value>
                    <name>File Size</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>
                    <name>Data Format</name>
                </value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>
                    <name>Unique FlowFiles</name>
                </value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
                <value>
                    <name>generate-ff-custom-text</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
            <entry>
                <key>mime-type</key>
                <value>
                    <name>mime-type</name>
                </value>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>
                    <name>determine_work_ts</name>
                </value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>
                    <name>end_ts</name>
                </value>
            </entry>
            <entry>
                <key>entity</key>
                <value>
                    <name>entity</name>
                </value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>
                    <name>start_ts</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>PRIMARY</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>File Size</key>
                <value>0B</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>Text</value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>false</value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>mime-type</key>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>2999-12-31 00:00:00</value>
            </entry>
            <entry>
                <key>entity</key>
                <value>PMIVIEW_DIMS</value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>1900-01-01 00:00:00</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 0 20 * * ?</schedulingPeriod>
        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>PMI-View Dimension Table (Daily)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
</processors>
<processors>
    <id>6289d882-7c4b-38e7-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <position>
        <x>1586.0393879788976</x>
        <y>-64.71862488980594</y>
    </position>
    <versionedComponentId>6289d882-7c4b-38e7-a15c-65e751a341b1</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Create a trigger for the daily re-generation of the PMI-View dimension files that are used by the PMI-View application to speed up the start-up of the application.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>File Size</key>
                <value>
                    <name>File Size</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>
                    <name>Data Format</name>
                </value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>
                    <name>Unique FlowFiles</name>
                </value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
                <value>
                    <name>generate-ff-custom-text</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
            <entry>
                <key>mime-type</key>
                <value>
                    <name>mime-type</name>
                </value>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>
                    <name>determine_work_ts</name>
                </value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>
                    <name>end_ts</name>
                </value>
            </entry>
            <entry>
                <key>entity</key>
                <value>
                    <name>entity</name>
                </value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>
                    <name>start_ts</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>PRIMARY</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>File Size</key>
                <value>0B</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>Text</value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>false</value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>mime-type</key>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>2999-12-31 00:00:00</value>
            </entry>
            <entry>
                <key>entity</key>
                <value>PMIVIEW_DIM_FILES</value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>1900-01-01 00:00:00</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 0 21 * * ?</schedulingPeriod>
        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>PMI-View Dim Files (Daily)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
</processors>
<processors>
    <id>9b821213-93e3-39b4-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <position>
        <x>2359.9712676409854</x>
        <y>-227.61453626229377</y>
    </position>
    <versionedComponentId>9b821213-93e3-39b4-adac-aaf1e6d18a6f</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments>Create a trigger for the daily re-generation of the PMI-View dimension files that are used by the PMI-View application to speed up the start-up of the application.</comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>File Size</key>
                <value>
                    <name>File Size</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>
                    <name>Data Format</name>
                </value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>
                    <name>Unique FlowFiles</name>
                </value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
                <value>
                    <name>generate-ff-custom-text</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
            <entry>
                <key>mime-type</key>
                <value>
                    <name>mime-type</name>
                </value>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>
                    <name>determine_work_ts</name>
                </value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>
                    <name>end_ts</name>
                </value>
            </entry>
            <entry>
                <key>entity</key>
                <value>
                    <name>entity</name>
                </value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>
                    <name>start_ts</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>PRIMARY</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>File Size</key>
                <value>0B</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>Text</value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>false</value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>mime-type</key>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
            <entry>
                <key>entity</key>
                <value>SINGLE_WAFER_SCRAP</value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>${now():toNumber():minus(259200000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>1000days</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Single Wafer Scrap (Manual)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
</processors>
<processors>
    <id>9b8c3172-03a0-3ef3-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <position>
        <x>777.0930378812413</x>
        <y>-261.9139402508289</y>
    </position>
    <versionedComponentId>9b8c3172-03a0-3ef3-86f6-2878e30f662d</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>File Size</key>
                <value>
                    <name>File Size</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>
                    <name>Data Format</name>
                </value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>
                    <name>Unique FlowFiles</name>
                </value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
                <value>
                    <name>generate-ff-custom-text</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
            <entry>
                <key>mime-type</key>
                <value>
                    <name>mime-type</name>
                </value>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>
                    <name>determine_work_ts</name>
                </value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>
                    <name>end_ts</name>
                </value>
            </entry>
            <entry>
                <key>entity</key>
                <value>
                    <name>entity</name>
                </value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>
                    <name>start_ts</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>PRIMARY</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>File Size</key>
                <value>0B</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>Text</value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>false</value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>mime-type</key>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>2999-12-31 00:00:00</value>
            </entry>
            <entry>
                <key>entity</key>
                <value>PMIVIEW_BATCH</value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>1900-01-01 00:00:00</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>100000 days</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>PMI-View Batch (manual)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
</processors>
<processors>
    <id>b30d47fe-5748-3996-0000-000000000000</id>
    <parentGroupId>80c1ddb6-69d9-355d-0000-000000000000</parentGroupId>
    <position>
        <x>1174.2117512601476</x>
        <y>-50.50373059506717</y>
    </position>
    <versionedComponentId>b30d47fe-5748-3996-80d4-f4b4f4730bc1</versionedComponentId>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.23.2</version>
    </bundle>
    <config>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>File Size</key>
                <value>
                    <name>File Size</name>
                </value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>
                    <name>Batch Size</name>
                </value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>
                    <name>Data Format</name>
                </value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>
                    <name>Unique FlowFiles</name>
                </value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
                <value>
                    <name>generate-ff-custom-text</name>
                </value>
            </entry>
            <entry>
                <key>character-set</key>
                <value>
                    <name>character-set</name>
                </value>
            </entry>
            <entry>
                <key>mime-type</key>
                <value>
                    <name>mime-type</name>
                </value>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>
                    <name>determine_work_ts</name>
                </value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>
                    <name>end_ts</name>
                </value>
            </entry>
            <entry>
                <key>entity</key>
                <value>
                    <name>entity</name>
                </value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>
                    <name>start_ts</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>PRIMARY</executionNode>
        <lossTolerant>false</lossTolerant>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>File Size</key>
                <value>0B</value>
            </entry>
            <entry>
                <key>Batch Size</key>
                <value>1</value>
            </entry>
            <entry>
                <key>Data Format</key>
                <value>Text</value>
            </entry>
            <entry>
                <key>Unique FlowFiles</key>
                <value>false</value>
            </entry>
            <entry>
                <key>generate-ff-custom-text</key>
            </entry>
            <entry>
                <key>character-set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>mime-type</key>
            </entry>
            <entry>
                <key>determine_work_ts</key>
                <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
            </entry>
            <entry>
                <key>end_ts</key>
                <value>2999-12-31 00:00:00</value>
            </entry>
            <entry>
                <key>entity</key>
                <value>PMIVIEW_BACKUP</value>
            </entry>
            <entry>
                <key>start_ts</key>
                <value>1900-01-01 00:00:00</value>
            </entry>
        </properties>
        <retryCount>0</retryCount>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 0 22 * * ?</schedulingPeriod>
        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>PMI-View Back-up User Data (daily)</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
        <retry>false</retry>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
</processors>
                            </contents>
                            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                            <name>Create Periodic Triggers</name>
                            <variables/>
                        </processGroups>
                        <processors>
                            <id>12ca33a4-08b2-3199-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-194.75294779470596</x>
<y>965.5259295158266</y>
                            </position>
                            <versionedComponentId>12ca33a4-08b2-3199-9f28-9562c603528d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounterP:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>19ae98cf-9399-3384-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>289.4199929151322</x>
<y>1249.2590540970277</y>
                            </position>
                            <versionedComponentId>19ae98cf-9399-3384-8b8a-b18c314912f8</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
${query_insert}
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Insert (P)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>24ed2f82-f0c5-3db4-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-185.82586573293838</x>
<y>740.5673827733549</y>
                            </position>
                            <versionedComponentId>24ed2f82-f0c5-3db4-934d-ec88c68a6995</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute 'Insert log' for '${entity}'</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogMessage</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>2549044c-b5a8-3fb3-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-311.23755825856324</x>
<y>2593.273469948017</y>
                            </position>
                            <versionedComponentId>2549044c-b5a8-3fb3-ba84-c69502dec82d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
    </entry>
    <entry>
        <key>log-message</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>289fdc18-827b-374f-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-638.8960867291767</x>
<y>49.32129945863301</y>
                            </position>
                            <versionedComponentId>289fdc18-827b-374f-b671-a508d6125c43</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>2920d588-4711-331f-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>944.0</x>
<y>360.0</y>
                            </position>
                            <versionedComponentId>2920d588-4711-331f-a069-81258e696cc8</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02hdpep01v.na-rdc02.nxp.com;-q;"
-- ICN8/NiFi/DetDepAgg/ListAllScripts
SELECT DISTINCT entity FROM mfg_icn8_data.nifi_load_dependencies;
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>List (all) scripts</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>2c96f48b-7cbc-32b4-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-185.89830874136123</x>
<y>1706.490590160358</y>
                            </position>
                            <versionedComponentId>2c96f48b-7cbc-32b4-971c-3ccb5817f247</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounterDTF:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>36b34342-798e-338e-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>1584.0</x>
<y>368.0</y>
                            </position>
                            <versionedComponentId>36b34342-798e-338e-a089-11b606a3e43e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>File Size</key>
        <value>
            <name>File Size</name>
        </value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>
            <name>Batch Size</name>
        </value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>
            <name>Data Format</name>
        </value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>
            <name>Unique FlowFiles</name>
        </value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
        <value>
            <name>generate-ff-custom-text</name>
        </value>
    </entry>
    <entry>
        <key>character-set</key>
        <value>
            <name>character-set</name>
        </value>
    </entry>
    <entry>
        <key>mime-type</key>
        <value>
            <name>mime-type</name>
        </value>
    </entry>
</descriptors>
<executionNode>PRIMARY</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>File Size</key>
        <value>0B</value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>Text</value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>false</value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
    </entry>
    <entry>
        <key>character-set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>mime-type</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>1 day</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Manual trigger</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                        </processors>
                        <processors>
                            <id>3c5530be-e3f7-3cfc-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-297.98964585164185</x>
<y>2151.3265705339545</y>
                            </position>
                            <versionedComponentId>3c5530be-e3f7-3cfc-8c73-ac3a6a7bb91d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
    </entry>
    <entry>
        <key>log-message</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>3dfa102f-8de2-34a8-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-178.99909495046768</x>
<y>1495.3472899999174</y>
                            </position>
                            <versionedComponentId>3dfa102f-8de2-34a8-ba19-845c1872711f</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute 'Determine trigger file names' for '${entity}'</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogMessage</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>4956954c-cf99-3961-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>289.4199929151322</x>
<y>590.12266583732</y>
                            </position>
                            <versionedComponentId>4956954c-cf99-3961-b299-217863c65b7f</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Fill attribute "entity" with the name of the entity for which a (re-)aggregation could be possible.
NOTE: Goes to auto-terminated output "unmatched"  in case 0 dependent entities were found.
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>
            <name>Maximum Capture Group Length</name>
        </value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>
            <name>Enable Canonical Equivalence</name>
        </value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>
            <name>Enable Case-insensitive Matching</name>
        </value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>
            <name>Permit Whitespace and Comments in Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>
            <name>Enable DOTALL Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>
            <name>Enable Literal Parsing of the Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>
            <name>Enable Multiline Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>
            <name>Enable Unicode-aware Case Folding</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>
            <name>Enable Unicode Predefined Character Classes</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>
            <name>Enable Unix Lines Mode</name>
        </value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>
            <name>Include Capture Group 0</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>
            <name>extract-text-enable-repeating-capture-group</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-named-groups</key>
        <value>
            <name>extract-text-enable-named-groups</name>
        </value>
    </entry>
    <entry>
        <key>entity</key>
        <value>
            <name>entity</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>1024</value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>false</value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>false</value>
    </entry>
    <entry>
        <key>extract-text-enable-named-groups</key>
        <value>false</value>
    </entry>
    <entry>
        <key>entity</key>
        <value>(.*)</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Content to parameter "entity"</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExtractText</type>
                        </processors>
                        <processors>
                            <id>4b0a7338-cdc3-3abd-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-185.82586573293838</x>
<y>1249.2590540970277</y>
                            </position>
                            <versionedComponentId>4b0a7338-cdc3-3abd-baa1-b3c1423a7ace</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on 'Query insert log' for '${entity}'</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogMessage</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#ffffff</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>55e1180f-de94-3623-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>1576.0</x>
<y>152.0</y>
                            </position>
                            <versionedComponentId>55e1180f-de94-3623-9dc6-d438ee8a4b9d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
    </entry>
    <entry>
        <key>log-message</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>5bfc6444-884d-3468-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>303.46710105331715</x>
<y>2359.250348188761</y>
                            </position>
                            <versionedComponentId>5bfc6444-884d-3468-8996-e6bd88ed918b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>NOTE: When nothing needs to be aggregated, the input will be of length 0 --&gt; auto-terminate "unmatched" </comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>
            <name>Maximum Capture Group Length</name>
        </value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>
            <name>Enable Canonical Equivalence</name>
        </value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>
            <name>Enable Case-insensitive Matching</name>
        </value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>
            <name>Permit Whitespace and Comments in Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>
            <name>Enable DOTALL Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>
            <name>Enable Literal Parsing of the Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>
            <name>Enable Multiline Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>
            <name>Enable Unicode-aware Case Folding</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>
            <name>Enable Unicode Predefined Character Classes</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>
            <name>Enable Unix Lines Mode</name>
        </value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>
            <name>Include Capture Group 0</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>
            <name>extract-text-enable-repeating-capture-group</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-named-groups</key>
        <value>
            <name>extract-text-enable-named-groups</name>
        </value>
    </entry>
    <entry>
        <key>aggr_filename</key>
        <value>
            <name>aggr_filename</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>1024</value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>false</value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>false</value>
    </entry>
    <entry>
        <key>extract-text-enable-named-groups</key>
        <value>false</value>
    </entry>
    <entry>
        <key>aggr_filename</key>
        <value>(.*)</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Content to parameter "filename"</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExtractText</type>
                        </processors>
                        <processors>
                            <id>678efab8-a42a-3da1-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-190.81400965383682</x>
<y>1900.9336146439027</y>
                            </position>
                            <versionedComponentId>678efab8-a42a-3da1-86ed-5f6fe969779a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on 'Determine trigger file names' for '${entity}'</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogMessage</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#ffffff</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>6c79b4b6-4142-3bf6-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-638.8960867291767</x>
<y>971.9025164298891</y>
                            </position>
                            <versionedComponentId>6c79b4b6-4142-3bf6-b2eb-11c0f875a91f</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounterX</key>
        <value>
            <name>retrycounterX</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounterX</key>
        <value>${retrycounterP:isNull():ifElse(1, ${retrycounterP:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>7ec828b5-6c39-3d20-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>294.0694374952103</x>
<y>1002.1239519767641</y>
                            </position>
                            <versionedComponentId>7ec828b5-6c39-3d20-8906-795b8e1188a6</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>query_insert</key>
        <value>
            <name>query_insert</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>query_insert</key>
        <value>-- ICN8/NiFi/DetDepAgg/InsLogDep
WITH LeadLag AS (
   SELECT     
      row_number() OVER( ORDER BY DtFrom) as rownum,
      CASE WHEN NVL (Lag(DtTo) OVER (ORDER BY DtFrom), '') = '' THEN '1970-01-01 00:00:00' ELSE Lag(DtTo) OVER (ORDER BY DtFrom) END as PrevEndDate, 
     p.*
   FROM
   (   
		 /* ALLE TE VERWERKEN PERIODES VOOR DOEL TABEL SCRIPT-11 */
		 /* TODO: SAMENPERSEN OM TOT UNIEKE SERIES TE KOMEN -&gt; ZO NIET DAN DEZE SERIES VERWERKEN */
		 SELECT  
		 R.DtFrom, 
		 R.DtTo,
		 COUNT(DISTINCT L.target_entity) as Cnt
		
		 FROM
		 (
			 /* DEZE PERIODES BLIJVEN OVER ALSZIJNDE DATA OM VOLLEDIGHEID MEE TE CHECKEN */
			 SELECT
			 DISTINCT DtFrom, DtTo
			 FROM
			 (
					 /* ALL UNIEKE VAN/TOT TIJDEN VAN AFHANKELIJKE TABELLEN */
					 SELECT 
					  LAG (Dt) OVER (ORDER BY Dt ASC) as DtFrom
					  ,Dt as DtTo  					  
					 FROM
					 (
					 /* ALLE DATUMS VAN AFHANKELIJKHEDEN DIE OOIT VERWERKT ZIJN */
					  SELECT DISTINCT Dt FROM (
    					  SELECT period_from_cet_ts AS Dt FROM mfg_icn8_data.nifi_load_log
    					  WHERE target_entity IN (SELECT depends_on_entity FROM mfg_icn8_data.nifi_load_dependencies WHERE entity = '${entity}') AND processed_cet_ts IS NOT NULL
    					  UNION ALL 
    					  SELECT period_to_cet_ts AS Dt FROM mfg_icn8_data.nifi_load_log
    					  WHERE target_entity IN (SELECT depends_on_entity FROM mfg_icn8_data.nifi_load_dependencies WHERE entity = '${entity}') AND processed_cet_ts IS NOT NULL
					  ) I
					 ) X

			 ) U
 
			 INNER JOIN 
			  (
					/* BEPERK PERIODE(S) TOT AL HET 'NIEUWE' WERK */
					SELECT DISTINCT period_from_cet_ts, period_to_cet_ts FROM mfg_icn8_data.nifi_load_log
					WHERE 1=1	
				    AND target_entity IN (SELECT DISTINCT depends_on_entity FROM mfg_icn8_data.nifi_load_dependencies WHERE entity = '${entity}') /* ENKEL AFHANKELIJKHEDEN VAN BELANG / IMPACT */
					AND processed_cet_ts &gt;= /*  NIEUW WERK = NIEUWE FILES SINDS LAATSTE KIJKMOMENT VAN LAATST VERWERKTE/PROCESSED */
					(
						SELECT CASE
						         WHEN NVL (MAX (insert_cet_ts), '') = ''
                                 THEN '1970-01-01 00:00:00'
                                 ELSE MAX (insert_cet_ts)
							   END
    						   FROM mfg_icn8_data.nifi_load_log
						WHERE target_entity = '${entity}'
					)
					AND processed_cet_ts &lt; '${determine_work_ts}' /* New records inserted while this query is running are ignored. They will be taken into account next time! */
			  ) Y
			  ON U.DtFrom  &gt;= Y.period_from_cet_ts 
			  AND U.DtTo &lt;= Y.period_to_cet_ts 

		) R

	
		/* ZOEK VOLLEDIGE OVERLAP OF AFHANKELIJKHEID 1 AANWEZIG IS VOOR DEZE PERIODE */
		INNER JOIN (SELECT * FROM mfg_icn8_data.nifi_load_log WHERE target_entity IN (SELECT depends_on_entity FROM mfg_icn8_data.nifi_load_dependencies WHERE entity = '${entity}')) L
		ON L.period_from_cet_ts &lt;= R.DtFrom 
		AND L.period_to_cet_ts &gt;= R.DtTo
		
		GROUP BY dtfrom, dtto
		
)p
/* Beperk tot overlappende deel (aantal afhankelijkheden is hetzelfde als gedefineerd) */
WHERE p.Cnt = 
    (SELECT COUNT(depends_on_entity) FROM mfg_icn8_data.nifi_load_dependencies WHERE entity = '${entity}')

), Dates AS (
   SELECT
         CASE WHEN PrevEndDate &lt; DtFrom THEN DtFrom ELSE NULL END as StartDate,
        DtTo,           
        rownum
   FROM   LeadLag
), startGrouping AS (
   SELECT
        max(StartDate) OVER (ORDER BY rownum rows UNBOUNDED PRECEDING) as StartDate,
      DtTo,
      rownum
   FROM Dates
),
 grps AS (
   SELECT
      StartDate,
      DtTo,
      rownum,
       row_number() OVER(PARTITION BY StartDate ORDER BY DtTo desc) as ingroupRownum
   FROM startGrouping e1
  
)

insert into
  mfg_icn8_data.nifi_load_log
  ( target_entity
  , insert_cet_ts
  , period_from_cet_ts
  , period_to_cet_ts
  , filename
  , processed_cet_ts
  , num_retries
  )
  select
    '${entity}'
  , '${determine_work_ts}'
  , StartDate
  , DtTo
  , concat ( 'HDP_'
           , '${entity}'
           , '_'
           , substr (regexp_replace (StartDate             , '[- :]', ''), 1, 14)
           , '_'
           , substr (regexp_replace (DtTo                  , '[- :]', ''), 1, 14)
           , '_'
           , substr (regexp_replace ('${determine_work_ts}', '[- :]', ''), 1, 14)
           , '.trg'
           )
  , ''
  , 0
  from
    grps
  where
    ingroupRownum = 1
;
</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Prepare statement</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>800b9c4a-cca4-31a5-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-638.9729508290588</x>
<y>-369.9307536847955</y>
                            </position>
                            <versionedComponentId>800b9c4a-cca4-31a5-8a4b-bee35270f9a0</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
    </entry>
    <entry>
        <key>log-message</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>81f78b15-3370-3fc0-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>1232.5158324664158</x>
<y>1898.876601364047</y>
                            </position>
                            <versionedComponentId>81f78b15-3370-3fc0-950f-5920c7374c8a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>After emptying the queue for a certain aggregation type AND removing all existing trigger files for this aggregation type, the trigger files for any not-processed aggregations can be re-created by starting and stopping this processor.
NOTE: Fill in the right value for attribute "entity".</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>File Size</key>
        <value>
            <name>File Size</name>
        </value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>
            <name>Batch Size</name>
        </value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>
            <name>Data Format</name>
        </value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>
            <name>Unique FlowFiles</name>
        </value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
        <value>
            <name>generate-ff-custom-text</name>
        </value>
    </entry>
    <entry>
        <key>character-set</key>
        <value>
            <name>character-set</name>
        </value>
    </entry>
    <entry>
        <key>mime-type</key>
        <value>
            <name>mime-type</name>
        </value>
    </entry>
    <entry>
        <key>entity</key>
        <value>
            <name>entity</name>
        </value>
    </entry>
</descriptors>
<executionNode>PRIMARY</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>File Size</key>
        <value>0B</value>
    </entry>
    <entry>
        <key>Batch Size</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Data Format</key>
        <value>Text</value>
    </entry>
    <entry>
        <key>Unique FlowFiles</key>
        <value>false</value>
    </entry>
    <entry>
        <key>generate-ff-custom-text</key>
    </entry>
    <entry>
        <key>character-set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>mime-type</key>
    </entry>
    <entry>
        <key>entity</key>
        <value>BASE_QUALIFICATIONS_PCM</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>1 day</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Manually create files for unprocessed jobs</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                        </processors>
                        <processors>
                            <id>82a4b00a-c22c-37e1-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>289.4199929151322</x>
<y>49.32129945863301</y>
                            </position>
                            <versionedComponentId>82a4b00a-c22c-37e1-a2cd-02e11ff23090</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
-- ICN8/NiFi/DetDepAgg/ListScripts
SELECT DISTINCT entity FROM mfg_icn8_data.nifi_load_dependencies WHERE depends_on_entity = '${logtype}';
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>true</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>List Scripts (S)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#188028</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>8ae0e17c-8379-3cc4-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>306.7515519359272</x>
<y>2125.811530598876</y>
                            </position>
                            <versionedComponentId>8ae0e17c-8379-3cc4-9021-3fd7fae3204a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Byte Sequence Format</key>
        <value>
            <name>Byte Sequence Format</name>
        </value>
    </entry>
    <entry>
        <key>Byte Sequence</key>
        <value>
            <name>Byte Sequence</name>
        </value>
    </entry>
    <entry>
        <key>Keep Byte Sequence</key>
        <value>
            <name>Keep Byte Sequence</name>
        </value>
    </entry>
    <entry>
        <key>Byte Sequence Location</key>
        <value>
            <name>Byte Sequence Location</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Byte Sequence Format</key>
        <value>Hexadecimal</value>
    </entry>
    <entry>
        <key>Byte Sequence</key>
        <value>0A</value>
    </entry>
    <entry>
        <key>Keep Byte Sequence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Byte Sequence Location</key>
        <value>Trailing</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Split into individual trigger flowfiles</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>splits</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.SplitContent</type>
                        </processors>
                        <processors>
                            <id>93c803d4-4a48-3fa0-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>289.4199929151322</x>
<y>363.83808784499456</y>
                            </position>
                            <versionedComponentId>93c803d4-4a48-3fa0-8dc6-6c1e1e588cef</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Byte Sequence Format</key>
        <value>
            <name>Byte Sequence Format</name>
        </value>
    </entry>
    <entry>
        <key>Byte Sequence</key>
        <value>
            <name>Byte Sequence</name>
        </value>
    </entry>
    <entry>
        <key>Keep Byte Sequence</key>
        <value>
            <name>Keep Byte Sequence</name>
        </value>
    </entry>
    <entry>
        <key>Byte Sequence Location</key>
        <value>
            <name>Byte Sequence Location</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Byte Sequence Format</key>
        <value>Hexadecimal</value>
    </entry>
    <entry>
        <key>Byte Sequence</key>
        <value>0A</value>
    </entry>
    <entry>
        <key>Keep Byte Sequence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Byte Sequence Location</key>
        <value>Trailing</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>SplitContent</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>splits</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.SplitContent</type>
                        </processors>
                        <processors>
                            <id>9b62d676-4db9-38e9-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>289.15970640779324</x>
<y>792.4680857075159</y>
                            </position>
                            <versionedComponentId>9b62d676-4db9-38e9-af73-b49488287c17</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Fill attribute "determine_work_ts" with the current timestamp. New aggregation items will be added to the "shopping list" in table nifi_load_logging with this insert timestamp.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>determine_work_ts</key>
        <value>
            <name>determine_work_ts</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>determine_work_ts</key>
        <value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss.SSS', 'CET')}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Fill attribute determine_work_ts</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>9d16d102-490b-3b51-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-185.82586573293838</x>
<y>49.32129945863301</y>
                            </position>
                            <versionedComponentId>9d16d102-490b-3b51-b463-f4deac144106</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt on 'List scripts'</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogMessage</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style>
<entry>
    <key>background-color</key>
    <value>#ffffff</value>
</entry>
                            </style>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>a0fc8fbb-5d71-3916-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>304.6658696856581</x>
<y>2854.244818385356</y>
                            </position>
                            <versionedComponentId>a0fc8fbb-5d71-3916-be65-87173e4160e6</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>2023-03-17: Log the automatic creation of trigger files.
Hopefully this will enable us to find out where the tsunami of BQ OVL files is coming from.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Trigger file ${aggr_filename} was automatically generated by the flow "Determine dependent aggregations".</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log creation of trigger file</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>a447a8e4-48b6-3d36-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-638.8960867291767</x>
<y>-164.30467519651836</y>
                            </position>
                            <versionedComponentId>a447a8e4-48b6-3d36-a134-ef9e185a291f</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounterX</key>
        <value>
            <name>retrycounterX</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounterX</key>
        <value>${retrycounterS:isNull():ifElse(1, ${retrycounterS:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>a4a44ca5-2925-33e4-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-628.2260866528827</x>
<y>1901.3940638626527</y>
                            </position>
                            <versionedComponentId>a4a44ca5-2925-33e4-ba05-8d6d7e39b39d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>bacd9c98-0604-3b1e-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>786.4705761490552</x>
<y>1907.7544502259746</y>
                            </position>
                            <versionedComponentId>bacd9c98-0604-3b1e-8cac-8576f3184cd1</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Take all the work records that were just inserted into table nifi_load_log.
For each record, determine the name of the file that will trigger the aggregation.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
select
  nll.filename
from
  mfg_icn8_data.nifi_load_log  nll
where
      nll.target_entity = '${entity}'
  and nll.processed_cet_ts = ''
;
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Determine manual trigger file names</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>bc36f4a7-c336-3e75-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-185.82586573293838</x>
<y>-164.30467519651836</y>
                            </position>
                            <versionedComponentId>bc36f4a7-c336-3e75-b06e-3449e8e523d0</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${retrycounterS:gt(5)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>bddcd60c-f2c8-3644-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-638.8960867291767</x>
<y>1249.2590540970277</y>
                            </position>
                            <versionedComponentId>bddcd60c-f2c8-3644-b61c-fa5680dbe5c9</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>c0299ca8-66e6-3f65-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-612.7626847157776</x>
<y>1494.8356037370795</y>
                            </position>
                            <versionedComponentId>c0299ca8-66e6-3f65-a5ef-82a5c38fa6b4</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
    </entry>
    <entry>
        <key>log-message</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>c3296a37-9bd6-390d-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-645.9277237782776</x>
<y>740.559358619892</y>
                            </position>
                            <versionedComponentId>c3296a37-9bd6-390d-9ae0-92fbc677c128</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
    </entry>
    <entry>
        <key>log-message</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Dummy</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>c8fa4f42-e406-38a9-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-623.1777334576923</x>
<y>1700.9897967033266</y>
                            </position>
                            <versionedComponentId>c8fa4f42-e406-38a9-830d-dd7fe73c7de9</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>retrycounterX</key>
        <value>
            <name>retrycounterX</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>retrycounterX</key>
        <value>${retrycounterDTF:isNull():ifElse(1, ${retrycounterDTF:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>dff54cf4-136e-35ea-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>306.9908070282495</x>
<y>2605.023058383178</y>
                            </position>
                            <versionedComponentId>dff54cf4-136e-35ea-85b5-4a7768b14d4e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/users/hadoop_nifi_svc/scripts/icn8/create_trigger_file.sh</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>${aggr_filename}</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Create trigger file in "incoming" folder</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>e3d2c96d-3430-3838-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>-185.82586573293838</x>
<y>-372.53819278816854</y>
                            </position>
                            <versionedComponentId>e3d2c96d-3430-3838-9e2c-79cb874282a1</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute 'Pending' for '${scriptname}'</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogMessage</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>f3e85cbd-52cd-3966-0000-000000000000</id>
                            <parentGroupId>cf1cd15c-8e93-3c0c-0000-000000000000</parentGroupId>
                            <position>
<x>309.3400524674146</x>
<y>1904.608332061912</y>
                            </position>
                            <versionedComponentId>f3e85cbd-52cd-3966-9665-8637f9d948b8</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Take all the work records that were just inserted into table nifi_load_log.
For each record, determine the name of the file that will trigger the aggregation.</comments>
<concurrentlySchedulableTaskCount>5</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
-- ICN8/NiFi/DetDepAgg/DetTrgNms
select
  nll.filename
from
  mfg_icn8_data.nifi_load_log  nll
where
      nll.target_entity = '${entity}'
  and nll.insert_cet_ts = '${determine_work_ts}'
;
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Determine trigger file names</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Determine dependent aggregations</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>ff202c50-0bef-38b9-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>3416.0</x>
                        <y>1000.0</y>
                    </position>
                    <versionedComponentId>ff202c50-0bef-38b9-ade9-f06e508beedf</versionedComponentId>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>0540642d-b240-3935-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>0540642d-b240-3935-8e32-405338e1d4b1</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>4047.570068359375</x>
<y>1543.68017578125</y>
                            </bends>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>49bf1a52-8ad8-32d1-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>49bf1a52-8ad8-32d1-8d55-e3de568c6677</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>148fe1ae-ec45-396e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>148fe1ae-ec45-396e-837c-c3a7ffdd9080</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>077b4bc6-5adc-32ce-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>077b4bc6-5adc-32ce-a9b5-d7754430cc39</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>4b86f5ff-6f3f-3267-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4b86f5ff-6f3f-3267-874b-2ff2cd6c8493</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>70c1ff4c-4c2e-3043-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>70c1ff4c-4c2e-3043-885d-1e898631995a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>33b26a95-b742-3b3a-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>33b26a95-b742-3b3a-bbfd-f447317d7ea5</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>70c1ff4c-4c2e-3043-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>70c1ff4c-4c2e-3043-885d-1e898631995a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>828ff924-077a-3cd7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>828ff924-077a-3cd7-9064-2e3d68d9efd4</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>53435fc7-4e4f-3ba9-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>53435fc7-4e4f-3ba9-a6bc-6ed5657e9ecb</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>4035.93359375</x>
<y>780.3330078125</y>
                            </bends>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>148fe1ae-ec45-396e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>148fe1ae-ec45-396e-837c-c3a7ffdd9080</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>no</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>5d93ea8d-6085-37f3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5d93ea8d-6085-37f3-8273-477cff4819e7</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>58819043-8f6b-3ad7-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>58819043-8f6b-3ad7-9916-7bd8736fae10</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>4e70c875-0998-39e4-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>4e70c875-0998-39e4-bc67-577eb2a26a27</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>6bc5b64d-92af-35e5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6bc5b64d-92af-35e5-b834-95ff4ad99ac6</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>59b86cca-b302-3e80-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>59b86cca-b302-3e80-9770-c194c1b0445b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>897e15ae-01ee-34b4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>897e15ae-01ee-34b4-9158-875f28d33955</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>4b86f5ff-6f3f-3267-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>4b86f5ff-6f3f-3267-874b-2ff2cd6c8493</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>662b3764-663d-397c-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>662b3764-663d-397c-b493-8627835bfb46</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>6bc5b64d-92af-35e5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>6bc5b64d-92af-35e5-b834-95ff4ad99ac6</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>maximum_reached</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>70c1ff4c-4c2e-3043-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>70c1ff4c-4c2e-3043-885d-1e898631995a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6c9dc13a-0e55-34fb-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>6c9dc13a-0e55-34fb-9682-b7210b6bcd9e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>49bf1a52-8ad8-32d1-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>49bf1a52-8ad8-32d1-8d55-e3de568c6677</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>112da3b0-2edc-33bc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>112da3b0-2edc-33bc-ac2b-aa186f8c2561</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6d0f7bc3-416f-35fd-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>6d0f7bc3-416f-35fd-a51e-700c5062d23b</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>5d93ea8d-6085-37f3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5d93ea8d-6085-37f3-8273-477cff4819e7</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>49db81d9-ec2a-3bf4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>49db81d9-ec2a-3bf4-924d-f3c288015786</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8163388f-1775-3e94-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>8163388f-1775-3e94-bb70-bc0dbc6e0421</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>41b4c8b6-0b66-3286-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>41b4c8b6-0b66-3286-a83f-422759c6015b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>33c646fe-de49-3182-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>33c646fe-de49-3182-88a5-04296fec62fe</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8eecf1be-3a1a-3ffb-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>8eecf1be-3a1a-3ffb-938b-b2d31dc449ab</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>112da3b0-2edc-33bc-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>112da3b0-2edc-33bc-ac2b-aa186f8c2561</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>original</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>41b4c8b6-0b66-3286-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>41b4c8b6-0b66-3286-a83f-422759c6015b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>97f57770-fd91-3ac1-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>97f57770-fd91-3ac1-9c71-4910dd896326</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>41b4c8b6-0b66-3286-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>41b4c8b6-0b66-3286-a83f-422759c6015b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>897e15ae-01ee-34b4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>897e15ae-01ee-34b4-9158-875f28d33955</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bc19a7ab-c5b6-343e-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>bc19a7ab-c5b6-343e-b828-ca1de6fb8355</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>33c646fe-de49-3182-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>33c646fe-de49-3182-88a5-04296fec62fe</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <selectedRelationships>yes</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>5d93ea8d-6085-37f3-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5d93ea8d-6085-37f3-8273-477cff4819e7</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>eb543b39-acf5-3f06-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>eb543b39-acf5-3f06-9f55-bbfe1b9d030e</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>49db81d9-ec2a-3bf4-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>49db81d9-ec2a-3bf4-924d-f3c288015786</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>d7fd7348-60bd-3927-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>d7fd7348-60bd-3927-96b3-0812da51f0c7</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f43e7936-f9fd-3edc-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <versionedComponentId>f43e7936-f9fd-3edc-9aec-a8e2ee8066d2</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>828ff924-077a-3cd7-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>828ff924-077a-3cd7-9064-2e3d68d9efd4</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <source>
<groupId>ff202c50-0bef-38b9-0000-000000000000</groupId>
<id>41b4c8b6-0b66-3286-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>41b4c8b6-0b66-3286-a83f-422759c6015b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <inputPorts>
                            <id>d7fd7348-60bd-3927-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>3485.5620238379743</x>
<y>329.0410684729479</y>
                            </position>
                            <versionedComponentId>d7fd7348-60bd-3927-96b3-0812da51f0c7</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>entry</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>49bf1a52-8ad8-32d1-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>3485.612973785723</x>
<y>1580.8459224398148</y>
                            </position>
                            <versionedComponentId>49bf1a52-8ad8-32d1-8d55-e3de568c6677</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>exit</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <outputPorts>
                            <id>4e70c875-0998-39e4-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>1518.029392836894</x>
<y>1287.7462418143227</y>
                            </position>
                            <versionedComponentId>4e70c875-0998-39e4-bc67-577eb2a26a27</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>error</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>112da3b0-2edc-33bc-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>3438.6811550382495</x>
<y>1337.7271726463036</y>
                            </position>
                            <versionedComponentId>112da3b0-2edc-33bc-ac2b-aa186f8c2561</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Succesfully removed token for file ${filename}.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log successful attempt</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>148fe1ae-ec45-396e-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>3868.6274441007495</x>
<y>1345.2725828025536</y>
                            </position>
                            <versionedComponentId>148fe1ae-ec45-396e-837c-c3a7ffdd9080</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>No token needs to be removed for file ${filename}.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log token not needed</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>33c646fe-de49-3182-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>3436.5051642241483</x>
<y>919.938437072111</y>
                            </position>
                            <versionedComponentId>33c646fe-de49-3182-88a5-04296fec62fe</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>attempts</key>
        <value>
            <name>attempts</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>attempts</key>
        <value>0</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>#Attempts = 0</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>41b4c8b6-0b66-3286-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>3432.3063431620217</x>
<y>1122.2962704951005</y>
                            </position>
                            <versionedComponentId>41b4c8b6-0b66-3286-a83f-422759c6015b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Release the token on the current file type, so the next file can start running.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"
set mem_limit=100M;
set request_pool = root.default;

-- ICN8/NiFi/ReleaseToken
delete from
  mfg_icn8_data.nifi_load_tokens
where
      token    = '${logtype}'
  and filename = '${filename}'
;
"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Release token</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>49db81d9-ec2a-3bf4-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>3440.150618064701</x>
<y>504.5506016523336</y>
                            </position>
                            <versionedComponentId>49db81d9-ec2a-3bf4-924d-f3c288015786</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Trying to remove token for file ${filename} ...</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log start of attempt to remove token</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>4b86f5ff-6f3f-3267-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>2496.3396548110645</x>
<y>1030.1364519455904</y>
                            </position>
                            <versionedComponentId>4b86f5ff-6f3f-3267-874b-2ff2cd6c8493</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt ${attempts} removing token for file ${filename}.
Error details:
${execution.error}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log failed attempt</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>5d93ea8d-6085-37f3-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>3441.555935777617</x>
<y>715.5468917620551</y>
                            </position>
                            <versionedComponentId>5d93ea8d-6085-37f3-8273-477cff4819e7</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If this loader type is configured to not need a token, the flow part for releasing a token can be skipped.
Several files of this type can be loaded concurrently in that case.</comments>
<concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>no</key>
        <value>
            <name>no</name>
        </value>
    </entry>
    <entry>
        <key>yes</key>
        <value>
            <name>yes</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>no</key>
        <value>${token_needed:equals('N')}</value>
    </entry>
    <entry>
        <key>yes</key>
        <value>${token_needed:equals('Y')}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Check if loader type needs token</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>no</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>yes</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>6bc5b64d-92af-35e5-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>2025.683984645049</x>
<y>1249.1948625901216</y>
                            </position>
                            <versionedComponentId>6bc5b64d-92af-35e5-b834-95ff4ad99ac6</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt ${attempts} removing token for file ${filename}. This was the final attempt.
Error details:
${execution.error}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log permanent fail</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>70c1ff4c-4c2e-3043-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>2496.707186786376</x>
<y>1249.8021461990636</y>
                            </position>
                            <versionedComponentId>70c1ff4c-4c2e-3043-885d-1e898631995a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>maximum_reached</key>
        <value>
            <name>maximum_reached</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>maximum_reached</key>
        <value>${attempts:gt(99)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Maximum #attempts reached?</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>maximum_reached</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>828ff924-077a-3cd7-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>2930.715749949304</x>
<y>1247.3244005852707</y>
                            </position>
                            <versionedComponentId>828ff924-077a-3cd7-9064-2e3d68d9efd4</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>attempts</key>
        <value>
            <name>attempts</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>attempts</key>
        <value>${attempts:isNull():ifElse(1, ${attempts:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Update #attempts</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>897e15ae-01ee-34b4-0000-000000000000</id>
                            <parentGroupId>ff202c50-0bef-38b9-0000-000000000000</parentGroupId>
                            <position>
<x>2936.642204386062</x>
<y>1018.3247088394082</y>
                            </position>
                            <versionedComponentId>897e15ae-01ee-34b4-9158-875f28d33955</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>15 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Wait for 15 seconds</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Release Token</name>
                    <variables/>
                </processGroups>
                <processors>
                    <id>01822d1f-4c1d-3770-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>3406.145291246367</x>
                        <y>2493.7105880511176</y>
                    </position>
                    <versionedComponentId>01822d1f-4c1d-3770-a993-d82bfa3a525b</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Decide whether this is a loader or a aggregator.
For each of these 2 types, processing is finished in a different way.</comments>
                        <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Routing Strategy</key>
<value>
    <name>Routing Strategy</name>
</value>
                            </entry>
                            <entry>
<key>aggregator</key>
<value>
    <name>aggregator</name>
</value>
                            </entry>
                            <entry>
<key>loader</key>
<value>
    <name>loader</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Routing Strategy</key>
<value>Route to Property name</value>
                            </entry>
                            <entry>
<key>aggregator</key>
<value>${filename:endsWith('.trg')}</value>
                            </entry>
                            <entry>
<key>loader</key>
<value>${filename:endsWith('csv')}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Split loaders and aggregators (2)</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>aggregator</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>loader</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>unmatched</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                </processors>
                <processors>
                    <id>01bd2e15-3da2-3d7b-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>3432.0</x>
                        <y>1272.0</y>
                    </position>
                    <versionedComponentId>01bd2e15-3da2-3d7b-adb0-33ea7ea1e9a8</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Sometimes, flowfiles suddenly disappear between these 2 processor groups.
We added this log processor to check where exactly the flowfiles disappear.</comments>
                        <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>log-level</key>
<value>
    <name>log-level</name>
</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>
    <name>log-prefix</name>
</value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>
    <name>log-message</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>log-level</key>
<value>info</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>icn8: </value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>Debug: In between 2 groups for file ${filename}.</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Log debug line</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.LogMessage</type>
                </processors>
                <processors>
                    <id>131d227e-e3cb-32fa-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>2917.394070929477</x>
                        <y>1748.7936843174004</y>
                    </position>
                    <versionedComponentId>131d227e-e3cb-32fa-9878-dbb7a61a4f0a</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>log-level</key>
<value>
    <name>log-level</name>
</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>
    <name>log-prefix</name>
</value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>
    <name>log-message</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>log-level</key>
<value>info</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
                            </entry>
                            <entry>
<key>log-message</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.LogMessage</type>
                </processors>
                <processors>
                    <id>2676f21a-d254-3b27-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>3405.510064850453</x>
                        <y>1740.5295664680352</y>
                    </position>
                    <versionedComponentId>2676f21a-d254-3b27-83a0-1069e475d76e</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Copy the finished file from the processing directory to the dropzone.
NOTE: For aggregators, the processed file was just a trigger. It doesn't contain any data. Therefore, it is not stored in HDFS.</comments>
                        <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/bin/hdfs</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>dfs;-put;-f;/etl/dropzone/icn8/processing/${filename};${landingzone-final}/${generated_day:substring(0,4)}/${generated_day:substring(4,6)}-${generated_day:substring(6,8)}/</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Copy processed file to landingzone</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>2bcbc21b-1899-395a-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>5601.405943387843</x>
                        <y>1348.4226218025788</y>
                    </position>
                    <versionedComponentId>2bcbc21b-1899-395a-b14d-4c9a4440c596</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>60 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Trigger Kerberos logging</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>3b288ab0-7da2-3ad4-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>2862.200134763956</x>
                        <y>1074.768918369366</y>
                    </position>
                    <versionedComponentId>3b288ab0-7da2-3ad4-ab93-383fb5ba816d</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Move the selected file from the "processing" to the "invalid" directory.
This prepares the file for inspection by a developer.</comments>
                        <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/bin/mv</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>/etl/dropzone/icn8/processing/${filename};/etl/dropzone/icn8/invalid/</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>true</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Move file to "invalid" folder</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>3bffc47e-9b9f-3c3e-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>3392.600641022328</x>
                        <y>1989.7837632856365</y>
                    </position>
                    <versionedComponentId>3bffc47e-9b9f-3c3e-86cd-392afb465ef0</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>If the landing folder in HDFS does not yet exists, create it.</comments>
                        <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/bin/hdfs</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>dfs;-mkdir;-p;${landingzone-final}/${generated_day:substring(0,4)}/${generated_day:substring(4,6)}-${generated_day:substring(6,8)}</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Create HDFS landing folder</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>3cbe255d-d311-3cd6-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>4088.118951569203</x>
                        <y>1063.6353053177309</y>
                    </position>
                    <versionedComponentId>3cbe255d-d311-3cd6-8983-655692afdfb9</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Notify the wait processor in the "Configure and wait lobby" of the fact that a file/aggregation of the current log_type was successfully processed, so the next file/aggregation of the same log_type can start.</comments>
                        <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>release-signal-id</key>
<value>
    <name>release-signal-id</name>
</value>
                            </entry>
                            <entry>
<key>signal-counter-name</key>
<value>
    <name>signal-counter-name</name>
</value>
                            </entry>
                            <entry>
<key>signal-counter-delta</key>
<value>
    <name>signal-counter-delta</name>
</value>
                            </entry>
                            <entry>
<key>signal-buffer-count</key>
<value>
    <name>signal-buffer-count</name>
</value>
                            </entry>
                            <entry>
<key>distributed-cache-service</key>
<value>
    <identifiesControllerService>org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient</identifiesControllerService>
    <name>distributed-cache-service</name>
</value>
                            </entry>
                            <entry>
<key>attribute-cache-regex</key>
<value>
    <name>attribute-cache-regex</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>release-signal-id</key>
<value>${logtype}</value>
                            </entry>
                            <entry>
<key>signal-counter-name</key>
<value>default</value>
                            </entry>
                            <entry>
<key>signal-counter-delta</key>
<value>1</value>
                            </entry>
                            <entry>
<key>signal-buffer-count</key>
<value>1</value>
                            </entry>
                            <entry>
<key>distributed-cache-service</key>
<value>df80850f-4cfb-3fe0-0000-000000000000</value>
                            </entry>
                            <entry>
<key>attribute-cache-regex</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Release flow for next file/aggregation</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.Notify</type>
                </processors>
                <processors>
                    <id>41b12378-a2d1-327f-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>802.4113850229901</x>
                        <y>141.18475905308242</y>
                    </position>
                    <versionedComponentId>41b12378-a2d1-327f-9746-ed2ecb19b0d7</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Split the file name into its components:
* source: the original filename
* valid_from: valid from time (string representation)
* valid_to: valid from time (string representation)
* generated: time at which the file was generated (string representation)
* generated_day: calendar day at which the file was generated (YYYYMMDD)</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                            <entry>
<key>absolute.path</key>
<value>
    <name>absolute.path</name>
</value>
                            </entry>
                            <entry>
<key>generated</key>
<value>
    <name>generated</name>
</value>
                            </entry>
                            <entry>
<key>generated_day</key>
<value>
    <name>generated_day</name>
</value>
                            </entry>
                            <entry>
<key>source</key>
<value>
    <name>source</name>
</value>
                            </entry>
                            <entry>
<key>valid_from</key>
<value>
    <name>valid_from</name>
</value>
                            </entry>
                            <entry>
<key>valid_to</key>
<value>
    <name>valid_to</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                            <entry>
<key>absolute.path</key>
<value>${absolute.path:replace('icn8/incoming/', 'icn8/processing/')}</value>
                            </entry>
                            <entry>
<key>generated</key>
<value>${filename:replaceAll('^.*[0-9]{14}_[0-9]{14}_([0-9]{14}).*$','$1'):toDate ('yyyyMMddHHmmss'):format("yyyy-MM-dd HH:mm:ss")}</value>
                            </entry>
                            <entry>
<key>generated_day</key>
<value>${filename:replaceAll('^.*[0-9]{14}_[0-9]{14}_([0-9]{14}).*$','$1'):substring(0,8)}</value>
                            </entry>
                            <entry>
<key>source</key>
<value>${filename}</value>
                            </entry>
                            <entry>
<key>valid_from</key>
<value>${filename:replaceAll('^.*([0-9]{14})_[0-9]{14}_[0-9]{14}.*$','$1'):toDate ('yyyyMMddHHmmss'):format("yyyy-MM-dd HH:mm:ss")}</value>
                            </entry>
                            <entry>
<key>valid_to</key>
<value>${filename:replaceAll('^.*[0-9]{14}_([0-9]{14})_[0-9]{14}.*$','$1'):toDate ('yyyyMMddHHmmss'):format("yyyy-MM-dd HH:mm:ss")}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Filename breakdown</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>447e16a0-e207-3e6f-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>3427.9433873357266</x>
                        <y>795.452314688494</y>
                    </position>
                    <versionedComponentId>447e16a0-e207-3e6f-8032-437a20e20139</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>log-level</key>
<value>
    <name>log-level</name>
</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>
    <name>log-prefix</name>
</value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>
    <name>log-message</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>log-level</key>
<value>info</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
                            </entry>
                            <entry>
<key>log-message</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.LogMessage</type>
                </processors>
                <processors>
                    <id>51633787-371c-37be-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>3410.828152960727</x>
                        <y>2779.350569083025</y>
                    </position>
                    <versionedComponentId>51633787-371c-37be-99ce-c6bac1cc0e22</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>log-level</key>
<value>
    <name>log-level</name>
</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>
    <name>log-prefix</name>
</value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>
    <name>log-message</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>log-level</key>
<value>info</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
                            </entry>
                            <entry>
<key>log-message</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.LogMessage</type>
                </processors>
                <processors>
                    <id>56a4ac68-40b9-31e2-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>2875.731961554477</x>
                        <y>799.2558081882501</y>
                    </position>
                    <versionedComponentId>56a4ac68-40b9-31e2-99db-d9875ec24ef3</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>log-level</key>
<value>
    <name>log-level</name>
</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>
    <name>log-prefix</name>
</value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>
    <name>log-message</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>log-level</key>
<value>info</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
                            </entry>
                            <entry>
<key>log-message</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.LogMessage</type>
                </processors>
                <processors>
                    <id>773f42a4-ab91-3680-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>5590.757135162953</x>
                        <y>1591.2928721320977</y>
                    </position>
                    <versionedComponentId>773f42a4-ab91-3680-89fb-bc36eec3ca17</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>For aggregators, the processed file was just a trigger. It doesn't contain any data.
Therefore, it is not to be stored in HDFS.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/users/hadoop_nifi_svc/scripts/icn8/log_kerberos.sh</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>manual</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Log current Kerberos info (klist)</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>98707407-02c4-3ded-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1068.8993535139562</x>
                        <y>-310.9641911048162</y>
                    </position>
                    <versionedComponentId>98707407-02c4-3ded-94c8-05b7355544f0</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Move the selected file from the "incoming" to the "processing" directory.
This prevents the file from being selected again by another node when another node becomes the primary node.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/bin/mv</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>/etl/dropzone/icn8/incoming/${filename};/etl/dropzone/icn8/processing/</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>true</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Move file to "processing" folder</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>9bb84a50-55c7-364a-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>4058.6174596013516</x>
                        <y>1990.2280104892752</y>
                    </position>
                    <versionedComponentId>9bb84a50-55c7-364a-97a8-ca1d42f469ec</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>log-level</key>
<value>
    <name>log-level</name>
</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>
    <name>log-prefix</name>
</value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>
    <name>log-message</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>log-level</key>
<value>info</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
                            </entry>
                            <entry>
<key>log-message</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.LogMessage</type>
                </processors>
                <processors>
                    <id>a53d0c16-f9b9-3d46-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1343.331326402617</x>
                        <y>1330.2518478167426</y>
                    </position>
                    <versionedComponentId>a53d0c16-f9b9-3d46-86b8-9f6fa406a525</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Check if directly inserting into the production table is possible for this loader/aggregator.
If so, time can be saved by replacing the "build staging partition" and "swap prod/staging partition" steps by a single direct insert step.</comments>
                        <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Routing Strategy</key>
<value>
    <name>Routing Strategy</name>
</value>
                            </entry>
                            <entry>
<key>yes</key>
<value>
    <name>yes</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Routing Strategy</key>
<value>Route to Property name</value>
                            </entry>
                            <entry>
<key>yes</key>
<value>${direct_insert_possible_yn:startsWith('Y')}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Direct insert possible?</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>unmatched</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>yes</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                </processors>
                <processors>
                    <id>acb1f3b0-a675-37b5-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>4010.6391881169766</x>
                        <y>1727.1491530674002</y>
                    </position>
                    <versionedComponentId>acb1f3b0-a675-37b5-adb9-d263f1f0fdf6</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>log-level</key>
<value>
    <name>log-level</name>
</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>
    <name>log-prefix</name>
</value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>
    <name>log-message</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>log-level</key>
<value>info</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
                            </entry>
                            <entry>
<key>log-message</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.LogMessage</type>
                </processors>
                <processors>
                    <id>acc6fcc9-e238-3537-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>2860.809265623331</x>
                        <y>1438.0261205178035</y>
                    </position>
                    <versionedComponentId>acc6fcc9-e238-3537-8ab3-497668f71838</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>If errors occured that prevented the current file from loading, move the file to the not_processed directy and allow the next file of the same type to start.
</comments>
                        <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/bin/mv</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>/etl/dropzone/icn8/processing/${filename};/etl/dropzone/icn8/not_processed/</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>true</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Move file to "not_processed" folder</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>b7179d88-c85a-3083-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1312.2855305308026</x>
                        <y>-525.691771099262</y>
                    </position>
                    <versionedComponentId>b7179d88-c85a-3083-96a5-954323c0843f</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Check for files that don't have the regular format "HDP_&lt;from_ts&gt;_&lt;to_ts&gt;_&lt;file_ts&gt;.[csv|trg]".
Example: .klarf files containing defectivity data</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Input Directory</key>
<value>
    <name>Input Directory</name>
</value>
                            </entry>
                            <entry>
<key>listing-strategy</key>
<value>
    <name>listing-strategy</name>
</value>
                            </entry>
                            <entry>
<key>Recurse Subdirectories</key>
<value>
    <name>Recurse Subdirectories</name>
</value>
                            </entry>
                            <entry>
<key>record-writer</key>
<value>
    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
    <name>record-writer</name>
</value>
                            </entry>
                            <entry>
<key>Input Directory Location</key>
<value>
    <name>Input Directory Location</name>
</value>
                            </entry>
                            <entry>
<key>File Filter</key>
<value>
    <name>File Filter</name>
</value>
                            </entry>
                            <entry>
<key>Path Filter</key>
<value>
    <name>Path Filter</name>
</value>
                            </entry>
                            <entry>
<key>Include File Attributes</key>
<value>
    <name>Include File Attributes</name>
</value>
                            </entry>
                            <entry>
<key>Minimum File Age</key>
<value>
    <name>Minimum File Age</name>
</value>
                            </entry>
                            <entry>
<key>Maximum File Age</key>
<value>
    <name>Maximum File Age</name>
</value>
                            </entry>
                            <entry>
<key>Minimum File Size</key>
<value>
    <name>Minimum File Size</name>
</value>
                            </entry>
                            <entry>
<key>Maximum File Size</key>
<value>
    <name>Maximum File Size</name>
</value>
                            </entry>
                            <entry>
<key>Ignore Hidden Files</key>
<value>
    <name>Ignore Hidden Files</name>
</value>
                            </entry>
                            <entry>
<key>target-system-timestamp-precision</key>
<value>
    <name>target-system-timestamp-precision</name>
</value>
                            </entry>
                            <entry>
<key>et-state-cache</key>
<value>
    <identifiesControllerService>org.apache.nifi.distributed.cache.client.DistributedMapCacheClient</identifiesControllerService>
    <name>et-state-cache</name>
</value>
                            </entry>
                            <entry>
<key>et-time-window</key>
<value>
    <name>et-time-window</name>
</value>
                            </entry>
                            <entry>
<key>et-initial-listing-target</key>
<value>
    <name>et-initial-listing-target</name>
</value>
                            </entry>
                            <entry>
<key>et-node-identifier</key>
<value>
    <name>et-node-identifier</name>
</value>
                            </entry>
                            <entry>
<key>track-performance</key>
<value>
    <name>track-performance</name>
</value>
                            </entry>
                            <entry>
<key>max-performance-metrics</key>
<value>
    <name>max-performance-metrics</name>
</value>
                            </entry>
                            <entry>
<key>max-operation-time</key>
<value>
    <name>max-operation-time</name>
</value>
                            </entry>
                            <entry>
<key>max-listing-time</key>
<value>
    <name>max-listing-time</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Input Directory</key>
<value>/etl/dropzone/icn8/incoming</value>
                            </entry>
                            <entry>
<key>listing-strategy</key>
<value>entities</value>
                            </entry>
                            <entry>
<key>Recurse Subdirectories</key>
<value>false</value>
                            </entry>
                            <entry>
<key>record-writer</key>
                            </entry>
                            <entry>
<key>Input Directory Location</key>
<value>Remote</value>
                            </entry>
                            <entry>
<key>File Filter</key>
<value>^.*[.](klarf)$</value>
                            </entry>
                            <entry>
<key>Path Filter</key>
                            </entry>
                            <entry>
<key>Include File Attributes</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Minimum File Age</key>
<value>0 sec</value>
                            </entry>
                            <entry>
<key>Maximum File Age</key>
                            </entry>
                            <entry>
<key>Minimum File Size</key>
<value>0 B</value>
                            </entry>
                            <entry>
<key>Maximum File Size</key>
                            </entry>
                            <entry>
<key>Ignore Hidden Files</key>
<value>true</value>
                            </entry>
                            <entry>
<key>target-system-timestamp-precision</key>
<value>auto-detect</value>
                            </entry>
                            <entry>
<key>et-state-cache</key>
<value>df80850f-4cfb-3fe0-0000-000000000000</value>
                            </entry>
                            <entry>
<key>et-time-window</key>
<value>3 hours</value>
                            </entry>
                            <entry>
<key>et-initial-listing-target</key>
<value>all</value>
                            </entry>
                            <entry>
<key>et-node-identifier</key>
<value>same</value>
                            </entry>
                            <entry>
<key>track-performance</key>
<value>false</value>
                            </entry>
                            <entry>
<key>max-performance-metrics</key>
<value>100000</value>
                            </entry>
                            <entry>
<key>max-operation-time</key>
<value>10 secs</value>
                            </entry>
                            <entry>
<key>max-listing-time</key>
<value>3 mins</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>10 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Get names of non-standard files</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style>
                        <entry>
                            <key>background-color</key>
                            <value>#ffffff</value>
                        </entry>
                    </style>
                    <type>org.apache.nifi.processors.standard.ListFile</type>
                </processors>
                <processors>
                    <id>da357b13-b37f-304b-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1298.872078382365</x>
                        <y>143.1163691605043</y>
                    </position>
                    <versionedComponentId>da357b13-b37f-304b-a8fc-f60dfb22b2ee</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Determine virtual filename components for files that don't have the regular 3 timestamps in their name.
* source: the original filename
* valid_from:  a very low default timestamp (string representation)
* valid_to: a very high default value (string representation)
* generated: the current date/time (string representation)
* generated_day: current day (YYYYMMDD)</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                            <entry>
<key>absolute.path</key>
<value>
    <name>absolute.path</name>
</value>
                            </entry>
                            <entry>
<key>generated</key>
<value>
    <name>generated</name>
</value>
                            </entry>
                            <entry>
<key>generated_day</key>
<value>
    <name>generated_day</name>
</value>
                            </entry>
                            <entry>
<key>source</key>
<value>
    <name>source</name>
</value>
                            </entry>
                            <entry>
<key>valid_from</key>
<value>
    <name>valid_from</name>
</value>
                            </entry>
                            <entry>
<key>valid_to</key>
<value>
    <name>valid_to</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                            <entry>
<key>absolute.path</key>
<value>${absolute.path:replace('icn8/incoming/', 'icn8/processing/')}</value>
                            </entry>
                            <entry>
<key>generated</key>
<value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                            <entry>
<key>generated_day</key>
<value>${now():toNumber():format('yyyyMMdd', 'CET')}</value>
                            </entry>
                            <entry>
<key>source</key>
<value>${filename}</value>
                            </entry>
                            <entry>
<key>valid_from</key>
<value>1900-01-01 00:00:00</value>
                            </entry>
                            <entry>
<key>valid_to</key>
<value>2100-01-01 00:00:00</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Filename breakdown (default timestamps)</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>e59ae295-95c0-356d-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1073.966092027617</x>
                        <y>-93.47571413394098</y>
                    </position>
                    <versionedComponentId>e59ae295-95c0-356d-a462-807e28b48e06</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Normal files with an extension .csv or .trg are assumed to have 3 timestamps in their name.
Other files are assumed to not have timestamps in their names, so these file names cannot be parsed.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Routing Strategy</key>
<value>
    <name>Routing Strategy</name>
</value>
                            </entry>
                            <entry>
<key>aggregator</key>
<value>
    <name>aggregator</name>
</value>
                            </entry>
                            <entry>
<key>loader</key>
<value>
    <name>loader</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Routing Strategy</key>
<value>Route to Property name</value>
                            </entry>
                            <entry>
<key>aggregator</key>
<value>${filename:endsWith('.trg')}</value>
                            </entry>
                            <entry>
<key>loader</key>
<value>${filename:endsWith('csv')}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Branch off timestampless files</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>aggregator</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>loader</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>unmatched</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                </processors>
                <processors>
                    <id>ebdacac6-3896-3922-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>4092.717784918833</x>
                        <y>837.957931387371</y>
                    </position>
                    <versionedComponentId>ebdacac6-3896-3922-964d-6ec979629c62</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>This processor can be used to manually notify the "Configure and wait lobby" that the next file of a certain logtype can start processing.
This should only be used when something went wrong, and the very first time a file of a certain logtype is loaded.

Valid values for the logtype are:
PRODUCTION_STEPS
METROLOGY_RAW
PCM_RAW
TEMPTATION_SUM
and any additional types defined in the "Configure and wait lobby".</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                            <entry>
<key>logtype</key>
<value>
    <name>logtype</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                            <entry>
<key>logtype</key>
<value>OQ_COMPONENT_DIAMOND</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>1 day</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Manual release of flow for next file/aggregation</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>ecb6ae79-a5a1-3a1f-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>457.36660510916454</x>
                        <y>-309.23628203696967</y>
                    </position>
                    <versionedComponentId>ecb6ae79-a5a1-3a1f-94b2-9b8fa68123f3</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>log-level</key>
<value>
    <name>log-level</name>
</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>
    <name>log-prefix</name>
</value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>
    <name>log-message</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>log-level</key>
<value>info</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
                            </entry>
                            <entry>
<key>log-message</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.LogMessage</type>
                </processors>
                <processors>
                    <id>f81dc0c6-31b9-3ac0-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>812.9409260386151</x>
                        <y>-523.2980027887152</y>
                    </position>
                    <versionedComponentId>f81dc0c6-31b9-3ac0-86c6-e0358db1942d</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Get the names of all new files in the incoming files folder.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Input Directory</key>
<value>
    <name>Input Directory</name>
</value>
                            </entry>
                            <entry>
<key>listing-strategy</key>
<value>
    <name>listing-strategy</name>
</value>
                            </entry>
                            <entry>
<key>Recurse Subdirectories</key>
<value>
    <name>Recurse Subdirectories</name>
</value>
                            </entry>
                            <entry>
<key>record-writer</key>
<value>
    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
    <name>record-writer</name>
</value>
                            </entry>
                            <entry>
<key>Input Directory Location</key>
<value>
    <name>Input Directory Location</name>
</value>
                            </entry>
                            <entry>
<key>File Filter</key>
<value>
    <name>File Filter</name>
</value>
                            </entry>
                            <entry>
<key>Path Filter</key>
<value>
    <name>Path Filter</name>
</value>
                            </entry>
                            <entry>
<key>Include File Attributes</key>
<value>
    <name>Include File Attributes</name>
</value>
                            </entry>
                            <entry>
<key>Minimum File Age</key>
<value>
    <name>Minimum File Age</name>
</value>
                            </entry>
                            <entry>
<key>Maximum File Age</key>
<value>
    <name>Maximum File Age</name>
</value>
                            </entry>
                            <entry>
<key>Minimum File Size</key>
<value>
    <name>Minimum File Size</name>
</value>
                            </entry>
                            <entry>
<key>Maximum File Size</key>
<value>
    <name>Maximum File Size</name>
</value>
                            </entry>
                            <entry>
<key>Ignore Hidden Files</key>
<value>
    <name>Ignore Hidden Files</name>
</value>
                            </entry>
                            <entry>
<key>target-system-timestamp-precision</key>
<value>
    <name>target-system-timestamp-precision</name>
</value>
                            </entry>
                            <entry>
<key>et-state-cache</key>
<value>
    <identifiesControllerService>org.apache.nifi.distributed.cache.client.DistributedMapCacheClient</identifiesControllerService>
    <name>et-state-cache</name>
</value>
                            </entry>
                            <entry>
<key>et-time-window</key>
<value>
    <name>et-time-window</name>
</value>
                            </entry>
                            <entry>
<key>et-initial-listing-target</key>
<value>
    <name>et-initial-listing-target</name>
</value>
                            </entry>
                            <entry>
<key>et-node-identifier</key>
<value>
    <name>et-node-identifier</name>
</value>
                            </entry>
                            <entry>
<key>track-performance</key>
<value>
    <name>track-performance</name>
</value>
                            </entry>
                            <entry>
<key>max-performance-metrics</key>
<value>
    <name>max-performance-metrics</name>
</value>
                            </entry>
                            <entry>
<key>max-operation-time</key>
<value>
    <name>max-operation-time</name>
</value>
                            </entry>
                            <entry>
<key>max-listing-time</key>
<value>
    <name>max-listing-time</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Input Directory</key>
<value>/etl/dropzone/icn8/incoming</value>
                            </entry>
                            <entry>
<key>listing-strategy</key>
<value>entities</value>
                            </entry>
                            <entry>
<key>Recurse Subdirectories</key>
<value>false</value>
                            </entry>
                            <entry>
<key>record-writer</key>
                            </entry>
                            <entry>
<key>Input Directory Location</key>
<value>Remote</value>
                            </entry>
                            <entry>
<key>File Filter</key>
<value>^HDP_.*[0-9]{14}_[0-9]{14}_([0-9]{14})\.*(csv|trg)$</value>
                            </entry>
                            <entry>
<key>Path Filter</key>
                            </entry>
                            <entry>
<key>Include File Attributes</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Minimum File Age</key>
<value>0 sec</value>
                            </entry>
                            <entry>
<key>Maximum File Age</key>
                            </entry>
                            <entry>
<key>Minimum File Size</key>
<value>0 B</value>
                            </entry>
                            <entry>
<key>Maximum File Size</key>
                            </entry>
                            <entry>
<key>Ignore Hidden Files</key>
<value>true</value>
                            </entry>
                            <entry>
<key>target-system-timestamp-precision</key>
<value>auto-detect</value>
                            </entry>
                            <entry>
<key>et-state-cache</key>
<value>df80850f-4cfb-3fe0-0000-000000000000</value>
                            </entry>
                            <entry>
<key>et-time-window</key>
<value>3 hours</value>
                            </entry>
                            <entry>
<key>et-initial-listing-target</key>
<value>all</value>
                            </entry>
                            <entry>
<key>et-node-identifier</key>
<value>same</value>
                            </entry>
                            <entry>
<key>track-performance</key>
<value>false</value>
                            </entry>
                            <entry>
<key>max-performance-metrics</key>
<value>100000</value>
                            </entry>
                            <entry>
<key>max-operation-time</key>
<value>10 secs</value>
                            </entry>
                            <entry>
<key>max-listing-time</key>
<value>3 mins</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>10 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Get names of incoming files</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style>
                        <entry>
                            <key>background-color</key>
                            <value>#ffffff</value>
                        </entry>
                    </style>
                    <type>org.apache.nifi.processors.standard.ListFile</type>
                </processors>
                <processors>
                    <id>fcc853df-8a72-3bf6-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>809.6143796014086</x>
                        <y>345.86441210489284</y>
                    </position>
                    <versionedComponentId>fcc853df-8a72-3bf6-b768-4a8dd1d31529</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Set the priority of the flowfile to 99999999999999 minus the valid_to timestamp of the flowfile.
When using a queue with PriorityAttributePrioritizer enabled, the queue will release the flowfile with the highest valid_to timestamp first.
This way, we can give flowfiles for recent time intervals precedence over historical (re)loads.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                            <entry>
<key>priority</key>
<value>
    <name>priority</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                            <entry>
<key>priority</key>
<value>${literal(99999999999999)
  :minus(${valid_to
           :replaceAll("-", "")
           :replaceAll(" ", "")
           :replaceAll(":", "")
          }
        )
 }</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Set flowfile priority</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>feafb69b-806a-3187-0000-000000000000</id>
                    <parentGroupId>1c102a05-5bbe-3bff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1039.061062730742</x>
                        <y>1053.109391762055</y>
                    </position>
                    <versionedComponentId>feafb69b-806a-3187-a29e-4ef2402f1bbc</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Decide whether this is a loader or a aggregator.
For each of these 2 types, processing is continued in a different way (for aggregators, we don't need to load the contents of a file into an external table)</comments>
                        <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Routing Strategy</key>
<value>
    <name>Routing Strategy</name>
</value>
                            </entry>
                            <entry>
<key>aggregator</key>
<value>
    <name>aggregator</name>
</value>
                            </entry>
                            <entry>
<key>alternative_load_script</key>
<value>
    <name>alternative_load_script</name>
</value>
                            </entry>
                            <entry>
<key>loader</key>
<value>
    <name>loader</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Routing Strategy</key>
<value>Route to Property name</value>
                            </entry>
                            <entry>
<key>aggregator</key>
<value>${filename:endsWith('.trg')
  :and(${alternative_load_script:isEmpty()})
 }</value>
                            </entry>
                            <entry>
<key>alternative_load_script</key>
<value>${alternative_load_script:isEmpty():not()}</value>
                            </entry>
                            <entry>
<key>loader</key>
<value>${filename:endsWith('csv')
  :and(${alternative_load_script:isEmpty()})
 }</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Split loaders and aggregators (1)</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>aggregator</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>alternative_load_script</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>loader</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>unmatched</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                </processors>
            </contents>
            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
            <name>ICN8 Track-out time based loading</name>
            <variables/>
        </processGroups>
        <processGroups>
            <id>de66d0ee-c6c0-3fc7-0000-000000000000</id>
            <parentGroupId>5e4b0144-00c8-3b03-0000-000000000000</parentGroupId>
            <position>
                <x>0.0</x>
                <y>424.0</y>
            </position>
            <versionedComponentId>de66d0ee-c6c0-3fc7-af3e-0247a149f831</versionedComponentId>
            <comments></comments>
            <contents>
                <connections>
                    <id>00414b3b-bf96-36a4-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>00414b3b-bf96-36a4-af43-a38f7fcf8e91</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>ca58ee30-42d7-3099-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>ca58ee30-42d7-3099-8c04-83f951cd1f80</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>f4b339bf-18f0-3af0-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>f4b339bf-18f0-3af0-8d6a-c24eeecaa61d</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>05ddc8cd-40ff-3c55-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>05ddc8cd-40ff-3c55-bb40-b8c7882bb305</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>c6ede933-b788-3df3-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>c6ede933-b788-3df3-969f-5c799374a572</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                    <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>48d2333b-1bba-3b0a-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>48d2333b-1bba-3b0a-953d-6f57efaec9d5</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>05f94c20-2351-357f-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>05f94c20-2351-357f-a484-ec8645ada2e8</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>bd1ebdcb-81e2-334d-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>bd1ebdcb-81e2-334d-a0eb-d26b7eeee90f</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>2448906a-129b-3bef-0000-000000000000</groupId>
                        <id>356cb214-3ac3-3f3a-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>356cb214-3ac3-3f3a-bf89-fe4c91ff83d3</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>0a35f18e-6843-31db-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>0a35f18e-6843-31db-9fa4-81e6dd9feeeb</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>186.19525146484375</x>
                        <y>135.35678100585938</y>
                    </bends>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>1b8fa420-cb53-3a7b-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>1b8fa420-cb53-3a7b-b060-dea3353ac4a0</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>8f96f053-5ab8-3354-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>8f96f053-5ab8-3354-aa25-39047c6af770</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>0df9dec3-ec24-3d42-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>0df9dec3-ec24-3d42-870c-844ef72829c5</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>200.58483695983887</x>
                        <y>-226.22013473510742</y>
                    </bends>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>3787d15d-0e5e-3f38-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3787d15d-0e5e-3f38-9e0e-654e8c5b8c3e</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>1723d2c0-b673-3db9-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>1723d2c0-b673-3db9-85a3-5fb35f2d0c94</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>1c47c56e-0a90-35e8-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>1c47c56e-0a90-35e8-8896-5dd158856cc4</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>1b8fa420-cb53-3a7b-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>1b8fa420-cb53-3a7b-b060-dea3353ac4a0</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>b98a564b-38f7-3752-0000-000000000000</id>
                        <type>FUNNEL</type>
                        <versionedComponentId>b98a564b-38f7-3752-9abf-b0c2ae7801ba</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>204f5caa-3779-395c-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>204f5caa-3779-395c-acc7-b4c1f6807817</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>4ef7f0ba-4c2f-3501-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>4ef7f0ba-4c2f-3501-90d3-bc2a2754b3eb</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>f3c9c1e2-71f5-3094-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>f3c9c1e2-71f5-3094-b746-22d427d1e4f8</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>25d3dd8c-2bd6-3754-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>25d3dd8c-2bd6-3754-8075-70d0e82a30c5</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>d097da0c-9e67-3f94-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>d097da0c-9e67-3f94-bb67-11e310659a24</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <prioritizers>org.apache.nifi.prioritizer.PriorityAttributePrioritizer</prioritizers>
                    <prioritizers>org.apache.nifi.prioritizer.NewestFlowFileFirstPrioritizer</prioritizers>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>72b3d5d0-5998-34ae-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>72b3d5d0-5998-34ae-b051-bb391cc1840f</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>324890f3-a98b-32bb-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>324890f3-a98b-32bb-910b-0992024de76c</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>f3c9c1e2-71f5-3094-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>f3c9c1e2-71f5-3094-b746-22d427d1e4f8</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>output stream</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>a8a421a4-c2b2-3238-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>a8a421a4-c2b2-3238-86e7-33e2d2454820</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>33af15d6-cef7-3d6c-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>33af15d6-cef7-3d6c-bef4-aa0b94dd519d</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>736.0</x>
                        <y>992.0</y>
                    </bends>
                    <bends>
                        <x>56.0</x>
                        <y>1024.0</y>
                    </bends>
                    <destination>
                        <groupId>2448906a-129b-3bef-0000-000000000000</groupId>
                        <id>50f4f9d7-c179-3080-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>50f4f9d7-c179-3080-877d-14159a464d71</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>cbdf3759-051e-3150-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>cbdf3759-051e-3150-93af-23d71c9c2a39</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>38078201-a12a-30d9-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>38078201-a12a-30d9-a442-b14b3f001e5a</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>1e44c21b-198e-3a72-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>1e44c21b-198e-3a72-b361-398e30804932</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                    <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>9ffcc588-3f0b-3216-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>9ffcc588-3f0b-3216-9a29-0c406e3bbe30</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>49071c15-07e0-3819-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>49071c15-07e0-3819-a109-f6b913e680e9</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>7a4be2d7-8d62-3ed0-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>7a4be2d7-8d62-3ed0-bc17-9f97b6e8aa46</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>1e44c21b-198e-3a72-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>1e44c21b-198e-3a72-b361-398e30804932</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>4d3dd675-bb3b-305f-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>4d3dd675-bb3b-305f-a8fb-ff9cf4a16cda</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>1054.5574340820312</x>
                        <y>423.23638916015625</y>
                    </bends>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>72b3d5d0-5998-34ae-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>72b3d5d0-5998-34ae-b051-bb391cc1840f</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>b308718e-e69b-3b39-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>b308718e-e69b-3b39-a0e9-6ccbad06bb94</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>590ae50d-4fe5-363b-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>590ae50d-4fe5-363b-a3aa-fe5786969971</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>f373fd78-4cf6-3416-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>f373fd78-4cf6-3416-ba7f-07332404f305</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>failure</selectedRelationships>
                    <selectedRelationships>reject</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>f3c9c1e2-71f5-3094-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>f3c9c1e2-71f5-3094-b746-22d427d1e4f8</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>59a5c30d-69d8-3b0d-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>59a5c30d-69d8-3b0d-a7f8-0404bb3fdfc6</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>8f96f053-5ab8-3354-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>8f96f053-5ab8-3354-aa25-39047c6af770</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>b1dfce3f-b374-3b54-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>b1dfce3f-b374-3b54-a24d-b45482d3c4ab</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>59e73f15-7609-3cca-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>59e73f15-7609-3cca-9bd1-c97aa95d7426</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>a8a421a4-c2b2-3238-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>a8a421a4-c2b2-3238-86e7-33e2d2454820</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>unmatched</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>d097da0c-9e67-3f94-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>d097da0c-9e67-3f94-bb67-11e310659a24</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>5a77cd5a-5ac2-35c4-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>5a77cd5a-5ac2-35c4-90ac-f12e625a6f65</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>49ecc230-ff21-3624-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>49ecc230-ff21-3624-b7e1-73e27ecb385b</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                    <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>be03753c-2801-382e-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>be03753c-2801-382e-92f5-c624f74cd48a</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>871f1398-245a-367d-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>871f1398-245a-367d-8684-0b64e8b49ec5</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>f3c9c1e2-71f5-3094-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>f3c9c1e2-71f5-3094-b746-22d427d1e4f8</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>output stream</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>cbdf3759-051e-3150-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>cbdf3759-051e-3150-93af-23d71c9c2a39</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>96dcc4e7-c7ec-38f9-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>96dcc4e7-c7ec-38f9-8729-423a507b0ec1</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>192.7461223602295</x>
                        <y>71.65009307861328</y>
                    </bends>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>b98a564b-38f7-3752-0000-000000000000</id>
                        <type>FUNNEL</type>
                        <versionedComponentId>b98a564b-38f7-3752-9abf-b0c2ae7801ba</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>a8195065-2ec7-3010-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>a8195065-2ec7-3010-b36c-4b93bf19c0c9</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>9927d586-1458-3dc2-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>9927d586-1458-3dc2-a569-d72e8d43d6a3</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>7e8f47b7-b418-3a7d-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>7e8f47b7-b418-3a7d-8378-568eeeb3156a</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>49ecc230-ff21-3624-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>49ecc230-ff21-3624-b7e1-73e27ecb385b</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>9bd99cd1-08cb-399a-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>9bd99cd1-08cb-399a-9dda-8cea951612a6</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>189.61065483093262</x>
                        <y>-88.25918197631836</y>
                    </bends>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>b98a564b-38f7-3752-0000-000000000000</id>
                        <type>FUNNEL</type>
                        <versionedComponentId>b98a564b-38f7-3752-9abf-b0c2ae7801ba</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>e26a3dfd-031e-316f-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>e26a3dfd-031e-316f-a8ea-24416fa00de3</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>9d6f7e3a-e754-3be7-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>9d6f7e3a-e754-3be7-b0cb-a79385ea65d4</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>b1dfce3f-b374-3b54-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>b1dfce3f-b374-3b54-a24d-b45482d3c4ab</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>output stream</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>bad1b892-4d95-3bf6-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>bad1b892-4d95-3bf6-8130-0b2060cceda0</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>b8eb5e9e-58e1-3485-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>b8eb5e9e-58e1-3485-86a6-060cc7b8801d</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>cbdf3759-051e-3150-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>cbdf3759-051e-3150-93af-23d71c9c2a39</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>yes</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>d097da0c-9e67-3f94-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>d097da0c-9e67-3f94-bb67-11e310659a24</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>b98136bc-476c-35f3-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>b98136bc-476c-35f3-ba82-4ef00e710b15</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>88.0</x>
                        <y>704.0</y>
                    </bends>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>d097da0c-9e67-3f94-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>d097da0c-9e67-3f94-bb67-11e310659a24</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>0</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>2448906a-129b-3bef-0000-000000000000</groupId>
                        <id>25403210-7320-38dd-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                        <versionedComponentId>25403210-7320-38dd-953f-c90581d0a23c</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>b986cccf-78f4-34ed-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>b986cccf-78f4-34ed-bd01-4a4f317bb52e</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>bad1b892-4d95-3bf6-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>bad1b892-4d95-3bf6-8130-0b2060cceda0</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>94ea088c-f168-36f1-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>94ea088c-f168-36f1-b30d-beb722b91df9</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>b9fa3d1e-7e15-3396-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>b9fa3d1e-7e15-3396-a89a-0cf8ee99138f</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>b98a564b-38f7-3752-0000-000000000000</id>
                        <type>FUNNEL</type>
                        <versionedComponentId>b98a564b-38f7-3752-9abf-b0c2ae7801ba</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <selectedRelationships>output stream</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>3787d15d-0e5e-3f38-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3787d15d-0e5e-3f38-9e0e-654e8c5b8c3e</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>bb48e3de-6549-3926-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>bb48e3de-6549-3926-8c4d-972ff740a975</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>56.0</x>
                        <y>912.0</y>
                    </bends>
                    <destination>
                        <groupId>2448906a-129b-3bef-0000-000000000000</groupId>
                        <id>50f4f9d7-c179-3080-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                        <versionedComponentId>50f4f9d7-c179-3080-877d-14159a464d71</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>a8a421a4-c2b2-3238-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>a8a421a4-c2b2-3238-86e7-33e2d2454820</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>bbee05d8-0797-39d2-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>bbee05d8-0797-39d2-8522-a2d9195595d2</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>72b3d5d0-5998-34ae-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>72b3d5d0-5998-34ae-b051-bb391cc1840f</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>1b8fa420-cb53-3a7b-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>1b8fa420-cb53-3a7b-b060-dea3353ac4a0</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>be8c2378-d91e-3e6f-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>be8c2378-d91e-3e6f-b0b1-754577410cb9</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>9b57a763-357d-3df9-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>9b57a763-357d-3df9-ad17-b6333d853a1a</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>9eb9be7d-fe66-3918-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>9eb9be7d-fe66-3918-8c89-3dd0d4b27a66</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>c0ee0acb-1cfa-3975-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>c0ee0acb-1cfa-3975-ad25-7aeafbcf25d0</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>bb08a954-6ca2-3ed3-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>bb08a954-6ca2-3ed3-8357-d169efd9ae85</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>3787d15d-0e5e-3f38-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3787d15d-0e5e-3f38-9e0e-654e8c5b8c3e</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>c4bf9f61-d745-360a-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>c4bf9f61-d745-360a-9afb-980004d5e4f8</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>9eb9be7d-fe66-3918-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>9eb9be7d-fe66-3918-8c89-3dd0d4b27a66</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_INACTIVE</loadBalanceStatus>
                    <loadBalanceStrategy>SINGLE_NODE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>8b3c6c33-b1ad-30ed-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>8b3c6c33-b1ad-30ed-8527-f92af0b4e7c8</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>d9c37d50-d3ec-337d-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>d9c37d50-d3ec-337d-9e85-b6d0b269889d</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>202.27955627441406</x>
                        <y>-381.7184753417969</y>
                    </bends>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>3787d15d-0e5e-3f38-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>3787d15d-0e5e-3f38-9e0e-654e8c5b8c3e</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>e6a59bdb-5ba8-3dc0-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>e6a59bdb-5ba8-3dc0-8cf6-ecceb3fe0414</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>de4e9315-5f90-3191-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>de4e9315-5f90-3191-80c3-2eb9d5daf10b</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <bends>
                        <x>197.449369430542</x>
                        <y>219.01746368408203</y>
                    </bends>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>1b8fa420-cb53-3a7b-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>1b8fa420-cb53-3a7b-b060-dea3353ac4a0</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>04a3ab64-eee7-3baf-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>04a3ab64-eee7-3baf-9db3-7463afe68410</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>e1be5b55-efac-33f9-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>e1be5b55-efac-33f9-8aa6-c59d03d0b468</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>b308718e-e69b-3b39-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>b308718e-e69b-3b39-a0e9-6ccbad06bb94</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>4f3f19d5-410c-3b4b-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>4f3f19d5-410c-3b4b-a069-ac634bb14fed</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>e62fd070-2dcf-3b86-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>e62fd070-2dcf-3b86-924a-24809a8ce99c</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>b308718e-e69b-3b39-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>b308718e-e69b-3b39-a0e9-6ccbad06bb94</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>8915c50b-d290-338c-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>8915c50b-d290-338c-9b1b-e1c642c0813c</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>f2cca13f-6e40-3c21-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>f2cca13f-6e40-3c21-8642-e6ea161f5f39</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>f4b339bf-18f0-3af0-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>f4b339bf-18f0-3af0-8d6a-c24eeecaa61d</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>ec2e9373-e7a4-3149-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>ec2e9373-e7a4-3149-9aeb-8ca93d124672</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>f74ce6be-f451-3d42-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <versionedComponentId>f74ce6be-f451-3d42-bb7b-d935a9d396a6</versionedComponentId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>e8a65b60-73e6-334e-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>e8a65b60-73e6-334e-83d9-39eed878c4ca</versionedComponentId>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>nonzero status</selectedRelationships>
                    <source>
                        <groupId>de66d0ee-c6c0-3fc7-0000-000000000000</groupId>
                        <id>c6ede933-b788-3df3-0000-000000000000</id>
                        <type>PROCESSOR</type>
                        <versionedComponentId>c6ede933-b788-3df3-969f-5c799374a572</versionedComponentId>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <funnels>
                    <id>b98a564b-38f7-3752-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>565.8677955170601</x>
                        <y>-34.956094319104295</y>
                    </position>
                    <versionedComponentId>b98a564b-38f7-3752-9abf-b0c2ae7801ba</versionedComponentId>
                </funnels>
                <labels>
                    <id>448605ce-f22c-3d26-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-744.8119095978637</x>
                        <y>-533.2430674794406</y>
                    </position>
                    <versionedComponentId>448605ce-f22c-3d26-938d-66d6c959d250</versionedComponentId>
                    <height>872.0</height>
                    <label>Cross check requests from BRS</label>
                    <style>
                        <entry>
                            <key>font-size</key>
                            <value>12px</value>
                        </entry>
                    </style>
                    <width>408.0</width>
                    <zIndex>0</zIndex>
                </labels>
                <labels>
                    <id>471c0df5-0a4d-3ad5-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-320.0</x>
                        <y>-536.0</y>
                    </position>
                    <versionedComponentId>471c0df5-0a4d-3ad5-a270-86ce6a305e4f</versionedComponentId>
                    <height>872.0</height>
                    <label>Cross-check feedback</label>
                    <style>
                        <entry>
                            <key>font-size</key>
                            <value>12px</value>
                        </entry>
                    </style>
                    <width>1144.0</width>
                    <zIndex>0</zIndex>
                </labels>
                <labels>
                    <id>5b8d15df-af18-3033-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>839.4321660490846</x>
                        <y>-310.96200750643357</y>
                    </position>
                    <versionedComponentId>5b8d15df-af18-3033-924d-c1df1e055c87</versionedComponentId>
                    <height>648.0</height>
                    <label>Single Wafer Scrap feedback</label>
                    <style>
                        <entry>
                            <key>background-color</key>
                            <value>#d6fdff</value>
                        </entry>
                        <entry>
                            <key>font-size</key>
                            <value>12px</value>
                        </entry>
                    </style>
                    <width>856.0</width>
                    <zIndex>0</zIndex>
                </labels>
                <processGroups>
                    <id>2448906a-129b-3bef-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-512.0</x>
                        <y>824.0</y>
                    </position>
                    <versionedComponentId>2448906a-129b-3bef-9eaa-2f5286e5ef47</versionedComponentId>
                    <comments>Whenever the Ingest staging error handling changes, please replace this processor group with a new copy!
NOTE: Some log texts will need to be adapted!</comments>
                    <contents>
                        <connections>
                            <id>010f3603-c315-32ea-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>010f3603-c315-32ea-9367-f4f7445beb6c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>2e8095a2-0981-3c4f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2e8095a2-0981-3c4f-9946-e5a795e49bfd</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>1eefaf38-84d1-39ad-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1eefaf38-84d1-39ad-8c65-ad9a9e8bde9b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0586babb-5a1e-377c-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>0586babb-5a1e-377c-8ac6-d5f78e046c4d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>a7b97bdb-67dd-3eac-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a7b97bdb-67dd-3eac-bccf-24f4b997ed10</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>memory_oversubscribed</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>3c642b67-e91c-3f5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3c642b67-e91c-3f5b-b262-06426d98573e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>07a9a46b-1df1-3415-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>07a9a46b-1df1-3415-9a87-38b43cf44af9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>a083e92d-ca5f-342d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a083e92d-ca5f-342d-826f-185bc3d4e52b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>b34589bb-a40b-3fba-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b34589bb-a40b-3fba-87f9-c8a95c3cd436</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0f4cfd8b-d116-3f10-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>0f4cfd8b-d116-3f10-a989-d456c696dd1a</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>7c2027bb-b9aa-3ca8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7c2027bb-b9aa-3ca8-a80a-592d820d3528</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>2e8095a2-0981-3c4f-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>2e8095a2-0981-3c4f-9946-e5a795e49bfd</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>134dcdd1-84fe-39bc-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>134dcdd1-84fe-39bc-a47a-bc5125e473af</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>25403210-7320-38dd-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>25403210-7320-38dd-953f-c90581d0a23c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>42146653-6f8d-3644-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>42146653-6f8d-3644-b506-56a99c858202</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>23e05f99-6d67-3b17-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>23e05f99-6d67-3b17-9846-07d964aa22d3</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>42146653-6f8d-3644-0000-000000000000</id>
<type>FUNNEL</type>
<versionedComponentId>42146653-6f8d-3644-b506-56a99c858202</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>failure</selectedRelationships>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>116bc14b-7b80-38f8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>116bc14b-7b80-38f8-81a4-41df71342665</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>289a8d5c-0325-399c-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>289a8d5c-0325-399c-b889-a65331301504</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>25403210-7320-38dd-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>25403210-7320-38dd-953f-c90581d0a23c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>e708f659-5d58-3fd1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e708f659-5d58-3fd1-b1de-9c74e6957b19</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>366c88f2-cc88-3b9f-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>366c88f2-cc88-3b9f-a3f4-a81fd983f3a1</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>2080.51904296875</x>
<y>1979.8475341796875</y>
                            </bends>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>7c2027bb-b9aa-3ca8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7c2027bb-b9aa-3ca8-a80a-592d820d3528</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>failure</selectedRelationships>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>41babb0f-5a30-3993-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>41babb0f-5a30-3993-83aa-1c58302b62ba</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3768cc5d-d4e8-32ca-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>3768cc5d-d4e8-32ca-aaed-905465d0fb05</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>116bc14b-7b80-38f8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>116bc14b-7b80-38f8-81a4-41df71342665</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>a7b97bdb-67dd-3eac-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a7b97bdb-67dd-3eac-bccf-24f4b997ed10</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3fe2f9ef-6eb3-3882-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>3fe2f9ef-6eb3-3882-bb2b-7d84a0dd2acb</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>356cb214-3ac3-3f3a-0000-000000000000</id>
<type>OUTPUT_PORT</type>
<versionedComponentId>356cb214-3ac3-3f3a-bf89-fe4c91ff83d3</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>752f4531-9873-3e4a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>752f4531-9873-3e4a-babd-194e5ea45e6a</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>58a7cdc2-1b2b-3ed7-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>58a7cdc2-1b2b-3ed7-884b-41b943eedf7c</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>41babb0f-5a30-3993-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>41babb0f-5a30-3993-83aa-1c58302b62ba</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>84535216-a7f1-32cd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>84535216-a7f1-32cd-9b3a-406ef51e80fe</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5a7431c6-c080-3339-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>5a7431c6-c080-3339-a230-38579f0ed829</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>1eefaf38-84d1-39ad-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>1eefaf38-84d1-39ad-8c65-ad9a9e8bde9b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>memory_limit_exceeded</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>3c642b67-e91c-3f5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3c642b67-e91c-3f5b-b262-06426d98573e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>6d0723e3-0f48-3947-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>6d0723e3-0f48-3947-81e3-7ec4c6f1c367</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>b34589bb-a40b-3fba-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>b34589bb-a40b-3fba-87f9-c8a95c3cd436</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>kerberos_ticket_expired</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>3c642b67-e91c-3f5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3c642b67-e91c-3f5b-b262-06426d98573e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>71d50b6f-ef44-35e9-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>71d50b6f-ef44-35e9-be1e-c7b29c255400</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-286.79888916015625</x>
<y>791.531005859375</y>
                            </bends>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>f610226d-f304-304a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f610226d-f304-304a-83db-5af50134628e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>query_admission_timeout</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>3c642b67-e91c-3f5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3c642b67-e91c-3f5b-b262-06426d98573e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>73529a3e-aa87-39b1-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>73529a3e-aa87-39b1-b7d5-5a9254d2bc56</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>116bc14b-7b80-38f8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>116bc14b-7b80-38f8-81a4-41df71342665</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>f610226d-f304-304a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>f610226d-f304-304a-83db-5af50134628e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>79dc30f9-9582-3cfd-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>79dc30f9-9582-3cfd-865b-7a038c0118fa</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>e6a53dd2-28aa-3b9e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e6a53dd2-28aa-3b9e-9c34-f5c279e34737</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>126aae1d-a6f8-3820-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>126aae1d-a6f8-3820-9e22-5f32be1dec04</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>79e90a66-4543-314a-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>79e90a66-4543-314a-aa40-c97c9fce5331</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>1561.2469482421875</x>
<y>851.7756958007812</y>
                            </bends>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>337c9eee-9cce-30f2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>337c9eee-9cce-30f2-821e-cfeea7dd2d5f</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>hdfs_read_fail</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>3c642b67-e91c-3f5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3c642b67-e91c-3f5b-b262-06426d98573e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7a340e82-c1d8-3b3c-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>7a340e82-c1d8-3b3c-89ec-273cd63c2563</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>126aae1d-a6f8-3820-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>126aae1d-a6f8-3820-9e22-5f32be1dec04</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>337c9eee-9cce-30f2-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>337c9eee-9cce-30f2-821e-cfeea7dd2d5f</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>7c966035-2849-3314-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>7c966035-2849-3314-abe0-9d2dc948f8db</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>7a3269e4-1d39-3532-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7a3269e4-1d39-3532-9b86-20c9047a916b</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>e6a53dd2-28aa-3b9e-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e6a53dd2-28aa-3b9e-9c34-f5c279e34737</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>88aec4fb-3c07-3cf6-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>88aec4fb-3c07-3cf6-8bb5-5490f50e6040</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>116bc14b-7b80-38f8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>116bc14b-7b80-38f8-81a4-41df71342665</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>5993ad82-d8ed-3538-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5993ad82-d8ed-3538-8cbc-7c7420a5e86d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9c9a3088-d914-3763-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>9c9a3088-d914-3763-aca6-62da9295b01f</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>7c2027bb-b9aa-3ca8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7c2027bb-b9aa-3ca8-a80a-592d820d3528</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>7a3269e4-1d39-3532-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7a3269e4-1d39-3532-9b86-20c9047a916b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9dd5edb3-af42-3784-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>9dd5edb3-af42-3784-8e8b-d51737c0112d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>e708f659-5d58-3fd1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e708f659-5d58-3fd1-b1de-9c74e6957b19</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>7c2027bb-b9aa-3ca8-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>7c2027bb-b9aa-3ca8-a80a-592d820d3528</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>aa544550-b9ba-3740-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>aa544550-b9ba-3740-9535-1f4eb9f7a779</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>752f4531-9873-3e4a-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>752f4531-9873-3e4a-babd-194e5ea45e6a</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>toomanytries</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>e708f659-5d58-3fd1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e708f659-5d58-3fd1-b1de-9c74e6957b19</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c576d40d-3ac5-37e8-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>c576d40d-3ac5-37e8-90a8-0cc2f59bd52d</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>658440ce-47d1-3cd5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>658440ce-47d1-3cd5-8645-a306453e460c</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>50f4f9d7-c179-3080-0000-000000000000</id>
<type>INPUT_PORT</type>
<versionedComponentId>50f4f9d7-c179-3080-877d-14159a464d71</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d1a98c97-aa9f-390b-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>d1a98c97-aa9f-390b-85e4-29c4381f6523</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>3c642b67-e91c-3f5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3c642b67-e91c-3f5b-b262-06426d98573e</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>658440ce-47d1-3cd5-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>658440ce-47d1-3cd5-8645-a306453e460c</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e52ea8eb-ef59-3796-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>e52ea8eb-ef59-3796-8cd6-5a868ffc4e29</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>5993ad82-d8ed-3538-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>5993ad82-d8ed-3538-8cbc-7c7420a5e86d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unreachable_impala_deamon</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>3c642b67-e91c-3f5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3c642b67-e91c-3f5b-b262-06426d98573e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ea4afded-a417-3b8a-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>ea4afded-a417-3b8a-b907-c0aaf139bb25</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>ed719797-c676-3c56-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ed719797-c676-3c56-be11-fb965583374d</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nonzero status</selectedRelationships>
                            <selectedRelationships>output stream</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>a083e92d-ca5f-342d-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>a083e92d-ca5f-342d-826f-185bc3d4e52b</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f7eef29d-ff39-35bb-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>f7eef29d-ff39-35bb-9360-0ff63b76d5c9</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>2024.3818359375</x>
<y>814.560791015625</y>
                            </bends>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>84535216-a7f1-32cd-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>84535216-a7f1-32cd-9b3a-406ef51e80fe</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>3c642b67-e91c-3f5b-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>3c642b67-e91c-3f5b-b262-06426d98573e</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>fc25f654-4945-331f-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <versionedComponentId>fc25f654-4945-331f-858c-19c55a218871</versionedComponentId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>e708f659-5d58-3fd1-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>e708f659-5d58-3fd1-b1de-9c74e6957b19</versionedComponentId>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>failure</selectedRelationships>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>2448906a-129b-3bef-0000-000000000000</groupId>
<id>ed719797-c676-3c56-0000-000000000000</id>
<type>PROCESSOR</type>
<versionedComponentId>ed719797-c676-3c56-be11-fb965583374d</versionedComponentId>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <funnels>
                            <id>42146653-6f8d-3644-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>85.47195421265053</x>
<y>2378.472285085842</y>
                            </position>
                            <versionedComponentId>42146653-6f8d-3644-b506-56a99c858202</versionedComponentId>
                        </funnels>
                        <inputPorts>
                            <id>50f4f9d7-c179-3080-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>506.5150030857385</x>
<y>245.97550510022643</y>
                            </position>
                            <versionedComponentId>50f4f9d7-c179-3080-877d-14159a464d71</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>input</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <outputPorts>
                            <id>25403210-7320-38dd-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>545.360095859176</x>
<y>2371.051219211555</y>
                            </position>
                            <versionedComponentId>25403210-7320-38dd-953f-c90581d0a23c</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>retry</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <outputPorts>
                            <id>356cb214-3ac3-3f3a-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>1827.9156073337854</x>
<y>2150.3485214576485</y>
                            </position>
                            <versionedComponentId>356cb214-3ac3-3f3a-bf89-fe4c91ff83d3</versionedComponentId>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>error</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processors>
                            <id>116bc14b-7b80-38f8-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>-271.23224214375796</x>
<y>1339.8025263870668</y>
                            </position>
                            <versionedComponentId>116bc14b-7b80-38f8-81a4-41df71342665</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait for 5 minutes, and then retry without increasing the number of retries (when Impala is too busy, we want to keep trying until the query succeeds).</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>300 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>5 minute delay</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>126aae1d-a6f8-3820-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>1428.2550740085953</x>
<y>1144.8047506928015</y>
                            </position>
                            <versionedComponentId>126aae1d-a6f8-3820-9e22-5f32be1dec04</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>When we get here, processing has failed because of a parquet file that can no longer be found. This can be solved by executing a refresh statement for the failing table partition.
"
From the error text, which looks like this:
ERROR: Disk I/O error: Failed to open HDFS file hdfs://HDFS-PROD-HA-Service1/user/hive/warehouse/mfg_icn8/mfg_icn8_apps/nifi_base_wafer_production_steps/p_from_trackout_cet_ts=2021-01-27/p_to_trackout_cet_ts=2021-01-28/p_loh_suffix=__HIV
E_DEFAULT_PARTITION__/5b4dcd12481d1596-e70d73170000004d_658979915_data.0.parq
Error(2): No such file or directory

we derive the appropriate refresh statement, that looks like this:
refresh mfg_icn8_apps.nifi_base_wafer_production_steps partition (p_from_trackout_cet_ts='2021-01-27', p_to_trackout_cet_ts='2021-01-28', p_loh_suffix='');
</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>add_partition_statement</key>
        <value>
            <name>add_partition_statement</name>
        </value>
    </entry>
    <entry>
        <key>drop_partition_statement</key>
        <value>
            <name>drop_partition_statement</name>
        </value>
    </entry>
    <entry>
        <key>refresh_statement</key>
        <value>
            <name>refresh_statement</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>add_partition_statement</key>
        <value>${execution.error
  :substringAfter  ("/user/hive/warehouse/mfg_icn8/")
  :substringBefore (".parq"                         )
  :replaceAll      ("\R"                        , ""                )
  :replaceFirst    ("/"                         , "."               )
  :replaceFirst    ("/[^/]*$"                   , ""                )
  :replaceFirst    ("/"                         , " add partition (")
  :replaceAll      ("/"                         , "', "             )
  :replaceAll      ("="                         , "='"              )
  :replaceAll      ("__HIVE_DEFAULT_PARTITION__", ""                )
  :replaceAll      ("%3A"                       , ":"               )
  :prepend         ("alter table ")
  :append          ("');")
 }</value>
    </entry>
    <entry>
        <key>drop_partition_statement</key>
        <value>${execution.error
  :substringAfter  ("/user/hive/warehouse/mfg_icn8/")
  :substringBefore (".parq"                         )
  :replaceAll      ("\R"                        , ""                           )
  :replaceFirst    ("/"                         , "."                          )
  :replaceFirst    ("/[^/]*$"                   , ""                           )
  :replaceFirst    ("/"                         , " drop if exists partition (")
  :replaceAll      ("/"                         , "', "                        )
  :replaceAll      ("="                         , "='"                         )
  :replaceAll      ("__HIVE_DEFAULT_PARTITION__", ""                           )
  :replaceAll      ("%3A"                       , ":"                          )
  :prepend         ("alter table ")
  :append          ("');")
 }</value>
    </entry>
    <entry>
        <key>refresh_statement</key>
        <value>${execution.error
  :substringAfter  ("/user/hive/warehouse/mfg_icn8/")
  :substringBefore (".parq"                         )
  :replaceAll      ("\R"                        , ""            )
  :replaceFirst    ("/"                         , "."           )
  :replaceFirst    ("/[^/]*$"                   , ""            )
  :replaceFirst    ("/"                         , " partition (")
  :replaceAll      ("/"                         , "', "         )
  :replaceAll      ("="                         , "='"          )
  :replaceAll      ("__HIVE_DEFAULT_PARTITION__", ""            )
  :replaceAll      ("%3A"                       , ":"           )
  :prepend         ("refresh ")
  :append          ("');")
 }</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Derive refresh statement</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>1eefaf38-84d1-39ad-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>965.0395628935989</x>
<y>905.1749629105043</y>
                            </position>
                            <versionedComponentId>1eefaf38-84d1-39ad-8c65-ad9a9e8bde9b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Cause: Impala memory limit exceeded while gathering stats for period ${start_ts} - ${end_ts}.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Memory Limit Exceeded</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>2e8095a2-0981-3c4f-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>964.8633503550213</x>
<y>1123.332357319684</y>
                            </position>
                            <versionedComponentId>2e8095a2-0981-3c4f-9946-e5a795e49bfd</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the memory limit for this query by the pre-defined increment.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>
            <name>impala_mem_limit</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>impala_mem_limit</key>
        <value>${impala_mem_limit:plus(${impala_mem_limit_increment})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase mem_limit</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>337c9eee-9cce-30f2-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>1418.265148831099</x>
<y>912.2643794144105</y>
                            </position>
                            <versionedComponentId>337c9eee-9cce-30f2-821e-cfeea7dd2d5f</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Cause: HDFS read fail while gathering stats for period ${start_ts} - ${end_ts}.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log HDFS read fail</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>3c642b67-e91c-3f5b-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>460.7847421478218</x>
<y>656.6819825027599</y>
                            </position>
                            <versionedComponentId>3c642b67-e91c-3f5b-b262-06426d98573e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Derive the error type from the execution.error attribute.
Depending on the data type found, take action.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>hdfs_read_fail</key>
        <value>
            <name>hdfs_read_fail</name>
        </value>
    </entry>
    <entry>
        <key>kerberos_ticket_expired</key>
        <value>
            <name>kerberos_ticket_expired</name>
        </value>
    </entry>
    <entry>
        <key>memory_limit_exceeded</key>
        <value>
            <name>memory_limit_exceeded</name>
        </value>
    </entry>
    <entry>
        <key>memory_oversubscribed</key>
        <value>
            <name>memory_oversubscribed</name>
        </value>
    </entry>
    <entry>
        <key>query_admission_timeout</key>
        <value>
            <name>query_admission_timeout</name>
        </value>
    </entry>
    <entry>
        <key>unreachable_impala_deamon</key>
        <value>
            <name>unreachable_impala_deamon</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>hdfs_read_fail</key>
        <value>${execution.error:toLower():contains('failed to open hdfs file')}</value>
    </entry>
    <entry>
        <key>kerberos_ticket_expired</key>
        <value>${execution.error:toLower():contains('-k requires a valid kerberos ticket but no valid kerberos ticket found')}</value>
    </entry>
    <entry>
        <key>memory_limit_exceeded</key>
        <value>${execution.error:toLower():contains('memory limit exceeded')}</value>
    </entry>
    <entry>
        <key>memory_oversubscribed</key>
        <value>${execution.error:toLower():contains('memory is likely oversubscribed.')}</value>
    </entry>
    <entry>
        <key>query_admission_timeout</key>
        <value>${execution.error:toLower():contains('admission for query exceeded timeout')}</value>
    </entry>
    <entry>
        <key>unreachable_impala_deamon</key>
        <value>${execution.error:toLower():contains('cancelled due to unreachable impalad(s)')}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Route on error type</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>hdfs_read_fail</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>kerberos_ticket_expired</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>memory_limit_exceeded</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>memory_oversubscribed</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>query_admission_timeout</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unreachable_impala_deamon</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>41babb0f-5a30-3993-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>1887.8644489878338</x>
<y>1335.4562129105043</y>
                            </position>
                            <versionedComponentId>41babb0f-5a30-3993-83aa-1c58302b62ba</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before doing another attempt to fill the staging table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>10 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>10 second delay</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>5993ad82-d8ed-3538-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>39.75752706596222</x>
<y>919.893896015973</y>
                            </position>
                            <versionedComponentId>5993ad82-d8ed-3538-8cbc-7c7420a5e86d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the query was cancelled because of an unreachable Impala Deamon.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Cause: Stats query for period ${start_ts} - ${end_ts} was cancelled because an Impala Deamon was unreachable.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Unreachable Impala Deamon</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>658440ce-47d1-3cd5-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>456.22474355766144</x>
<y>388.7971552933168</y>
                            </position>
                            <versionedComponentId>658440ce-47d1-3cd5-8645-a306453e460c</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that something went wrong trying to directly insert data into a production table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Failed attempt ${attempts} executing statistics query for period ${start_ts} - ${end_ts}.
Error details:
${execution.error}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on stats query</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>752f4531-9873-3e4a-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>1385.6784598357376</x>
<y>2120.472898587492</y>
                            </position>
                            <versionedComponentId>752f4531-9873-3e4a-babd-194e5ea45e6a</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Write to the log that Impala permanently fails to fill the staging table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>error</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Unable to execute statistics query for stats period ${start_ts} - ${end_ts}.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log error on Ingest Staging</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>7a3269e4-1d39-3532-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>1436.107790841121</x>
<y>1631.9967717901052</y>
                            </position>
                            <versionedComponentId>7a3269e4-1d39-3532-9b86-20c9047a916b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Execute a partition-level refresh to solve the HDFS read error.
This cheap refresh replaces the expensive "invalidate metadata" we used to run out of desperation.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/impala-shell</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-B;-k;-i;nardc02prod-impala.na-rdc02.nxp.com;-q;"${refresh_statement}"</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Run refresh statement</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>7c2027bb-b9aa-3ca8-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>982.3805622690838</x>
<y>1913.638265522809</y>
                            </position>
                            <versionedComponentId>7c2027bb-b9aa-3ca8-a80a-592d820d3528</versionedComponentId>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Increase the counter that keeps track of the number of staging table filling retries.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>stats_retry_counter</key>
        <value>
            <name>stats_retry_counter</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>stats_retry_counter</key>
        <value>${stats_retry_counter:isNull():ifElse(1, ${stats_retry_counter:plus(1)})}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Increase retry counter</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>84535216-a7f1-32cd-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>1887.8407103545364</x>
<y>922.257909687848</y>
                            </position>
                            <versionedComponentId>84535216-a7f1-32cd-9b3a-406ef51e80fe</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the query failed because of an unknown error.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Cause: Unidentified error while gathering stats for period ${start_ts} - ${end_ts}. Please investigate!</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Unidentified Error</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>a083e92d-ca5f-342d-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>468.36096466924596</x>
<y>1120.5614690557302</y>
                            </position>
                            <versionedComponentId>a083e92d-ca5f-342d-826f-185bc3d4e52b</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Try to refresh the expired Kerberos ticket by calling kinit.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Working Directory</key>
        <value>
            <name>Working Directory</name>
        </value>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>
            <name>Command Path</name>
        </value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>
            <name>argumentsStrategy</name>
        </value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Command Arguments</name>
        </value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>
            <dependencies>
                <dependentValues>Command Arguments Property</dependentValues>
                <propertyName>argumentsStrategy</propertyName>
            </dependencies>
            <name>Argument Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>
            <name>Ignore STDIN</name>
        </value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
        <value>
            <name>Output Destination Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>
            <name>Max Attribute Length</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Working Directory</key>
    </entry>
    <entry>
        <key>Command Path</key>
        <value>/bin/kinit</value>
    </entry>
    <entry>
        <key>argumentsStrategy</key>
        <value>Command Arguments Property</value>
    </entry>
    <entry>
        <key>Command Arguments</key>
        <value>-kt;/etc/security/keytab/hadoop_nifi_svc.keytab;hadoop_nifi_svc</value>
    </entry>
    <entry>
        <key>Argument Delimiter</key>
        <value>;</value>
    </entry>
    <entry>
        <key>Ignore STDIN</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Output Destination Attribute</key>
    </entry>
    <entry>
        <key>Max Attribute Length</key>
        <value>256</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Refresh Kerberos ticket (kinit)</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nonzero status</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>output stream</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                        </processors>
                        <processors>
                            <id>a7b97bdb-67dd-3eac-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>-434.5320466034714</x>
<y>918.416356953473</y>
                            </position>
                            <versionedComponentId>a7b97bdb-67dd-3eac-bccf-24f4b997ed10</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the query was killed because of oversubscribed memory.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Cause: Stats query for period ${start_ts} - ${end_ts} was killed because memory was oversubscribed (too many queries running at once).</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Memory Oversubscribed</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>b34589bb-a40b-3fba-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>471.6140868193802</x>
<y>906.5650996292543</y>
                            </position>
                            <versionedComponentId>b34589bb-a40b-3fba-87f9-c8a95c3cd436</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the query failed because of an expired Kerberos ticket.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Cause: Kerberos ticket was expired when gathering stats for period ${start_ts} - ${end_ts}.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Kerberos Ticket Expired</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>e6a53dd2-28aa-3b9e-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>1428.2703978545364</x>
<y>1376.8536738480043</y>
                            </position>
                            <versionedComponentId>e6a53dd2-28aa-3b9e-9c34-f5c279e34737</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the query failed because the Impala memory limit was exceeded.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Executing ${refresh_statement} for stats period ${start_ts} - ${end_ts}.
</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log refresh statement</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>e708f659-5d58-3fd1-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>481.81222219535675</x>
<y>2119.1464442337465</y>
                            </position>
                            <versionedComponentId>e708f659-5d58-3fd1-b1de-9c74e6957b19</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>If the retry counter has not reached it's maximum value yet, start another attempt to fill the staging table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>
            <name>toomanytries</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>toomanytries</key>
        <value>${stats_retry_counter:gt(10)}</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Continue until max tries</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>toomanytries</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>ed719797-c676-3c56-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>466.83551832377134</x>
<y>1344.2772578323793</y>
                            </position>
                            <versionedComponentId>ed719797-c676-3c56-be11-fb965583374d</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Wait a number of seconds before doing another attempt to fill the staging table.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Rate Control Criteria</key>
        <value>
            <name>Rate Control Criteria</name>
        </value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>
            <name>Time Duration</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate</dependentValues>
                <dependentValues>attribute value</dependentValues>
                <dependentValues>flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum Data Rate</name>
        </value>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
        <value>
            <dependencies>
                <dependentValues>data rate or flowfile count</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Maximum FlowFile Rate</name>
        </value>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
        <value>
            <dependencies>
                <dependentValues>attribute value</dependentValues>
                <propertyName>Rate Control Criteria</propertyName>
            </dependencies>
            <name>Rate Controlled Attribute</name>
        </value>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
        <value>
            <name>Grouping Attribute</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Rate Control Criteria</key>
        <value>flowfile count</value>
    </entry>
    <entry>
        <key>Time Duration</key>
        <value>60 sec</value>
    </entry>
    <entry>
        <key>Maximum Rate</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Maximum Data Rate</key>
    </entry>
    <entry>
        <key>Maximum FlowFile Rate</key>
    </entry>
    <entry>
        <key>Rate Controlled Attribute</key>
    </entry>
    <entry>
        <key>Grouping Attribute</key>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>60 second delay</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>failure</name>
<retry>false</retry>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ControlRate</type>
                        </processors>
                        <processors>
                            <id>f610226d-f304-304a-0000-000000000000</id>
                            <parentGroupId>2448906a-129b-3bef-0000-000000000000</parentGroupId>
                            <position>
<x>-888.5942795746628</x>
<y>912.053319844098</y>
                            </position>
                            <versionedComponentId>f610226d-f304-304a-83db-5af50134628e</versionedComponentId>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.23.2</version>
                            </bundle>
                            <config>
<backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
<bulletinLevel>WARN</bulletinLevel>
<comments>Log that the query was timed out while waiting for admission.</comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<maxBackoffPeriod>10 mins</maxBackoffPeriod>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>warn</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>icn8: </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>Cause: Stats query for period ${start_ts} - ${end_ts} was timed out before it could execute.</value>
    </entry>
</properties>
<retryCount>0</retryCount>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Log Query Admission Timeout</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
<retry>false</retry>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                    </contents>
                    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
                    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
                    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
                    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
                    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
                    <name>Stats query error handling (slightly modified copy of Ingest staging error handling)</name>
                    <variables/>
                </processGroups>
                <processors>
                    <id>04a3ab64-eee7-3baf-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-289.86998295541775</x>
                        <y>164.58942391241607</y>
                    </position>
                    <versionedComponentId>04a3ab64-eee7-3baf-9db3-7463afe68410</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Determine for which time frame the extraction of record counts per table / track-out time / loh_key will take place.
start_ts: 100 x 24 hours ago (CET)
end_ts: now (CET)</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>
    <name>end_ts</name>
</value>
                            </entry>
                            <entry>
<key>include_e3_bq_yn</key>
<value>
    <name>include_e3_bq_yn</name>
</value>
                            </entry>
                            <entry>
<key>include_temptation_bq_yn</key>
<value>
    <name>include_temptation_bq_yn</name>
</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>
    <name>start_ts</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>2023-03-10 00:00:00</value>
                            </entry>
                            <entry>
<key>include_e3_bq_yn</key>
<value>Y</value>
                            </entry>
                            <entry>
<key>include_temptation_bq_yn</key>
<value>Y</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>2023-03-09 00:00:00</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>10000 hours</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Determine time frame (custom period)</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>1723d2c0-b673-3db9-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-297.72457051034945</x>
                        <y>-343.00450251733247</y>
                    </position>
                    <versionedComponentId>1723d2c0-b673-3db9-85a3-5fb35f2d0c94</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Determine for which time frame the extraction of record counts per table / track-out time / loh_key will take place.
start_ts: 10 x 24 hours ago (CET)
end_ts: now (CET)

NOTE: Scheduled 5 minutes before the start of HDP_D_FIX in BRS, so that package can use data that is as up-to-date as possible!</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>
    <name>end_ts</name>
</value>
                            </entry>
                            <entry>
<key>include_e3_bq_yn</key>
<value>
    <name>include_e3_bq_yn</name>
</value>
                            </entry>
                            <entry>
<key>include_temptation_bq_yn</key>
<value>
    <name>include_temptation_bq_yn</name>
</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>
    <name>start_ts</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                            <entry>
<key>include_e3_bq_yn</key>
<value>N</value>
                            </entry>
                            <entry>
<key>include_temptation_bq_yn</key>
<value>N</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>${now():toNumber():minus(864000000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>40 20,50 * * * ?</schedulingPeriod>
                        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Determine time frame (10 x 24 hours)</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>1b8fa420-cb53-3a7b-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>416.59624746778695</x>
                        <y>148.88371927814694</y>
                    </position>
                    <versionedComponentId>1b8fa420-cb53-3a7b-b060-dea3353ac4a0</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                            <entry>
<key>filename</key>
<value>
    <name>filename</name>
</value>
                            </entry>
                            <entry>
<key>impala_mem_limit</key>
<value>
    <name>impala_mem_limit</name>
</value>
                            </entry>
                            <entry>
<key>impala_mem_limit_increment</key>
<value>
    <name>impala_mem_limit_increment</name>
</value>
                            </entry>
                            <entry>
<key>query</key>
<value>
    <name>query</name>
</value>
                            </entry>
                            <entry>
<key>use_hive_yn</key>
<value>
    <name>use_hive_yn</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                            <entry>
<key>filename</key>
<value>HDP_LOAD_STATS_${start_ts:replaceAll('[- :]','')}_${end_ts:replaceAll('[- :]','')}_${end_ts:replaceAll('[- :]','')}.hls</value>
                            </entry>
                            <entry>
<key>impala_mem_limit</key>
<value>5</value>
                            </entry>
                            <entry>
<key>impala_mem_limit_increment</key>
<value>5</value>
                            </entry>
                            <entry>
<key>query</key>
<value>/* ICN8/NiFi/BRSFeedback/CrossCheck */
  select
    'nifi_diamond_raw'                        table_name
  , substr (ndr.run_trackout_cet_ts, 1, 19)   trackout_cet_ts
  , nvl (ndr.run_loh_key, 0)                  loh_key
  , count (*)                                 num_records
  from
    mfg_icn8_data.nifi_diamond_raw  ndr
  where
        ndr.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and ndr.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and ndr.run_trackout_cet_ts    &gt;= '${start_ts}'
    and ndr.run_trackout_cet_ts     &lt; '${end_ts}'
    and ndr.run_trackout_cet_ts     &gt; '2020-04-01'
  group by
    ndr.run_loh_key
  , ndr.run_trackout_cet_ts
union all
  select
    'nifi_production_steps'  table_name
  , nps.trackout_cet_ts
  , nps.loh_key
  , count (*)                num_records
  from
    mfg_icn8_data.nifi_production_steps  nps
  where
        nps.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and nps.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and nps.trackout_cet_ts        &gt;= '${start_ts}'
    and nps.trackout_cet_ts         &lt; '${end_ts}'
  group by
    nps.loh_key
  , nps.trackout_cet_ts
union all
  select
    'nifi_metrology_raw'          table_name
  , nmr.meas_loh_trackout_cet_ts  trackout_cet_ts
  , nmr.meas_loh_key              loh_key
  , count (*)                     num_records
  from
    mfg_icn8_data.nifi_metrology_raw  nmr
  where
        nmr.p_from_trackout_cet_ts    &lt; '${end_ts}'
    and nmr.p_to_trackout_cet_ts      &gt; '${start_ts}'
    and nmr.meas_loh_trackout_cet_ts &gt;= '${start_ts}'
    and nmr.meas_loh_trackout_cet_ts  &lt; '${end_ts}'
  group by
    nmr.meas_loh_key
  , nmr.meas_loh_trackout_cet_ts
union all
  select
    'nifi_pcm_raw'           table_name
  , npr.loh_trackout_cet_ts  trackout_cet_ts
  , npr.loh_key              loh_key
  , count (*)                num_records
  from
    mfg_icn8_data.nifi_pcm_raw  npr
  where
        npr.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and npr.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and npr.loh_trackout_cet_ts    &gt;= '${start_ts}'
    and npr.loh_trackout_cet_ts     &lt; '${end_ts}'
  group by
    npr.loh_trackout_cet_ts
  , npr.loh_key
union all
  select
    'nifi_temptation_sum'    table_name
  , nts.loh_trackout_cet_ts  trackout_cet_ts
  , nts.loh_key              loh_key
  , count (*)                num_records
  from
    mfg_icn8_data.nifi_temptation_sum  nts
  where
        nts.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and nts.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and nts.loh_trackout_cet_ts    &gt;= '${start_ts}'
    and nts.loh_trackout_cet_ts     &lt; '${end_ts}'
    and nts.loh_trackout_cet_ts    &gt;= '2020-07-21'
  group by
    nts.loh_trackout_cet_ts
  , nts.loh_key
union all
  select
    'nifi_e3_sum'            table_name
  , nes.loh_trackout_cet_ts  trackout_cet_ts
  , nes.loh_key              loh_key
  , count (*)                num_records
  from
    mfg_icn8_data.nifi_e3_sum  nes
  where
        nes.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and nes.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and nes.loh_trackout_cet_ts    &gt;= '${start_ts}'
    and nes.loh_trackout_cet_ts     &lt; '${end_ts}'
  group by
    nes.loh_trackout_cet_ts
  , nes.loh_key
union all
  select
    'nifi_e3_uva'            table_name
  , neu.loh_trackout_cet_ts  trackout_cet_ts
  , neu.loh_key              loh_key
  , count (*)                num_records
  from
    mfg_icn8_data.nifi_e3_uva  neu
  where
        neu.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and neu.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and neu.loh_trackout_cet_ts    &gt;= '${start_ts}'
    and neu.loh_trackout_cet_ts     &lt; '${end_ts}'
  group by
    neu.loh_trackout_cet_ts
  , neu.loh_key
union all
  select
    'nifi_experiments'       table_name
  , ne.exp_cet_ts            trackout_cet_ts
  , ne.experiment_key        loh_key
  , count (*)                num_records
  from
    mfg_icn8_data.nifi_experiments  ne
  where
        ne.exp_cet_ts &gt;= '${start_ts}'
    and ne.exp_cet_ts  &lt; '${end_ts}'
  group by
    ne.exp_cet_ts
  , ne.experiment_key
union all
  select
    'nifi_tool_overlay_raw'  table_name
  , nor.trackout_cet_ts
  , nor.loh_key
  , count (*)                num_records
  from
    mfg_icn8_data.nifi_tool_overlay_raw  nor
  where
        nor.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and nor.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and nor.trackout_cet_ts        &gt;= '${start_ts}'
    and nor.trackout_cet_ts         &lt; '${end_ts}'
  group by
    nor.loh_key
  , nor.trackout_cet_ts
union all
  select
    'nifi_diamond_components'  table_name
  , '1900-01-01 00:00:00'      trackout_cet_ts
  , -1                         loh_key
  , count (*)                  num_records
  from
    mfg_icn8_data.nifi_diamond_components  ndc
union all
  select
    'nifi_process_runcards'  table_name
  , '1900-01-01 00:00:00'    trackout_cet_ts
  , -1                       loh_key
  , count (*)                num_records
  from
    mfg_icn8_data.nifi_process_runcards  npr
union all
  select
    'nifi_lotstatus'         table_name
  , nls.lot_creation_cet_ts  trackout_cet_ts
  , -1                       loh_key
  , count (*)                num_records
  from
    mfg_icn8_data.nifi_lot_status  nls
  where
        nls.lot_creation_cet_ts &gt;= '${start_ts}'
    and nls.lot_creation_cet_ts  &lt; '${end_ts}'
  group by
    nls.lot_creation_cet_ts
union all
  select
    'nifi_scrap'      table_name
  , nsc.scrap_cet_ts  trackout_cet_ts
  , nsc.scrap_key     loh_key
  , count (*)         num_records
  from
    mfg_icn8_data.nifi_scrap  nsc
  where
        nsc.scrap_cet_ts &gt;= '${start_ts}'
    and nsc.scrap_cet_ts  &lt; '${end_ts}'
    and nsc.scrap_key     &gt; 0
  group by
    nsc.scrap_cet_ts
  , nsc.scrap_key
union all
  select 
    'nifi_xsite_states_raw'                 table_name
  , substr (ndr.from_cet_ts, 1, 19)         trackout_cet_ts
  , 1                                       loh_key
  , count (*)                               num_records
  from
    mfg_icn8_data.nifi_xsite_states_raw  ndr
  where
        ndr.p_from_start_cet_ts  &lt; '${end_ts}'
    and ndr.p_to_start_cet_ts    &gt; '${start_ts}'
    and ndr.from_cet_ts          &gt;= '${start_ts}'
    and ndr.from_cet_ts          &lt; '${end_ts}'
  group by
    substr (ndr.from_cet_ts, 1, 19) 
union all
  select
    'nifi_base_wafer_production_steps'  table_name
  , nbw.trackout_cet_ts                 trackout_cet_ts
  , nbw.loh_key                         loh_key
  , count (*)                           num_records
  from
    mfg_icn8_apps.nifi_base_wafer_production_steps  nbw
  where
        nbw.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and nbw.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and nbw.trackout_cet_ts        &gt;= '${start_ts}'
    and nbw.trackout_cet_ts         &lt; '${end_ts}'
  group by
    nbw.trackout_cet_ts
  , nbw.loh_key
union all
  select
    'nifi_base_qualifications (TEMPTATION)'        table_name
  , nbq.loh_trackout_cet_ts                        trackout_cet_ts
  , nbq.loh_key                                    loh_key
  , count ( distinct
            nvl (nbq.lot                    , '')
          , nvl (nbq.meas_cet_ts            , '')
          , nvl (nbq.program                , '')
          , nvl (nbq.parameter              , '')
          , nvl (nbq.component              , '')
          , nvl (nbq.ttn_sub_recipe         , '')
          , nvl (nbq.ttn_recipe_process_step, '')
          , nvl (nbq.event                  , '')
          )                                        num_records
  from
    mfg_icn8_apps.nifi_base_qualifications  nbq
  where
        '${include_temptation_bq_yn}' in ('', 'Y')
    and nbq.p_parameter_type        = 'TEMPTATION'
    and nbq.p_aggregation_type     in ('lot', 'waf', 'site')
    and nbq.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and nbq.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and nbq.loh_trackout_cet_ts    &gt;= '${start_ts}'
    and nbq.loh_trackout_cet_ts     &lt; '${end_ts}'
    and nbq.loh_trackout_cet_ts    &gt;= '2020-07-21'
  group by
    nbq.loh_trackout_cet_ts
  , nbq.loh_key
  , nbq.p_parameter_type
union all
  select  /* Add a record to indicate that Temptation BQ data was sent (in case BQ happens to contain 0 Temptation records) */
    'nifi_base_qualifications (TEMPTATION)'  table_name
  , ''                                       trackout_cet_ts
  , -1                                       loh_key
  , -1                                       num_records
  from
    mfg_icn8_data.dual
  where
    '${include_temptation_bq_yn}' in ('', 'Y')
union all
  select
    'nifi_base_qualifications (E3)'                table_name
  , nbq.loh_trackout_cet_ts                        trackout_cet_ts
  , nbq.loh_key                                    loh_key
  , count ( distinct
            nvl (nbq.lot                    , '')
          , nvl (nbq.meas_cet_ts            , '')
          , nvl (nbq.program                , '')
          , nvl (nbq.parameter              , '')
          , nvl (nbq.component              , '')
          , nvl (nbq.ttn_sub_recipe         , '')
          , nvl (nbq.ttn_recipe_process_step, '')
          , nvl (nbq.event                  , '')
          ,      nbq.measured_value
          )                                        num_records
  from
    mfg_icn8_apps.nifi_base_qualifications  nbq
  where
        '${include_e3_bq_yn}'      in ('', 'Y')
    and nbq.p_parameter_type        = 'E3'
    and nbq.p_aggregation_type     in ('lot', 'waf', 'site')
    and nbq.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and nbq.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and nbq.loh_trackout_cet_ts    &gt;= '${start_ts}'
    and nbq.loh_trackout_cet_ts     &lt; '${end_ts}'
  group by
    nbq.loh_trackout_cet_ts
  , nbq.loh_key
  , nbq.p_parameter_type
union all
  select  /* Add a record to indicate that E3 BQ data was sent (in case BQ happens to contain 0 E3 records) */
    'nifi_base_qualifications (E3)'  table_name
  , ''                               trackout_cet_ts
  , -1                               loh_key
  , -1                               num_records
  from
    mfg_icn8_data.dual
  where
    '${include_e3_bq_yn}' in ('', 'Y')
union all
  select
    'nifi_base_qualifications (E3_UVA)'  table_name
  , nbq.loh_trackout_cet_ts              trackout_cet_ts
  , nbq.loh_key                          loh_key
  , count ( distinct
            nvl (nbq.lot        , '')
          , nvl (nbq.meas_cet_ts, '')
          , nvl (nbq.program    , '')
          , nvl (nbq.parameter  , '')
          , nvl (nbq.event      , '')
          )                              num_records
  from
    mfg_icn8_apps.nifi_base_qualifications  nbq
  where
        nbq.p_parameter_type        = 'E3_UVA'
    and nbq.p_aggregation_type     in ('lot', 'waf', 'site')
    and nbq.p_from_trackout_cet_ts  &lt; '${end_ts}'
    and nbq.p_to_trackout_cet_ts    &gt; '${start_ts}'
    and nbq.loh_trackout_cet_ts    &gt;= '${start_ts}'
    and nbq.loh_trackout_cet_ts     &lt; '${end_ts}'
  group by
    nbq.loh_trackout_cet_ts
  , nbq.loh_key
  , nbq.p_parameter_type
union all
  select
    concat ('nifi_base_qualifications ('
           , p_parameter_type
           , ')'
           )                              table_name
  , nbq.loh_trackout_cet_ts               trackout_cet_ts
  , nbq.loh_key                           loh_key
  , count (*)                             num_records
  from
    mfg_icn8_apps.nifi_base_qualifications  nbq
  where
            (     nbq.p_parameter_type         in ('EDC', 'Overlay', 'PCM', 'TRACING_EQP', 'TRACING_COMP', 'DIAMOND_TIMES')
              or  nbq.p_parameter_type       like 'OQ%'
            )
    and           nbq.p_aggregation_type       in ('lot', 'waf', 'site')
    and           nbq.p_from_trackout_cet_ts    &lt; '${end_ts}'
    and           nbq.p_to_trackout_cet_ts      &gt; '${start_ts}'
    and           nbq.loh_trackout_cet_ts      &gt;= '${start_ts}'
    and           nbq.loh_trackout_cet_ts       &lt; '${end_ts}'
    and not (     p_parameter_type             in ('TRACING_COMP', 'DIAMOND_TIMES')
              and nbq.loh_trackout_cet_ts       &lt; '2020-04-01'
            )
    and not (     p_parameter_type              = 'TRACING_COMP'
              and program                       = 'TRACING_COMP_TTN'
            )  /* 2022-08-01 FvH: Don't count the component tracing records from Temptation, otherwise we cannot compare to BRS */
  group by
    concat ( 'nifi_base_qualifications ('
           , p_parameter_type
           , ')'
           )
  , nbq.loh_trackout_cet_ts
  , nbq.loh_key
  , nbq.p_parameter_type
order by
  table_name
, trackout_cet_ts
, loh_key
;</value>
                            </entry>
                            <entry>
<key>use_hive_yn</key>
<value>Y</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Determine query and filename</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>1e44c21b-198e-3a72-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>3270.6629973497375</x>
                        <y>435.72923763181495</y>
                    </position>
                    <versionedComponentId>1e44c21b-198e-3a72-b361-398e30804932</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/users/hadoop_nifi_svc/scripts/icn8/Impala_Check.sh</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>NiFi_Loading</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Run Impala check query - NiFi Loading</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>3787d15d-0e5e-3f38-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>412.67426381544203</x>
                        <y>-293.26392769752096</y>
                    </position>
                    <versionedComponentId>3787d15d-0e5e-3f38-9e0e-654e8c5b8c3e</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>In BRS, job HDP_D_FIX is responsible for detecting differences between table contents in BRS and Hadoop, and taking actions for repairing any mismatches. For this, the job uses the table statistics that are sent from Hadoop to BRS every 30 minutes.
Any files that are processed between the start of the statistics export and the start of job HDP_D_FIX will lead to the statistics not being up-to-date.
To avoid repair actions being started because of outdated statistics, job HDP_D_FIX doesn't take any action for any file type/day combination for which a file is present in the not_in_stats directory.
All files that have been processed are moved to this directory. Just before the statistics export is started, the not_in_stats directory is cleared. This mechanism should minimize the chance of an unnecessary repair action being started.

NOTE: For some reason, NiFi refuses to execute the rm command properly. Therefore, it was put in a shell script.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
<value>/users/hadoop_nifi_svc/scripts/icn8/</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/users/hadoop_nifi_svc/scripts/icn8/clear_not_in_stats_folder.sh</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>true</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Clear not_in_stats folder</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>48d2333b-1bba-3b0a-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>2817.8524158025166</x>
                        <y>137.12795616949614</y>
                    </position>
                    <versionedComponentId>48d2333b-1bba-3b0a-953d-6f57efaec9d5</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Once every 5 minutes, start an Impala test query simulating an PMI-View user (using the Impala queue for interactive applications!), and send the execution time, number of records, exit code and error message to BRS.
In BRS, action can be taken if the last n queries were not properly executed.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 */5 * * * ?</schedulingPeriod>
                        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Start Impala check query - PMI IQ</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>49ecc230-ff21-3624-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>2383.4298430528625</x>
                        <y>421.22603328611183</y>
                    </position>
                    <versionedComponentId>49ecc230-ff21-3624-b7e1-73e27ecb385b</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/users/hadoop_nifi_svc/scripts/icn8/Impala_Check.sh</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>PMI_View_default_queue</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Run Impala check query - PMI DQ</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>4ef7f0ba-4c2f-3501-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>496.0</x>
                        <y>1352.0</y>
                    </position>
                    <versionedComponentId>4ef7f0ba-4c2f-3501-90d3-bc2a2754b3eb</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>log-level</key>
<value>
    <name>log-level</name>
</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>
    <name>log-prefix</name>
</value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>
    <name>log-message</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>log-level</key>
<value>info</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>icn8: </value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>Succesfully sent statistics for period ${start_ts} - ${end_ts}.</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Log successful send</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.LogMessage</type>
                </processors>
                <processors>
                    <id>4f3f19d5-410c-3b4b-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>1323.0017859959983</x>
                        <y>-269.8120739284653</y>
                    </position>
                    <versionedComponentId>4f3f19d5-410c-3b4b-a069-ac634bb14fed</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Start and stop this component to send 1 SWS-file to BRS (for the last 10 days).
</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>
    <name>end_ts</name>
</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>
    <name>start_ts</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>${now():toNumber():minus(864000000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>1 day</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>SWS FB - Manual feedback</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>72b3d5d0-5998-34ae-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>424.0</x>
                        <y>384.0</y>
                    </position>
                    <versionedComponentId>72b3d5d0-5998-34ae-b051-bb391cc1840f</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Set the priority of the flowfile to 99999999999999 minus the end_ts timestamp of the flowfile.
When using a queue with PriorityAttributePrioritizer enabled, the queue will release the flowfile with the highest end_ts timestamp first.
This way, we can give flowfiles for recent time intervals precedence over historical (re)loads.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                            <entry>
<key>priority</key>
<value>
    <name>priority</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                            <entry>
<key>priority</key>
<value>${literal(99999999999999)
  :minus(${end_ts
           :replaceAll("-", "")
           :replaceAll(" ", "")
           :replaceAll(":", "")
          }
        )
 }</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Set flowfile priority</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>7a4be2d7-8d62-3ed0-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>3268.2124926206093</x>
                        <y>676.4606705245706</y>
                    </position>
                    <versionedComponentId>7a4be2d7-8d62-3ed0-bc17-9f97b6e8aa46</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>7e8f47b7-b418-3a7d-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>2391.4922777768593</x>
                        <y>673.8244400558206</y>
                    </position>
                    <versionedComponentId>7e8f47b7-b418-3a7d-8378-568eeeb3156a</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>8915c50b-d290-338c-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>879.4292762303733</x>
                        <y>-270.44238398705903</y>
                    </position>
                    <versionedComponentId>8915c50b-d290-338c-9b1b-e1c642c0813c</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Determine for which time frame the extraction of Single Wafer Scrap will take place (= the last 10 days)
</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>
    <name>end_ts</name>
</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>
    <name>start_ts</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>${now():toNumber():minus(864000000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 30 22 * * ?</schedulingPeriod>
                        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>SWS FB - Determine time frame </name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>8b3c6c33-b1ad-30ed-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>1953.0101306462668</x>
                        <y>127.9464528735977</y>
                    </position>
                    <versionedComponentId>8b3c6c33-b1ad-30ed-8527-f92af0b4e7c8</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Once every 5 minutes, start an Impala test query simulating an PMI-View user, and send the execution time, number of records, exit code and error message to BRS.
In BRS, action can be taken if the last n queries were not properly executed.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 */5 * * * ?</schedulingPeriod>
                        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Start Impala check query - PMI-View</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>8f96f053-5ab8-3354-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-721.0444699447949</x>
                        <y>68.01062797098098</y>
                    </position>
                    <versionedComponentId>8f96f053-5ab8-3354-aa25-39047c6af770</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>log-level</key>
<value>
    <name>log-level</name>
</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>
    <name>log-prefix</name>
</value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>
    <name>log-message</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>log-level</key>
<value>info</value>
                            </entry>
                            <entry>
<key>log-prefix</key>
<value>icn8: </value>
                            </entry>
                            <entry>
<key>log-message</key>
<value>Cross check request file received for period ${start_ts} - ${end_ts}.</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Log cross check request</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.LogMessage</type>
                </processors>
                <processors>
                    <id>94ea088c-f168-36f1-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-711.0050711446981</x>
                        <y>-487.94431119216733</y>
                    </position>
                    <versionedComponentId>94ea088c-f168-36f1-b30d-beb722b91df9</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>From the "incoming" folder in the dropzone, get the names of all "cross check request" trigger files that were sent from BRS.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Input Directory</key>
<value>
    <name>Input Directory</name>
</value>
                            </entry>
                            <entry>
<key>listing-strategy</key>
<value>
    <name>listing-strategy</name>
</value>
                            </entry>
                            <entry>
<key>Recurse Subdirectories</key>
<value>
    <name>Recurse Subdirectories</name>
</value>
                            </entry>
                            <entry>
<key>record-writer</key>
<value>
    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
    <name>record-writer</name>
</value>
                            </entry>
                            <entry>
<key>Input Directory Location</key>
<value>
    <name>Input Directory Location</name>
</value>
                            </entry>
                            <entry>
<key>File Filter</key>
<value>
    <name>File Filter</name>
</value>
                            </entry>
                            <entry>
<key>Path Filter</key>
<value>
    <name>Path Filter</name>
</value>
                            </entry>
                            <entry>
<key>Include File Attributes</key>
<value>
    <name>Include File Attributes</name>
</value>
                            </entry>
                            <entry>
<key>Minimum File Age</key>
<value>
    <name>Minimum File Age</name>
</value>
                            </entry>
                            <entry>
<key>Maximum File Age</key>
<value>
    <name>Maximum File Age</name>
</value>
                            </entry>
                            <entry>
<key>Minimum File Size</key>
<value>
    <name>Minimum File Size</name>
</value>
                            </entry>
                            <entry>
<key>Maximum File Size</key>
<value>
    <name>Maximum File Size</name>
</value>
                            </entry>
                            <entry>
<key>Ignore Hidden Files</key>
<value>
    <name>Ignore Hidden Files</name>
</value>
                            </entry>
                            <entry>
<key>target-system-timestamp-precision</key>
<value>
    <name>target-system-timestamp-precision</name>
</value>
                            </entry>
                            <entry>
<key>et-state-cache</key>
<value>
    <identifiesControllerService>org.apache.nifi.distributed.cache.client.DistributedMapCacheClient</identifiesControllerService>
    <name>et-state-cache</name>
</value>
                            </entry>
                            <entry>
<key>et-time-window</key>
<value>
    <name>et-time-window</name>
</value>
                            </entry>
                            <entry>
<key>et-initial-listing-target</key>
<value>
    <name>et-initial-listing-target</name>
</value>
                            </entry>
                            <entry>
<key>et-node-identifier</key>
<value>
    <name>et-node-identifier</name>
</value>
                            </entry>
                            <entry>
<key>track-performance</key>
<value>
    <name>track-performance</name>
</value>
                            </entry>
                            <entry>
<key>max-performance-metrics</key>
<value>
    <name>max-performance-metrics</name>
</value>
                            </entry>
                            <entry>
<key>max-operation-time</key>
<value>
    <name>max-operation-time</name>
</value>
                            </entry>
                            <entry>
<key>max-listing-time</key>
<value>
    <name>max-listing-time</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Input Directory</key>
<value>/etl/dropzone/icn8/incoming</value>
                            </entry>
                            <entry>
<key>listing-strategy</key>
<value>entities</value>
                            </entry>
                            <entry>
<key>Recurse Subdirectories</key>
<value>false</value>
                            </entry>
                            <entry>
<key>record-writer</key>
                            </entry>
                            <entry>
<key>Input Directory Location</key>
<value>Remote</value>
                            </entry>
                            <entry>
<key>File Filter</key>
<value>^HDP_.*[0-9]{14}_[0-9]{14}_([0-9]{14})\.*(ccr)$</value>
                            </entry>
                            <entry>
<key>Path Filter</key>
                            </entry>
                            <entry>
<key>Include File Attributes</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Minimum File Age</key>
<value>0 sec</value>
                            </entry>
                            <entry>
<key>Maximum File Age</key>
                            </entry>
                            <entry>
<key>Minimum File Size</key>
<value>0 B</value>
                            </entry>
                            <entry>
<key>Maximum File Size</key>
                            </entry>
                            <entry>
<key>Ignore Hidden Files</key>
<value>true</value>
                            </entry>
                            <entry>
<key>target-system-timestamp-precision</key>
<value>auto-detect</value>
                            </entry>
                            <entry>
<key>et-state-cache</key>
<value>95455bef-8076-3037-0000-000000000000</value>
                            </entry>
                            <entry>
<key>et-time-window</key>
<value>3 hours</value>
                            </entry>
                            <entry>
<key>et-initial-listing-target</key>
<value>all</value>
                            </entry>
                            <entry>
<key>et-node-identifier</key>
<value>same</value>
                            </entry>
                            <entry>
<key>track-performance</key>
<value>false</value>
                            </entry>
                            <entry>
<key>max-performance-metrics</key>
<value>100000</value>
                            </entry>
                            <entry>
<key>max-operation-time</key>
<value>10 secs</value>
                            </entry>
                            <entry>
<key>max-listing-time</key>
<value>3 mins</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>10 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Get cross check request files</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style>
                        <entry>
                            <key>background-color</key>
                            <value>#ffffff</value>
                        </entry>
                    </style>
                    <type>org.apache.nifi.processors.standard.ListFile</type>
                </processors>
                <processors>
                    <id>9b57a763-357d-3df9-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>1956.4949633237345</x>
                        <y>660.8390121993752</y>
                    </position>
                    <versionedComponentId>9b57a763-357d-3df9-ad17-b6333d853a1a</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>9eb9be7d-fe66-3918-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>1958.9454680528625</x>
                        <y>420.10757930661964</y>
                    </position>
                    <versionedComponentId>9eb9be7d-fe66-3918-8c89-3dd0d4b27a66</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/users/hadoop_nifi_svc/scripts/icn8/Impala_Check.sh</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>PMI_View</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Run Impala check query - PMI-View</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>9ffcc588-3f0b-3216-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>3264.7276599431416</x>
                        <y>143.56811119879302</y>
                    </position>
                    <versionedComponentId>9ffcc588-3f0b-3216-9a29-0c406e3bbe30</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Once every 5 minutes, start an Impala test query simulating a typical NiFi loading query, and send the execution time, number of records, exit code and error message to BRS.
In BRS, action can be taken if the last n queries were not properly executed.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 */5 * * * ?</schedulingPeriod>
                        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Start Impala check query - NiFi Loading</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>a8195065-2ec7-3010-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-292.64683842416775</x>
                        <y>-31.58722899590913</y>
                    </position>
                    <versionedComponentId>a8195065-2ec7-3010-b36c-4b93bf19c0c9</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Determine for which time frame the extraction of record counts per table / track-out time / loh_key will take place.
start_ts: 100 x 24 hours ago (CET)
end_ts: now (CET)</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>
    <name>end_ts</name>
</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>
    <name>start_ts</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>2017-12-30 06:30:00</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>6 hours</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Determine time frame (2017-12-30 06:30)</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>a8a421a4-c2b2-3238-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>232.0</x>
                        <y>840.0</y>
                    </position>
                    <versionedComponentId>a8a421a4-c2b2-3238-86e7-33e2d2454820</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/users/hadoop_nifi_svc/scripts/icn8/run_impala_query.sh</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>-i;nardc02prod-impala.na-rdc02.nxp.com;-B;--query="
set request_pool=root.default;
set mem_limit=${impala_mem_limit}G;
${query}
";--print_header;--output_delimiter=,</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Execute Impala Query</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>b1dfce3f-b374-3b54-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-718.4906973654013</x>
                        <y>-119.19790239011127</y>
                    </position>
                    <versionedComponentId>b1dfce3f-b374-3b54-a24d-b45482d3c4ab</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Split the file name into its components:
* source: the original filename
* valid_from: valid from time (string representation)
* valid_to: valid from time (string representation)
* generated: time at which the file was generated (string representation)
* generated_day: calendar day at which the file was generated (YYYYMMDD)</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>
    <name>end_ts</name>
</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>
    <name>start_ts</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>${filename:replaceAll('^.*[0-9]{14}_([0-9]{14})_[0-9]{14}.*$','$1'):toDate ('yyyyMMddHHmmss'):format("yyyy-MM-dd HH:mm:ss")}</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>${filename:replaceAll('^.*([0-9]{14})_[0-9]{14}_[0-9]{14}.*$','$1'):toDate ('yyyyMMddHHmmss'):format("yyyy-MM-dd HH:mm:ss")}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Determine time frame of cross check request</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>b308718e-e69b-3b39-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>878.658991608412</x>
                        <y>138.98587687092038</y>
                    </position>
                    <versionedComponentId>b308718e-e69b-3b39-a0e9-6ccbad06bb94</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                            <entry>
<key>filename</key>
<value>
    <name>filename</name>
</value>
                            </entry>
                            <entry>
<key>impala_mem_limit</key>
<value>
    <name>impala_mem_limit</name>
</value>
                            </entry>
                            <entry>
<key>impala_mem_limit_increment</key>
<value>
    <name>impala_mem_limit_increment</name>
</value>
                            </entry>
                            <entry>
<key>query</key>
<value>
    <name>query</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                            <entry>
<key>filename</key>
<value>HDP_SINGLE_WAFER_SCRAP_${start_ts:replaceAll('[- :]','')}_${end_ts:replaceAll('[- :]','')}_${end_ts:replaceAll('[- :]','')}.sws</value>
                            </entry>
                            <entry>
<key>impala_mem_limit</key>
<value>2</value>
                            </entry>
                            <entry>
<key>impala_mem_limit_increment</key>
<value>5</value>
                            </entry>
                            <entry>
<key>query</key>
<value>-- ICN8/NiFi/BRSFeedback/SWS
select
  lot
, num_wafers
, wafers
, component
, regexp_replace (object, '[^\x00-\xFF]', '')                      object
, object_type
, num_wafers_step
, num_bad
, num_good
, outlier
, min_bad
, max_bad
, min_good
, max_good
, distance
, avg_good
, std_good
, state
, proc_state
, scrap_type
, prod_period
, scrap_cet_ts
, terminate_cet_ts
, admin_scrap_cet_ts
, product
, process
, esort_scrap_code
, maverick
, scrap_suspect_technical_stage
, scrap_suspect_flow_stage
, regexp_replace (scrap_suspect_process_step, '[^\x00-\xFF]', '')  scrap_suspect_process_step
, cause_contained
, incident
, scrap_code
, proc_key
, rec_owner
, cause_code
, section_cause_code
, ccd_description
, replace (detailed_description, ',', '')                          detailed_description
, loh_trackout_cet_ts
, loh_technical_stage
, loh_flow_stage
, loh_step
, loh_equipment
, scrap_key
, total
, scrap_correlate_type
, good_wafers
from
  mfg_icn8_apps.nifi_single_wafer_scrap_hits
where
   scrap_cet_ts &gt;= '${start_ts}'  /* 2020-03-17 FvH: To save on diskspace / BRS processing time, only sent 2020 (and later) data */
                                  /* 2022-03-16 FvH: To save on diskspace / BRS processing time, only sent 2022 (and later) data */
                                  /* 2023-02-06 FvH: To save on diskspace / BRS processing time, only sent 2023 (and later) data */
                                  /* 2023-09-18 FvH: Permanent beep reduction: always only extract the last n days               */
;
</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>SWS FB - Determine query and filename</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>bad1b892-4d95-3bf6-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-716.0621771166227</x>
                        <y>-302.8318892787762</y>
                    </position>
                    <versionedComponentId>bad1b892-4d95-3bf6-8130-0b2060cceda0</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Remove the current cross check request file from the "incoming" directory.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/bin/rm</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>-f;/etl/dropzone/icn8/incoming/${filename}</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>true</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Remove cross check request file</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>bb08a954-6ca2-3ed3-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>414.85610834326576</x>
                        <y>-502.5952071609763</y>
                    </position>
                    <versionedComponentId>bb08a954-6ca2-3ed3-8357-d169efd9ae85</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>bd1ebdcb-81e2-334d-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-1272.0</x>
                        <y>816.0</y>
                    </position>
                    <versionedComponentId>bd1ebdcb-81e2-334d-a0eb-d26b7eeee90f</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>be03753c-2801-382e-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>2380.4984118962666</x>
                        <y>133.5703542407852</y>
                    </position>
                    <versionedComponentId>be03753c-2801-382e-92f5-c624f74cd48a</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Once every 5 minutes, start an Impala test query simulating an PMI-View user (using the default Impala queue!), and send the execution time, number of records, exit code and error message to BRS.
In BRS, action can be taken if the last n queries were not properly executed.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 */5 * * * ?</schedulingPeriod>
                        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Start Impala check query - PMI DQ</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>c6ede933-b788-3df3-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>2820.7838469591125</x>
                        <y>424.78363521482277</y>
                    </position>
                    <versionedComponentId>c6ede933-b788-3df3-969f-5c799374a572</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/users/hadoop_nifi_svc/scripts/icn8/Impala_Check.sh</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>PMI_View_interactive_queue</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Run Impala check query - PMI DQ</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>ca58ee30-42d7-3099-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>4046.9952074643593</x>
                        <y>678.3689041671487</y>
                    </position>
                    <versionedComponentId>ca58ee30-42d7-3099-8c04-83f951cd1f80</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>cbdf3759-051e-3150-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>736.0</x>
                        <y>840.0</y>
                    </position>
                    <versionedComponentId>cbdf3759-051e-3150-93af-23d71c9c2a39</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>8</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/bin/beeline</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>--outputformat=csv2;-e;"${query}"</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Execute Hive Query</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
                <processors>
                    <id>d097da0c-9e67-3f94-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>432.0</x>
                        <y>600.0</y>
                    </position>
                    <versionedComponentId>d097da0c-9e67-3f94-bb67-11e310659a24</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>If attribute use_hive_yn equals "Y", use Hive (Beeline) instead of Impala to execute the query. This should prevent the issue of the query spilling too much memory.</comments>
                        <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Routing Strategy</key>
<value>
    <name>Routing Strategy</name>
</value>
                            </entry>
                            <entry>
<key>yes</key>
<value>
    <name>yes</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Routing Strategy</key>
<value>Route to Property name</value>
                            </entry>
                            <entry>
<key>yes</key>
<value>${use_hive_yn:startsWith('Y')}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Use Hive for query?</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>unmatched</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>yes</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                </processors>
                <processors>
                    <id>e26a3dfd-031e-316f-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-294.13317417856234</x>
                        <y>-187.3100178066391</y>
                    </position>
                    <versionedComponentId>e26a3dfd-031e-316f-a8ea-24416fa00de3</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Determine for which time frame the extraction of record counts per table / track-out time / loh_key will take place.
start_ts: 100 x 24 hours ago (CET)
end_ts: now (CET)

NOTE: Scheduled 5 minutes after the start of HDP_D_FIX in BRS, so there's enough time for HDP_E_HLS to load this big file and the subsequent smaller files before HDP_D_FIX runs again.</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>
    <name>end_ts</name>
</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>
    <name>start_ts</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>${now():toNumber():minus(8640000000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 5 22 * * ?</schedulingPeriod>
                        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Determine time frame (100 x 24 hours)</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>e6a59bdb-5ba8-3dc0-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-293.7245552515604</x>
                        <y>-490.41885493432466</y>
                    </position>
                    <versionedComponentId>e6a59bdb-5ba8-3dc0-8cf6-ecceb3fe0414</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Determine for which time frame the extraction of record counts per table / track-out time / loh_key will take place.
start_ts: 10 x 24 hours ago (CET)
end_ts: now (CET)

NOTE: Scheduled 5 minutes before the start of HDP_D_FIX in BRS, so that package can use data that is as up-to-date as possible!</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>
    <name>end_ts</name>
</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>
    <name>start_ts</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>${now():toNumber():format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>${now():toNumber():minus(259200000):format('yyyy-MM-dd HH:mm:ss', 'CET')}</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>40 45 * * * ?</schedulingPeriod>
                        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Determine time frame (3 x 24 hours)</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>e8a65b60-73e6-334e-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>2828.8462816831093</x>
                        <y>677.3820419845315</y>
                    </position>
                    <versionedComponentId>e8a65b60-73e6-334e-83d9-39eed878c4ca</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>ec2e9373-e7a4-3149-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>4040.9648654485127</x>
                        <y>151.61181809271392</y>
                    </position>
                    <versionedComponentId>ec2e9373-e7a4-3149-9aeb-8ca93d124672</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments>Determine for which time frame the extraction of record counts per table / track-out time / loh_key will take place.
start_ts: 100 x 24 hours ago (CET)
end_ts: now (CET)</comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>File Size</key>
<value>
    <name>File Size</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>
    <name>Data Format</name>
</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>
    <name>Unique FlowFiles</name>
</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
<value>
    <name>generate-ff-custom-text</name>
</value>
                            </entry>
                            <entry>
<key>character-set</key>
<value>
    <name>character-set</name>
</value>
                            </entry>
                            <entry>
<key>mime-type</key>
<value>
    <name>mime-type</name>
</value>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>
    <name>end_ts</name>
</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>
    <name>start_ts</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>File Size</key>
<value>0B</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>Data Format</key>
<value>Text</value>
                            </entry>
                            <entry>
<key>Unique FlowFiles</key>
<value>false</value>
                            </entry>
                            <entry>
<key>generate-ff-custom-text</key>
                            </entry>
                            <entry>
<key>character-set</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>mime-type</key>
                            </entry>
                            <entry>
<key>end_ts</key>
<value>2021-01-19 00:00:00</value>
                            </entry>
                            <entry>
<key>start_ts</key>
<value>2021-01-01 00:00:00</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 */30 * * * ?</schedulingPeriod>
                        <schedulingStrategy>CRON_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>PMI-View logging to table</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.GenerateFlowFile</type>
                </processors>
                <processors>
                    <id>f373fd78-4cf6-3416-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>-160.0</x>
                        <y>1128.0</y>
                    </position>
                    <versionedComponentId>f373fd78-4cf6-3416-ba7f-07332404f305</versionedComponentId>
                    <bundle>
                        <artifact>nifi-update-attribute-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Delete Attributes Expression</key>
<value>
    <name>Delete Attributes Expression</name>
</value>
                            </entry>
                            <entry>
<key>Store State</key>
<value>
    <name>Store State</name>
</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
<value>
    <name>Stateful Variables Initial Value</name>
</value>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>
    <name>canonical-value-lookup-cache-size</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Delete Attributes Expression</key>
                            </entry>
                            <entry>
<key>Store State</key>
<value>Do not store state</value>
                            </entry>
                            <entry>
<key>Stateful Variables Initial Value</key>
                            </entry>
                            <entry>
<key>canonical-value-lookup-cache-size</key>
<value>100</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>Dummy</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                </processors>
                <processors>
                    <id>f3c9c1e2-71f5-3094-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>504.0</x>
                        <y>1128.0</y>
                    </position>
                    <versionedComponentId>f3c9c1e2-71f5-3094-b746-22d427d1e4f8</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Hostname</key>
<value>
    <name>Hostname</name>
</value>
                            </entry>
                            <entry>
<key>Port</key>
<value>
    <name>Port</name>
</value>
                            </entry>
                            <entry>
<key>Username</key>
<value>
    <name>Username</name>
</value>
                            </entry>
                            <entry>
<key>Password</key>
<value>
    <name>Password</name>
</value>
                            </entry>
                            <entry>
<key>Private Key Path</key>
<value>
    <name>Private Key Path</name>
</value>
                            </entry>
                            <entry>
<key>Private Key Passphrase</key>
<value>
    <name>Private Key Passphrase</name>
</value>
                            </entry>
                            <entry>
<key>Remote Path</key>
<value>
    <name>Remote Path</name>
</value>
                            </entry>
                            <entry>
<key>Create Directory</key>
<value>
    <name>Create Directory</name>
</value>
                            </entry>
                            <entry>
<key>Disable Directory Listing</key>
<value>
    <name>Disable Directory Listing</name>
</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>
    <name>Batch Size</name>
</value>
                            </entry>
                            <entry>
<key>Connection Timeout</key>
<value>
    <name>Connection Timeout</name>
</value>
                            </entry>
                            <entry>
<key>Data Timeout</key>
<value>
    <name>Data Timeout</name>
</value>
                            </entry>
                            <entry>
<key>Conflict Resolution</key>
<value>
    <name>Conflict Resolution</name>
</value>
                            </entry>
                            <entry>
<key>Reject Zero-Byte Files</key>
<value>
    <name>Reject Zero-Byte Files</name>
</value>
                            </entry>
                            <entry>
<key>Dot Rename</key>
<value>
    <name>Dot Rename</name>
</value>
                            </entry>
                            <entry>
<key>Temporary Filename</key>
<value>
    <name>Temporary Filename</name>
</value>
                            </entry>
                            <entry>
<key>Host Key File</key>
<value>
    <name>Host Key File</name>
</value>
                            </entry>
                            <entry>
<key>Last Modified Time</key>
<value>
    <name>Last Modified Time</name>
</value>
                            </entry>
                            <entry>
<key>Permissions</key>
<value>
    <name>Permissions</name>
</value>
                            </entry>
                            <entry>
<key>Remote Owner</key>
<value>
    <name>Remote Owner</name>
</value>
                            </entry>
                            <entry>
<key>Remote Group</key>
<value>
    <name>Remote Group</name>
</value>
                            </entry>
                            <entry>
<key>Strict Host Key Checking</key>
<value>
    <name>Strict Host Key Checking</name>
</value>
                            </entry>
                            <entry>
<key>Send Keep Alive On Timeout</key>
<value>
    <name>Send Keep Alive On Timeout</name>
</value>
                            </entry>
                            <entry>
<key>Use Compression</key>
<value>
    <name>Use Compression</name>
</value>
                            </entry>
                            <entry>
<key>proxy-configuration-service</key>
<value>
    <identifiesControllerService>org.apache.nifi.proxy.ProxyConfigurationService</identifiesControllerService>
    <name>proxy-configuration-service</name>
</value>
                            </entry>
                            <entry>
<key>Proxy Type</key>
<value>
    <name>Proxy Type</name>
</value>
                            </entry>
                            <entry>
<key>Proxy Host</key>
<value>
    <name>Proxy Host</name>
</value>
                            </entry>
                            <entry>
<key>Proxy Port</key>
<value>
    <name>Proxy Port</name>
</value>
                            </entry>
                            <entry>
<key>Http Proxy Username</key>
<value>
    <name>Http Proxy Username</name>
</value>
                            </entry>
                            <entry>
<key>Http Proxy Password</key>
<value>
    <name>Http Proxy Password</name>
</value>
                            </entry>
                            <entry>
<key>Ciphers Allowed</key>
<value>
    <name>Ciphers Allowed</name>
</value>
                            </entry>
                            <entry>
<key>Key Algorithms Allowed</key>
<value>
    <name>Key Algorithms Allowed</name>
</value>
                            </entry>
                            <entry>
<key>Key Exchange Algorithms Allowed</key>
<value>
    <name>Key Exchange Algorithms Allowed</name>
</value>
                            </entry>
                            <entry>
<key>Message Authentication Codes Allowed</key>
<value>
    <name>Message Authentication Codes Allowed</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Hostname</key>
<value>nardc02hdpnp011.na-rdc02.nxp.com</value>
                            </entry>
                            <entry>
<key>Port</key>
<value>22</value>
                            </entry>
                            <entry>
<key>Username</key>
<value>hadoop_nifi_svc</value>
                            </entry>
                            <entry>
<key>Password</key>
                            </entry>
                            <entry>
<key>Private Key Path</key>
<value>/users/hadoop_nifi_svc/.ssh/id_rsa</value>
                            </entry>
                            <entry>
<key>Private Key Passphrase</key>
                            </entry>
                            <entry>
<key>Remote Path</key>
<value>/etl/dropzone/icn8/outgoing</value>
                            </entry>
                            <entry>
<key>Create Directory</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Disable Directory Listing</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Batch Size</key>
<value>500</value>
                            </entry>
                            <entry>
<key>Connection Timeout</key>
<value>30 sec</value>
                            </entry>
                            <entry>
<key>Data Timeout</key>
<value>30 sec</value>
                            </entry>
                            <entry>
<key>Conflict Resolution</key>
<value>NONE</value>
                            </entry>
                            <entry>
<key>Reject Zero-Byte Files</key>
<value>true</value>
                            </entry>
                            <entry>
<key>Dot Rename</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Temporary Filename</key>
<value>{$filename}tmp</value>
                            </entry>
                            <entry>
<key>Host Key File</key>
                            </entry>
                            <entry>
<key>Last Modified Time</key>
                            </entry>
                            <entry>
<key>Permissions</key>
                            </entry>
                            <entry>
<key>Remote Owner</key>
                            </entry>
                            <entry>
<key>Remote Group</key>
                            </entry>
                            <entry>
<key>Strict Host Key Checking</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Send Keep Alive On Timeout</key>
<value>true</value>
                            </entry>
                            <entry>
<key>Use Compression</key>
<value>false</value>
                            </entry>
                            <entry>
<key>proxy-configuration-service</key>
                            </entry>
                            <entry>
<key>Proxy Type</key>
<value>DIRECT</value>
                            </entry>
                            <entry>
<key>Proxy Host</key>
                            </entry>
                            <entry>
<key>Proxy Port</key>
                            </entry>
                            <entry>
<key>Http Proxy Username</key>
                            </entry>
                            <entry>
<key>Http Proxy Password</key>
                            </entry>
                            <entry>
<key>Ciphers Allowed</key>
                            </entry>
                            <entry>
<key>Key Algorithms Allowed</key>
                            </entry>
                            <entry>
<key>Key Exchange Algorithms Allowed</key>
                            </entry>
                            <entry>
<key>Message Authentication Codes Allowed</key>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>PutSFTP</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>failure</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>reject</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                        <retry>false</retry>
                    </relationships>
                    <state>RUNNING</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.PutSFTP</type>
                </processors>
                <processors>
                    <id>f4b339bf-18f0-3af0-0000-000000000000</id>
                    <parentGroupId>de66d0ee-c6c0-3fc7-0000-000000000000</parentGroupId>
                    <position>
                        <x>4044.4977141466125</x>
                        <y>431.03978450681495</y>
                    </position>
                    <versionedComponentId>f4b339bf-18f0-3af0-8d6a-c24eeecaa61d</versionedComponentId>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.23.2</version>
                    </bundle>
                    <config>
                        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>Working Directory</key>
<value>
    <name>Working Directory</name>
</value>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>
    <name>Command Path</name>
</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>
    <name>argumentsStrategy</name>
</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Command Arguments</name>
</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>
    <dependencies>
        <dependentValues>Command Arguments Property</dependentValues>
        <propertyName>argumentsStrategy</propertyName>
    </dependencies>
    <name>Argument Delimiter</name>
</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>
    <name>Ignore STDIN</name>
</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
<value>
    <name>Output Destination Attribute</name>
</value>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>
    <name>Max Attribute Length</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>PRIMARY</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>Working Directory</key>
                            </entry>
                            <entry>
<key>Command Path</key>
<value>/users/hadoop_nifi_svc/scripts/icn8/PMI-View_logging_to_table.sh</value>
                            </entry>
                            <entry>
<key>argumentsStrategy</key>
<value>Command Arguments Property</value>
                            </entry>
                            <entry>
<key>Command Arguments</key>
<value>NiFi_Loading</value>
                            </entry>
                            <entry>
<key>Argument Delimiter</key>
<value>;</value>
                            </entry>
                            <entry>
<key>Ignore STDIN</key>
<value>false</value>
                            </entry>
                            <entry>
<key>Output Destination Attribute</key>
                            </entry>
                            <entry>
<key>Max Attribute Length</key>
<value>256</value>
                            </entry>
                        </properties>
                        <retryCount>0</retryCount>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>PMI-View logging to table - shell script</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>nonzero status</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>original</name>
                        <retry>false</retry>
                    </relationships>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>output stream</name>
                        <retry>false</retry>
                    </relationships>
                    <state>DISABLED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.ExecuteStreamCommand</type>
                </processors>
            </contents>
            <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
            <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
            <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
            <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
            <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
            <name>ICN8 BRS Feedback</name>
            <variables/>
        </processGroups>
    </snippet>
    <timestamp>05/06/2025 01:23:25 MST</timestamp>
</template>
